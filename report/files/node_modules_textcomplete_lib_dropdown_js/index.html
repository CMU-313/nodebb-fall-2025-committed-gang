<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Plato - node_modules/textcomplete/lib/dropdown.js</title>

  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="">
  <meta name="author" content="">

  <!--[if lt IE 9]>
  <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
  <![endif]-->

  <link href="../../assets/css/vendor/morris.css" rel="stylesheet" type="text/css">
  <link href="../../assets/css/vendor/bootstrap.css" rel="stylesheet" type="text/css">
  <link href="../../assets/css/vendor/font-awesome.css" rel="stylesheet" type="text/css">
  <link href="../../assets/css/vendor/codemirror.css" rel="stylesheet" type="text/css">
  <link href="../../assets/css/plato.css" rel="stylesheet" type="text/css">
  <link href="../../assets/css/plato-file.css" rel="stylesheet" type="text/css">

</head>

<body>

<div class="navbar navbar-fixed-top">
  <div class="container">
    <a class="navbar-brand" href="https://github.com/the-simian/es6-plato">ES6 Plato on Github</a>
    <ul class="nav navbar-nav">
      <li>
        <a href="../../index.html">Report Home</a>
      </li>
      <li class="active">
        <a href="display.html">Summary Display</a>
      </li>
    </ul>
  </div>
</div>

<div class="jumbotron">
  <div class="container">
    <h1>node_modules/textcomplete/lib/dropdown.js</h1>
  </div>
</div>

<div class="container aggregate-stats">
  <div class="row">
    <div class="col-md-6">
      <h2 class="header">Maintainability <a href="http://blogs.msdn.com/b/codeanalysis/archive/2007/11/20/maintainability-index-range-and-meaning.aspx"><i class="icon icon-info-sign" rel="popover" data-placement="top" data-trigger="hover" data-content="A value between 0 and 100 that represents the relative ease of maintaining the code. A high value means better maintainability." data-original-title="Maintainability Index"  data-container="body"></i></a></h2>
      <p class="stat">66.62</p>
    </div>
    <div class="col-md-6">
      <h2 class="header">Lines of code <i class="icon icon-info-sign" rel="popover" data-placement="top" data-trigger="hover" data-content="Source Lines of Code / Logical Lines of Code" data-original-title="SLOC/LSLOC" data-container="body"></i></h2>
      <p class="stat">390</p>
    </div>
  </div>
  <div class="row historical">
    <div class="col-md-6">
      <p id="chart_historical_maint" class="chart"></p>
    </div>
    <div class="col-md-6">
      <p id="chart_historical_sloc" class="chart"></p>
    </div>
  </div>
  <div class="row">
    <div class="col-md-6">
      <h2 class="header">Difficulty  <a href="http://en.wikipedia.org/wiki/Halstead_complexity_measures"><i class="icon icon-info-sign" rel="popover" data-placement="top" data-trigger="hover" data-content="The difficulty measure is related to the difficulty of the program to write or understand." data-original-title="Difficulty" data-container="body"></i></a></h2>
      <p class="stat">49.89</p>
    </div>
    <div class="col-md-6">
      <h2 class="header">Estimated Errors  <a href="http://en.wikipedia.org/wiki/Halstead_complexity_measures"><i class="icon icon-info-sign" rel="popover" data-placement="top" data-trigger="hover" data-content="Halstead's delivered bugs is an estimate for the number of errors in the implementation." data-original-title="Delivered Bugs" data-container="body"></i></a></h2>
      <p class="stat">3.85</p>
    </div>
  </div>
</div>

<div class="container charts">
  <div class="row">
    <h2 class="header">Function weight</h2>
  </div>
  <div class="row">
    <div class="col-md-6">
      <h3 class="chart-header">By Complexity <a href="http://en.wikipedia.org/wiki/Cyclomatic_complexity"><i class="icon icon-info-sign" rel="popover" data-placement="top" data-trigger="hover" data-content="This metric counts the number of distinct paths through a block of code. Lower values are better." data-original-title="Cyclomatic Complexity" data-container="body"></i></a></h3>
      <div id="fn-by-complexity" class="stat"></div>
    </div>
    <div class="col-md-6">
      <h3 class="chart-header">By SLOC  <i class="icon icon-info-sign" rel="popover" data-placement="top" data-trigger="hover" data-content="Source Lines of Code / Logical Lines of Code" data-original-title="SLOC/LSLOC" data-container="body"></i></h3>
      <div id="fn-by-sloc" class="stat"></div>
    </div>
  </div>
</div>

<div class="container">
  <div class="row">
    <textarea id="file-source" class="col-md-12">&quot;use strict&quot;;

Object.defineProperty(exports, &quot;__esModule&quot;, {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i &lt; props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (&quot;value&quot; in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _eventemitter = require(&quot;eventemitter3&quot;);

var _eventemitter2 = _interopRequireDefault(_eventemitter);

var _dropdown_item = require(&quot;./dropdown_item&quot;);

var _dropdown_item2 = _interopRequireDefault(_dropdown_item);

var _search_result = require(&quot;./search_result&quot;);

var _search_result2 = _interopRequireDefault(_search_result);

var _utils = require(&quot;./utils&quot;);

function _interopRequireDefault(obj) { return obj &amp;&amp; obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(&quot;Cannot call a class as a function&quot;); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(&quot;this hasn&#039;t been initialised - super() hasn&#039;t been called&quot;); } return call &amp;&amp; (typeof call === &quot;object&quot; || typeof call === &quot;function&quot;) ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== &quot;function&quot; &amp;&amp; superClass !== null) { throw new TypeError(&quot;Super expression must either be null or a function, not &quot; + typeof superClass); } subClass.prototype = Object.create(superClass &amp;&amp; superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var DEFAULT_CLASS_NAME = &quot;dropdown-menu textcomplete-dropdown&quot;;

/** @typedef */

/**
 * Encapsulate a dropdown view.
 *
 * @prop {boolean} shown - Whether the #el is shown or not.
 * @prop {DropdownItem[]} items - The array of rendered dropdown items.
 */
var Dropdown = function (_EventEmitter) {
  _inherits(Dropdown, _EventEmitter);

  _createClass(Dropdown, null, [{
    key: &quot;createElement&quot;,
    value: function createElement(parent) {
      var el = document.createElement(&quot;ul&quot;);
      var style = el.style;
      style.display = &quot;none&quot;;
      style.position = &quot;absolute&quot;;
      style.zIndex = &quot;10000&quot;;
      if (parent) {
        parent.appendChild(el);
      } else {
        var body = document.body;
        if (body) {
          body.appendChild(el);
        }
      }
      return el;
    }
  }]);

  function Dropdown(options) {
    _classCallCheck(this, Dropdown);

    var _this = _possibleConstructorReturn(this, (Dropdown.__proto__ || Object.getPrototypeOf(Dropdown)).call(this));

    _this._parent = options.parent;
    _this.shown = false;
    _this.items = [];
    _this.activeItem = null;
    _this.footer = options.footer;
    _this.header = options.header;
    _this.maxCount = options.maxCount || 10;
    _this.el.className = options.className || DEFAULT_CLASS_NAME;
    _this.rotate = options.hasOwnProperty(&quot;rotate&quot;) ? options.rotate : true;
    _this.placement = options.placement;
    _this.itemOptions = options.item || {};
    var style = options.style;
    if (style) {
      Object.keys(style).forEach(function (key) {
        ;_this.el.style[key] = style[key];
      });
    }
    return _this;
  }

  /**
   * @return {this}
   */


  _createClass(Dropdown, [{
    key: &quot;destroy&quot;,
    value: function destroy() {
      var parentNode = this.el.parentNode;
      if (parentNode) {
        parentNode.removeChild(this.el);
      }
      this._parent = null;
      this.clear()._el = null;
      return this;
    }
  }, {
    key: &quot;render&quot;,


    /**
     * Render the given data as dropdown items.
     *
     * @return {this}
     */
    value: function render(searchResults, cursorOffset) {
      var _this2 = this;

      var renderEvent = (0, _utils.createCustomEvent)(&quot;render&quot;, { cancelable: true });
      this.emit(&quot;render&quot;, renderEvent);
      if (renderEvent.defaultPrevented) {
        return this;
      }
      var rawResults = searchResults.map(function (searchResult) {
        return searchResult.data;
      });
      var dropdownItems = searchResults.slice(0, this.maxCount || searchResults.length).map(function (searchResult) {
        return new _dropdown_item2.default(searchResult, _this2.itemOptions);
      });
      this.clear().setStrategyId(searchResults[0]).renderEdge(rawResults, &quot;header&quot;).append(dropdownItems).renderEdge(rawResults, &quot;footer&quot;).show().setOffset(cursorOffset);
      this.emit(&quot;rendered&quot;, (0, _utils.createCustomEvent)(&quot;rendered&quot;));
      return this;
    }

    /**
     * Hide the dropdown then sweep out items.
     *
     * @return {this}
     */

  }, {
    key: &quot;deactivate&quot;,
    value: function deactivate() {
      return this.hide().clear();
    }

    /**
     * @return {this}
     */

  }, {
    key: &quot;select&quot;,
    value: function select(dropdownItem) {
      var detail = { searchResult: dropdownItem.searchResult };
      var selectEvent = (0, _utils.createCustomEvent)(&quot;select&quot;, {
        cancelable: true,
        detail: detail
      });
      this.emit(&quot;select&quot;, selectEvent);
      if (selectEvent.defaultPrevented) {
        return this;
      }
      this.deactivate();
      this.emit(&quot;selected&quot;, (0, _utils.createCustomEvent)(&quot;selected&quot;, { detail: detail }));
      return this;
    }

    /**
     * @return {this}
     */

  }, {
    key: &quot;up&quot;,
    value: function up(e) {
      return this.shown ? this.moveActiveItem(&quot;prev&quot;, e) : this;
    }

    /**
     * @return {this}
     */

  }, {
    key: &quot;down&quot;,
    value: function down(e) {
      return this.shown ? this.moveActiveItem(&quot;next&quot;, e) : this;
    }

    /**
     * Retrieve the active item.
     */

  }, {
    key: &quot;getActiveItem&quot;,
    value: function getActiveItem() {
      return this.activeItem;
    }

    /**
     * Add items to dropdown.
     *
     * @private
     */

  }, {
    key: &quot;append&quot;,
    value: function append(items) {
      var _this3 = this;

      var fragment = document.createDocumentFragment();
      items.forEach(function (item) {
        _this3.items.push(item);
        item.appended(_this3);
        fragment.appendChild(item.el);
      });
      this.el.appendChild(fragment);
      return this;
    }

    /** @private */

  }, {
    key: &quot;setOffset&quot;,
    value: function setOffset(cursorOffset) {
      var doc = document.documentElement;
      if (doc) {
        var elementWidth = this.el.offsetWidth;
        if (cursorOffset.left) {
          var browserWidth = doc.clientWidth;
          if (cursorOffset.left + elementWidth &gt; browserWidth) {
            cursorOffset.left = browserWidth - elementWidth;
          }
          this.el.style.left = cursorOffset.left + &quot;px&quot;;
        } else if (cursorOffset.right) {
          if (cursorOffset.right - elementWidth &lt; 0) {
            cursorOffset.right = 0;
          }
          this.el.style.right = cursorOffset.right + &quot;px&quot;;
        }

        var forceTop = false;

        if (this.isPlacementAuto()) {
          var dropdownHeight = this.items.length * cursorOffset.lineHeight;

          if (cursorOffset.clientTop + dropdownHeight &gt; doc.clientHeight) {
            forceTop = true;
          }
        }

        if (this.isPlacementTop() || forceTop) {
          this.el.style.bottom = doc.clientHeight - cursorOffset.top + cursorOffset.lineHeight + &quot;px&quot;;
          this.el.style.top = &quot;auto&quot;;
        } else {
          this.el.style.top = cursorOffset.top + &quot;px&quot;;
          this.el.style.bottom = &quot;auto&quot;;
        }
      }
      return this;
    }

    /**
     * Show the element.
     *
     * @private
     */

  }, {
    key: &quot;show&quot;,
    value: function show() {
      if (!this.shown) {
        var showEvent = (0, _utils.createCustomEvent)(&quot;show&quot;, { cancelable: true });
        this.emit(&quot;show&quot;, showEvent);
        if (showEvent.defaultPrevented) {
          return this;
        }
        this.el.style.display = &quot;block&quot;;
        this.shown = true;
        this.emit(&quot;shown&quot;, (0, _utils.createCustomEvent)(&quot;shown&quot;));
      }
      return this;
    }

    /**
     * Hide the element.
     *
     * @private
     */

  }, {
    key: &quot;hide&quot;,
    value: function hide() {
      if (this.shown) {
        var hideEvent = (0, _utils.createCustomEvent)(&quot;hide&quot;, { cancelable: true });
        this.emit(&quot;hide&quot;, hideEvent);
        if (hideEvent.defaultPrevented) {
          return this;
        }
        this.el.style.display = &quot;none&quot;;
        this.shown = false;
        this.emit(&quot;hidden&quot;, (0, _utils.createCustomEvent)(&quot;hidden&quot;));
      }
      return this;
    }

    /**
     * Clear search results.
     *
     * @private
     */

  }, {
    key: &quot;clear&quot;,
    value: function clear() {
      this.el.innerHTML = &quot;&quot;;
      this.items.forEach(function (item) {
        return item.destroy();
      });
      this.items = [];
      return this;
    }

    /** @private */

  }, {
    key: &quot;moveActiveItem&quot;,
    value: function moveActiveItem(direction, e) {
      var nextActiveItem = direction === &quot;next&quot; ? this.activeItem ? this.activeItem.next : this.items[0] : this.activeItem ? this.activeItem.prev : this.items[this.items.length - 1];
      if (nextActiveItem) {
        nextActiveItem.activate();
        e.preventDefault();
      }
      return this;
    }

    /** @private */

  }, {
    key: &quot;setStrategyId&quot;,
    value: function setStrategyId(searchResult) {
      var strategyId = searchResult &amp;&amp; searchResult.strategy.props.id;
      if (strategyId) {
        this.el.setAttribute(&quot;data-strategy&quot;, strategyId);
      } else {
        this.el.removeAttribute(&quot;data-strategy&quot;);
      }
      return this;
    }

    /**
     * @private
     * @param {object[]} rawResults - What callbacked by search function.
     */

  }, {
    key: &quot;renderEdge&quot;,
    value: function renderEdge(rawResults, type) {
      var source = (type === &quot;header&quot; ? this.header : this.footer) || &quot;&quot;;
      var content = typeof source === &quot;function&quot; ? source(rawResults) : source;
      var li = document.createElement(&quot;li&quot;);
      li.classList.add(&quot;textcomplete-&quot; + type);
      li.innerHTML = content;
      this.el.appendChild(li);
      return this;
    }

    /** @private */

  }, {
    key: &quot;isPlacementTop&quot;,
    value: function isPlacementTop() {
      return this.placement === &quot;top&quot;;
    }
  }, {
    key: &quot;isPlacementAuto&quot;,
    value: function isPlacementAuto() {
      return this.placement === &quot;auto&quot;;
    }
  }, {
    key: &quot;el&quot;,
    get: function get() {
      if (!this._el) {
        this._el = Dropdown.createElement(this._parent);
      }
      return this._el;
    }
  }]);

  return Dropdown;
}(_eventemitter2.default);

exports.default = Dropdown;
//# sourceMappingURL=dropdown.js.map</textarea>
  </div>
</div>

<footer class="footer">
  <div class="container">
    <p>.</p>
  </div>
</footer>

<script type="text/html" id="complexity-popover-template">
  <div class="complexity-notice">
    Complexity : {{ complexity.cyclomatic }} <br>
    Length : {{ complexity.halstead.length }} <br>
    Difficulty : {{ complexity.halstead.difficulty.toFixed(2) }} <br>
    Est # bugs : {{ complexity.halstead.bugs.toFixed(2) }}<br>
  </div>
</script>

<script type="text/javascript" src="../../assets/scripts/bundles/core-bundle.js"></script>
<script type="text/javascript" src="../../assets/scripts/bundles/codemirror.js"></script>
<script type="text/javascript" src="../../assets/scripts/codemirror.markpopovertext.js"></script>
<script type="text/javascript" src="report.js"></script>
<script type="text/javascript" src="report.history.js"></script>
<script type="text/javascript" src="../../assets/scripts/plato-file.js"></script>
</body>
</html>
