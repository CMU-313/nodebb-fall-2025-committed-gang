<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Plato - node_modules/webpack/lib/stats/DefaultStatsPresetPlugin.js</title>

  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="">
  <meta name="author" content="">

  <!--[if lt IE 9]>
  <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
  <![endif]-->

  <link href="../../assets/css/vendor/morris.css" rel="stylesheet" type="text/css">
  <link href="../../assets/css/vendor/bootstrap.css" rel="stylesheet" type="text/css">
  <link href="../../assets/css/vendor/font-awesome.css" rel="stylesheet" type="text/css">
  <link href="../../assets/css/vendor/codemirror.css" rel="stylesheet" type="text/css">
  <link href="../../assets/css/plato.css" rel="stylesheet" type="text/css">
  <link href="../../assets/css/plato-file.css" rel="stylesheet" type="text/css">

</head>

<body>

<div class="navbar navbar-fixed-top">
  <div class="container">
    <a class="navbar-brand" href="https://github.com/the-simian/es6-plato">ES6 Plato on Github</a>
    <ul class="nav navbar-nav">
      <li>
        <a href="../../index.html">Report Home</a>
      </li>
      <li class="active">
        <a href="display.html">Summary Display</a>
      </li>
    </ul>
  </div>
</div>

<div class="jumbotron">
  <div class="container">
    <h1>node_modules/webpack/lib/stats/DefaultStatsPresetPlugin.js</h1>
  </div>
</div>

<div class="container aggregate-stats">
  <div class="row">
    <div class="col-md-6">
      <h2 class="header">Maintainability <a href="http://blogs.msdn.com/b/codeanalysis/archive/2007/11/20/maintainability-index-range-and-meaning.aspx"><i class="icon icon-info-sign" rel="popover" data-placement="top" data-trigger="hover" data-content="A value between 0 and 100 that represents the relative ease of maintaining the code. A high value means better maintainability." data-original-title="Maintainability Index"  data-container="body"></i></a></h2>
      <p class="stat">80.91</p>
    </div>
    <div class="col-md-6">
      <h2 class="header">Lines of code <i class="icon icon-info-sign" rel="popover" data-placement="top" data-trigger="hover" data-content="Source Lines of Code / Logical Lines of Code" data-original-title="SLOC/LSLOC" data-container="body"></i></h2>
      <p class="stat">412</p>
    </div>
  </div>
  <div class="row historical">
    <div class="col-md-6">
      <p id="chart_historical_maint" class="chart"></p>
    </div>
    <div class="col-md-6">
      <p id="chart_historical_sloc" class="chart"></p>
    </div>
  </div>
  <div class="row">
    <div class="col-md-6">
      <h2 class="header">Difficulty  <a href="http://en.wikipedia.org/wiki/Halstead_complexity_measures"><i class="icon icon-info-sign" rel="popover" data-placement="top" data-trigger="hover" data-content="The difficulty measure is related to the difficulty of the program to write or understand." data-original-title="Difficulty" data-container="body"></i></a></h2>
      <p class="stat">44.85</p>
    </div>
    <div class="col-md-6">
      <h2 class="header">Estimated Errors  <a href="http://en.wikipedia.org/wiki/Halstead_complexity_measures"><i class="icon icon-info-sign" rel="popover" data-placement="top" data-trigger="hover" data-content="Halstead's delivered bugs is an estimate for the number of errors in the implementation." data-original-title="Delivered Bugs" data-container="body"></i></a></h2>
      <p class="stat">3.00</p>
    </div>
  </div>
</div>

<div class="container charts">
  <div class="row">
    <h2 class="header">Function weight</h2>
  </div>
  <div class="row">
    <div class="col-md-6">
      <h3 class="chart-header">By Complexity <a href="http://en.wikipedia.org/wiki/Cyclomatic_complexity"><i class="icon icon-info-sign" rel="popover" data-placement="top" data-trigger="hover" data-content="This metric counts the number of distinct paths through a block of code. Lower values are better." data-original-title="Cyclomatic Complexity" data-container="body"></i></a></h3>
      <div id="fn-by-complexity" class="stat"></div>
    </div>
    <div class="col-md-6">
      <h3 class="chart-header">By SLOC  <i class="icon icon-info-sign" rel="popover" data-placement="top" data-trigger="hover" data-content="Source Lines of Code / Logical Lines of Code" data-original-title="SLOC/LSLOC" data-container="body"></i></h3>
      <div id="fn-by-sloc" class="stat"></div>
    </div>
  </div>
</div>

<div class="container">
  <div class="row">
    <textarea id="file-source" class="col-md-12">/*
	MIT License http://www.opensource.org/licenses/mit-license.php
	Author Tobias Koppers @sokra
*/

&quot;use strict&quot;;

const RequestShortener = require(&quot;../RequestShortener&quot;);

/** @typedef {import(&quot;../../declarations/WebpackOptions&quot;).StatsOptions} StatsOptions */
/** @typedef {import(&quot;../../declarations/WebpackOptions&quot;).StatsValue} StatsValue */
/** @typedef {import(&quot;../Compilation&quot;)} Compilation */
/** @typedef {import(&quot;../Compilation&quot;).CreateStatsOptionsContext} CreateStatsOptionsContext */
/** @typedef {import(&quot;../Compilation&quot;).KnownNormalizedStatsOptions} KnownNormalizedStatsOptions */
/** @typedef {import(&quot;../Compilation&quot;).NormalizedStatsOptions} NormalizedStatsOptions */
/** @typedef {import(&quot;../Compiler&quot;)} Compiler */
/** @typedef {import(&quot;./DefaultStatsFactoryPlugin&quot;).StatsError} StatsError */

/**
 * @param {Partial&lt;NormalizedStatsOptions&gt;} options options
 * @param {StatsOptions} defaults default options
 */
const applyDefaults = (options, defaults) =&gt; {
	for (const _k of Object.keys(defaults)) {
		const key = /** @type {keyof StatsOptions} */ (_k);
		if (typeof options[key] === &quot;undefined&quot;) {
			options[/** @type {keyof NormalizedStatsOptions} */ (key)] =
				defaults[key];
		}
	}
};

/** @typedef {{ [Key in Exclude&lt;StatsValue, boolean | object | &quot;normal&quot;&gt;]: StatsOptions }} NamedPresets */

/** @type {NamedPresets} */
const NAMED_PRESETS = {
	verbose: {
		hash: true,
		builtAt: true,
		relatedAssets: true,
		entrypoints: true,
		chunkGroups: true,
		ids: true,
		modules: false,
		chunks: true,
		chunkRelations: true,
		chunkModules: true,
		dependentModules: true,
		chunkOrigins: true,
		depth: true,
		env: true,
		reasons: true,
		usedExports: true,
		providedExports: true,
		optimizationBailout: true,
		errorDetails: true,
		errorStack: true,
		errorCause: true,
		errorErrors: true,
		publicPath: true,
		logging: &quot;verbose&quot;,
		orphanModules: true,
		runtimeModules: true,
		exclude: false,
		errorsSpace: Infinity,
		warningsSpace: Infinity,
		modulesSpace: Infinity,
		chunkModulesSpace: Infinity,
		assetsSpace: Infinity,
		reasonsSpace: Infinity,
		children: true
	},
	detailed: {
		hash: true,
		builtAt: true,
		relatedAssets: true,
		entrypoints: true,
		chunkGroups: true,
		ids: true,
		chunks: true,
		chunkRelations: true,
		chunkModules: false,
		chunkOrigins: true,
		depth: true,
		usedExports: true,
		providedExports: true,
		optimizationBailout: true,
		errorDetails: true,
		errorCause: true,
		errorErrors: true,
		publicPath: true,
		logging: true,
		runtimeModules: true,
		exclude: false,
		errorsSpace: 1000,
		warningsSpace: 1000,
		modulesSpace: 1000,
		assetsSpace: 1000,
		reasonsSpace: 1000
	},
	minimal: {
		all: false,
		version: true,
		timings: true,
		modules: true,
		errorsSpace: 0,
		warningsSpace: 0,
		modulesSpace: 0,
		assets: true,
		assetsSpace: 0,
		errors: true,
		errorsCount: true,
		warnings: true,
		warningsCount: true,
		logging: &quot;warn&quot;
	},
	&quot;errors-only&quot;: {
		all: false,
		errors: true,
		errorsCount: true,
		errorsSpace: Infinity,
		moduleTrace: true,
		logging: &quot;error&quot;
	},
	&quot;errors-warnings&quot;: {
		all: false,
		errors: true,
		errorsCount: true,
		errorsSpace: Infinity,
		warnings: true,
		warningsCount: true,
		warningsSpace: Infinity,
		logging: &quot;warn&quot;
	},
	summary: {
		all: false,
		version: true,
		errorsCount: true,
		warningsCount: true
	},
	none: {
		all: false
	}
};

/**
 * @param {Partial&lt;NormalizedStatsOptions&gt;} all stats option
 * @returns {boolean} true when enabled, otherwise false
 */
const NORMAL_ON = ({ all }) =&gt; all !== false;
/**
 * @param {Partial&lt;NormalizedStatsOptions&gt;} all stats option
 * @returns {boolean} true when enabled, otherwise false
 */
const NORMAL_OFF = ({ all }) =&gt; all === true;
/**
 * @param {Partial&lt;NormalizedStatsOptions&gt;} all stats option
 * @param {CreateStatsOptionsContext} forToString stats options context
 * @returns {boolean} true when enabled, otherwise false
 */
const ON_FOR_TO_STRING = ({ all }, { forToString }) =&gt;
	forToString ? all !== false : all === true;
/**
 * @param {Partial&lt;NormalizedStatsOptions&gt;} all stats option
 * @param {CreateStatsOptionsContext} forToString stats options context
 * @returns {boolean} true when enabled, otherwise false
 */
const OFF_FOR_TO_STRING = ({ all }, { forToString }) =&gt;
	forToString ? all === true : all !== false;
/**
 * @param {Partial&lt;NormalizedStatsOptions&gt;} all stats option
 * @param {CreateStatsOptionsContext} forToString stats options context
 * @returns {boolean | &quot;auto&quot;} true when enabled, otherwise false
 */
const AUTO_FOR_TO_STRING = ({ all }, { forToString }) =&gt; {
	if (all === false) return false;
	if (all === true) return true;
	if (forToString) return &quot;auto&quot;;
	return true;
};

/** @typedef {keyof NormalizedStatsOptions} DefaultsKeys */
/** @typedef {{ [Key in DefaultsKeys]: (options: Partial&lt;NormalizedStatsOptions&gt;, context: CreateStatsOptionsContext, compilation: Compilation) =&gt; NormalizedStatsOptions[Key] | RequestShortener }} Defaults */

/** @type {Partial&lt;Defaults&gt;} */
const DEFAULTS = {
	context: (options, context, compilation) =&gt; compilation.compiler.context,
	requestShortener: (options, context, compilation) =&gt;
		compilation.compiler.context === options.context
			? compilation.requestShortener
			: new RequestShortener(
					/** @type {string} */
					(options.context),
					compilation.compiler.root
				),
	performance: NORMAL_ON,
	hash: OFF_FOR_TO_STRING,
	env: NORMAL_OFF,
	version: NORMAL_ON,
	timings: NORMAL_ON,
	builtAt: OFF_FOR_TO_STRING,
	assets: NORMAL_ON,
	entrypoints: AUTO_FOR_TO_STRING,
	chunkGroups: OFF_FOR_TO_STRING,
	chunkGroupAuxiliary: OFF_FOR_TO_STRING,
	chunkGroupChildren: OFF_FOR_TO_STRING,
	chunkGroupMaxAssets: (o, { forToString }) =&gt; (forToString ? 5 : Infinity),
	chunks: OFF_FOR_TO_STRING,
	chunkRelations: OFF_FOR_TO_STRING,
	chunkModules: ({ all, modules }) =&gt; {
		if (all === false) return false;
		if (all === true) return true;
		if (modules) return false;
		return true;
	},
	dependentModules: OFF_FOR_TO_STRING,
	chunkOrigins: OFF_FOR_TO_STRING,
	ids: OFF_FOR_TO_STRING,
	modules: ({ all, chunks, chunkModules }, { forToString }) =&gt; {
		if (all === false) return false;
		if (all === true) return true;
		if (forToString &amp;&amp; chunks &amp;&amp; chunkModules) return false;
		return true;
	},
	nestedModules: OFF_FOR_TO_STRING,
	groupModulesByType: ON_FOR_TO_STRING,
	groupModulesByCacheStatus: ON_FOR_TO_STRING,
	groupModulesByLayer: ON_FOR_TO_STRING,
	groupModulesByAttributes: ON_FOR_TO_STRING,
	groupModulesByPath: ON_FOR_TO_STRING,
	groupModulesByExtension: ON_FOR_TO_STRING,
	modulesSpace: (o, { forToString }) =&gt; (forToString ? 15 : Infinity),
	chunkModulesSpace: (o, { forToString }) =&gt; (forToString ? 10 : Infinity),
	nestedModulesSpace: (o, { forToString }) =&gt; (forToString ? 10 : Infinity),
	relatedAssets: OFF_FOR_TO_STRING,
	groupAssetsByEmitStatus: ON_FOR_TO_STRING,
	groupAssetsByInfo: ON_FOR_TO_STRING,
	groupAssetsByPath: ON_FOR_TO_STRING,
	groupAssetsByExtension: ON_FOR_TO_STRING,
	groupAssetsByChunk: ON_FOR_TO_STRING,
	assetsSpace: (o, { forToString }) =&gt; (forToString ? 15 : Infinity),
	orphanModules: OFF_FOR_TO_STRING,
	runtimeModules: ({ all, runtime }, { forToString }) =&gt;
		runtime !== undefined
			? runtime
			: forToString
				? all === true
				: all !== false,
	cachedModules: ({ all, cached }, { forToString }) =&gt;
		cached !== undefined ? cached : forToString ? all === true : all !== false,
	moduleAssets: OFF_FOR_TO_STRING,
	depth: OFF_FOR_TO_STRING,
	cachedAssets: OFF_FOR_TO_STRING,
	reasons: OFF_FOR_TO_STRING,
	reasonsSpace: (o, { forToString }) =&gt; (forToString ? 15 : Infinity),
	groupReasonsByOrigin: ON_FOR_TO_STRING,
	usedExports: OFF_FOR_TO_STRING,
	providedExports: OFF_FOR_TO_STRING,
	optimizationBailout: OFF_FOR_TO_STRING,
	children: OFF_FOR_TO_STRING,
	source: NORMAL_OFF,
	moduleTrace: NORMAL_ON,
	errors: NORMAL_ON,
	errorsCount: NORMAL_ON,
	errorDetails: AUTO_FOR_TO_STRING,
	errorStack: OFF_FOR_TO_STRING,
	errorCause: AUTO_FOR_TO_STRING,
	errorErrors: AUTO_FOR_TO_STRING,
	warnings: NORMAL_ON,
	warningsCount: NORMAL_ON,
	publicPath: OFF_FOR_TO_STRING,
	logging: ({ all }, { forToString }) =&gt;
		forToString &amp;&amp; all !== false ? &quot;info&quot; : false,
	loggingDebug: () =&gt; [],
	loggingTrace: OFF_FOR_TO_STRING,
	excludeModules: () =&gt; [],
	excludeAssets: () =&gt; [],
	modulesSort: () =&gt; &quot;depth&quot;,
	chunkModulesSort: () =&gt; &quot;name&quot;,
	nestedModulesSort: () =&gt; false,
	chunksSort: () =&gt; false,
	assetsSort: () =&gt; &quot;!size&quot;,
	outputPath: OFF_FOR_TO_STRING,
	colors: () =&gt; false
};

/**
 * @template {string} T
 * @param {string | ({ test: (value: T) =&gt; boolean }) | ((value: T, ...args: EXPECTED_ANY[]) =&gt; boolean) | boolean} item item to normalize
 * @returns {(value: T, ...args: EXPECTED_ANY[]) =&gt; boolean} normalize fn
 */
const normalizeFilter = item =&gt; {
	if (typeof item === &quot;string&quot;) {
		const regExp = new RegExp(
			`[\\\\/]${item.replace(/[-[\]{}()*+?.\\^$|]/g, &quot;\\$&amp;&quot;)}([\\\\/]|$|!|\\?)`
		);
		return ident =&gt; regExp.test(/** @type {T} */ (ident));
	}
	if (item &amp;&amp; typeof item === &quot;object&quot; &amp;&amp; typeof item.test === &quot;function&quot;) {
		return ident =&gt; item.test(ident);
	}
	if (typeof item === &quot;boolean&quot;) {
		return () =&gt; item;
	}

	return /** @type {(value: T, ...args: EXPECTED_ANY[]) =&gt; boolean} */ (item);
};

/** @typedef {keyof (KnownNormalizedStatsOptions | StatsOptions)} NormalizerKeys */
/** @typedef {{ [Key in NormalizerKeys]: (value: StatsOptions[Key]) =&gt; KnownNormalizedStatsOptions[Key] }} Normalizers */

/** @type {Partial&lt;Normalizers&gt;} */
const NORMALIZER = {
	excludeModules: value =&gt; {
		if (!Array.isArray(value)) {
			value = value
				? /** @type {KnownNormalizedStatsOptions[&quot;excludeModules&quot;]} */ ([value])
				: [];
		}
		return value.map(normalizeFilter);
	},
	excludeAssets: value =&gt; {
		if (!Array.isArray(value)) {
			value = value ? [value] : [];
		}
		return value.map(normalizeFilter);
	},
	warningsFilter: value =&gt; {
		if (!Array.isArray(value)) {
			value = value ? [value] : [];
		}
		/**
		 * @callback WarningFilterFn
		 * @param {StatsError} warning warning
		 * @param {string} warningString warning string
		 * @returns {boolean} result
		 */
		return value.map(
			/**
			 * @param {StatsOptions[&quot;warningsFilter&quot;]} filter a warning filter
			 * @returns {WarningFilterFn} result
			 */
			filter =&gt; {
				if (typeof filter === &quot;string&quot;) {
					return (warning, warningString) =&gt; warningString.includes(filter);
				}
				if (filter instanceof RegExp) {
					return (warning, warningString) =&gt; filter.test(warningString);
				}
				if (typeof filter === &quot;function&quot;) {
					return filter;
				}
				throw new Error(
					`Can only filter warnings with Strings or RegExps. (Given: ${filter})`
				);
			}
		);
	},
	logging: value =&gt; {
		if (value === true) value = &quot;log&quot;;
		return /** @type {KnownNormalizedStatsOptions[&quot;logging&quot;]} */ (value);
	},
	loggingDebug: value =&gt; {
		if (!Array.isArray(value)) {
			value = value
				? /** @type {KnownNormalizedStatsOptions[&quot;loggingDebug&quot;]} */ ([value])
				: [];
		}
		return value.map(normalizeFilter);
	}
};

const PLUGIN_NAME = &quot;DefaultStatsPresetPlugin&quot;;

class DefaultStatsPresetPlugin {
	/**
	 * Apply the plugin
	 * @param {Compiler} compiler the compiler instance
	 * @returns {void}
	 */
	apply(compiler) {
		compiler.hooks.compilation.tap(PLUGIN_NAME, compilation =&gt; {
			for (const key of Object.keys(NAMED_PRESETS)) {
				const defaults = NAMED_PRESETS[/** @type {keyof NamedPresets} */ (key)];
				compilation.hooks.statsPreset
					.for(key)
					.tap(PLUGIN_NAME, (options, context) =&gt; {
						applyDefaults(options, defaults);
					});
			}
			compilation.hooks.statsNormalize.tap(PLUGIN_NAME, (options, context) =&gt; {
				for (const key of Object.keys(DEFAULTS)) {
					if (options[key] === undefined)
						options[key] =
							/** @type {Defaults[DefaultsKeys]} */
							(DEFAULTS[/** @type {DefaultsKeys} */ (key)])(
								options,
								context,
								compilation
							);
				}
				for (const key of Object.keys(NORMALIZER)) {
					options[key] =
						/** @type {TODO} */
						(NORMALIZER[/** @type {NormalizerKeys} */ (key)])(options[key]);
				}
			});
		});
	}
}
module.exports = DefaultStatsPresetPlugin;
</textarea>
  </div>
</div>

<footer class="footer">
  <div class="container">
    <p>.</p>
  </div>
</footer>

<script type="text/html" id="complexity-popover-template">
  <div class="complexity-notice">
    Complexity : {{ complexity.cyclomatic }} <br>
    Length : {{ complexity.halstead.length }} <br>
    Difficulty : {{ complexity.halstead.difficulty.toFixed(2) }} <br>
    Est # bugs : {{ complexity.halstead.bugs.toFixed(2) }}<br>
  </div>
</script>

<script type="text/javascript" src="../../assets/scripts/bundles/core-bundle.js"></script>
<script type="text/javascript" src="../../assets/scripts/bundles/codemirror.js"></script>
<script type="text/javascript" src="../../assets/scripts/codemirror.markpopovertext.js"></script>
<script type="text/javascript" src="report.js"></script>
<script type="text/javascript" src="report.history.js"></script>
<script type="text/javascript" src="../../assets/scripts/plato-file.js"></script>
</body>
</html>
