<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Plato - node_modules/readable-stream/lib/internal/streams/utils.js</title>

  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="">
  <meta name="author" content="">

  <!--[if lt IE 9]>
  <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
  <![endif]-->

  <link href="../../assets/css/vendor/morris.css" rel="stylesheet" type="text/css">
  <link href="../../assets/css/vendor/bootstrap.css" rel="stylesheet" type="text/css">
  <link href="../../assets/css/vendor/font-awesome.css" rel="stylesheet" type="text/css">
  <link href="../../assets/css/vendor/codemirror.css" rel="stylesheet" type="text/css">
  <link href="../../assets/css/plato.css" rel="stylesheet" type="text/css">
  <link href="../../assets/css/plato-file.css" rel="stylesheet" type="text/css">

</head>

<body>

<div class="navbar navbar-fixed-top">
  <div class="container">
    <a class="navbar-brand" href="https://github.com/the-simian/es6-plato">ES6 Plato on Github</a>
    <ul class="nav navbar-nav">
      <li>
        <a href="../../index.html">Report Home</a>
      </li>
      <li class="active">
        <a href="display.html">Summary Display</a>
      </li>
    </ul>
  </div>
</div>

<div class="jumbotron">
  <div class="container">
    <h1>node_modules/readable-stream/lib/internal/streams/utils.js</h1>
  </div>
</div>

<div class="container aggregate-stats">
  <div class="row">
    <div class="col-md-6">
      <h2 class="header">Maintainability <a href="http://blogs.msdn.com/b/codeanalysis/archive/2007/11/20/maintainability-index-range-and-meaning.aspx"><i class="icon icon-info-sign" rel="popover" data-placement="top" data-trigger="hover" data-content="A value between 0 and 100 that represents the relative ease of maintaining the code. A high value means better maintainability." data-original-title="Maintainability Index"  data-container="body"></i></a></h2>
      <p class="stat">68.13</p>
    </div>
    <div class="col-md-6">
      <h2 class="header">Lines of code <i class="icon icon-info-sign" rel="popover" data-placement="top" data-trigger="hover" data-content="Source Lines of Code / Logical Lines of Code" data-original-title="SLOC/LSLOC" data-container="body"></i></h2>
      <p class="stat">328</p>
    </div>
  </div>
  <div class="row historical">
    <div class="col-md-6">
      <p id="chart_historical_maint" class="chart"></p>
    </div>
    <div class="col-md-6">
      <p id="chart_historical_sloc" class="chart"></p>
    </div>
  </div>
  <div class="row">
    <div class="col-md-6">
      <h2 class="header">Difficulty  <a href="http://en.wikipedia.org/wiki/Halstead_complexity_measures"><i class="icon icon-info-sign" rel="popover" data-placement="top" data-trigger="hover" data-content="The difficulty measure is related to the difficulty of the program to write or understand." data-original-title="Difficulty" data-container="body"></i></a></h2>
      <p class="stat">59.34</p>
    </div>
    <div class="col-md-6">
      <h2 class="header">Estimated Errors  <a href="http://en.wikipedia.org/wiki/Halstead_complexity_measures"><i class="icon icon-info-sign" rel="popover" data-placement="top" data-trigger="hover" data-content="Halstead's delivered bugs is an estimate for the number of errors in the implementation." data-original-title="Delivered Bugs" data-container="body"></i></a></h2>
      <p class="stat">3.50</p>
    </div>
  </div>
</div>

<div class="container charts">
  <div class="row">
    <h2 class="header">Function weight</h2>
  </div>
  <div class="row">
    <div class="col-md-6">
      <h3 class="chart-header">By Complexity <a href="http://en.wikipedia.org/wiki/Cyclomatic_complexity"><i class="icon icon-info-sign" rel="popover" data-placement="top" data-trigger="hover" data-content="This metric counts the number of distinct paths through a block of code. Lower values are better." data-original-title="Cyclomatic Complexity" data-container="body"></i></a></h3>
      <div id="fn-by-complexity" class="stat"></div>
    </div>
    <div class="col-md-6">
      <h3 class="chart-header">By SLOC  <i class="icon icon-info-sign" rel="popover" data-placement="top" data-trigger="hover" data-content="Source Lines of Code / Logical Lines of Code" data-original-title="SLOC/LSLOC" data-container="body"></i></h3>
      <div id="fn-by-sloc" class="stat"></div>
    </div>
  </div>
</div>

<div class="container">
  <div class="row">
    <textarea id="file-source" class="col-md-12">&#039;use strict&#039;

const { SymbolAsyncIterator, SymbolIterator, SymbolFor } = require(&#039;../../ours/primordials&#039;)

// We need to use SymbolFor to make these globally available
// for interopt with readable-stream, i.e. readable-stream
// and node core needs to be able to read/write private state
// from each other for proper interoperability.
const kIsDestroyed = SymbolFor(&#039;nodejs.stream.destroyed&#039;)
const kIsErrored = SymbolFor(&#039;nodejs.stream.errored&#039;)
const kIsReadable = SymbolFor(&#039;nodejs.stream.readable&#039;)
const kIsWritable = SymbolFor(&#039;nodejs.stream.writable&#039;)
const kIsDisturbed = SymbolFor(&#039;nodejs.stream.disturbed&#039;)
const kIsClosedPromise = SymbolFor(&#039;nodejs.webstream.isClosedPromise&#039;)
const kControllerErrorFunction = SymbolFor(&#039;nodejs.webstream.controllerErrorFunction&#039;)
function isReadableNodeStream(obj, strict = false) {
  var _obj$_readableState
  return !!(
    (
      obj &amp;&amp;
      typeof obj.pipe === &#039;function&#039; &amp;&amp;
      typeof obj.on === &#039;function&#039; &amp;&amp;
      (!strict || (typeof obj.pause === &#039;function&#039; &amp;&amp; typeof obj.resume === &#039;function&#039;)) &amp;&amp;
      (!obj._writableState ||
        ((_obj$_readableState = obj._readableState) === null || _obj$_readableState === undefined
          ? undefined
          : _obj$_readableState.readable) !== false) &amp;&amp;
      // Duplex
      (!obj._writableState || obj._readableState)
    ) // Writable has .pipe.
  )
}
function isWritableNodeStream(obj) {
  var _obj$_writableState
  return !!(
    (
      obj &amp;&amp;
      typeof obj.write === &#039;function&#039; &amp;&amp;
      typeof obj.on === &#039;function&#039; &amp;&amp;
      (!obj._readableState ||
        ((_obj$_writableState = obj._writableState) === null || _obj$_writableState === undefined
          ? undefined
          : _obj$_writableState.writable) !== false)
    ) // Duplex
  )
}
function isDuplexNodeStream(obj) {
  return !!(
    obj &amp;&amp;
    typeof obj.pipe === &#039;function&#039; &amp;&amp;
    obj._readableState &amp;&amp;
    typeof obj.on === &#039;function&#039; &amp;&amp;
    typeof obj.write === &#039;function&#039;
  )
}
function isNodeStream(obj) {
  return (
    obj &amp;&amp;
    (obj._readableState ||
      obj._writableState ||
      (typeof obj.write === &#039;function&#039; &amp;&amp; typeof obj.on === &#039;function&#039;) ||
      (typeof obj.pipe === &#039;function&#039; &amp;&amp; typeof obj.on === &#039;function&#039;))
  )
}
function isReadableStream(obj) {
  return !!(
    obj &amp;&amp;
    !isNodeStream(obj) &amp;&amp;
    typeof obj.pipeThrough === &#039;function&#039; &amp;&amp;
    typeof obj.getReader === &#039;function&#039; &amp;&amp;
    typeof obj.cancel === &#039;function&#039;
  )
}
function isWritableStream(obj) {
  return !!(obj &amp;&amp; !isNodeStream(obj) &amp;&amp; typeof obj.getWriter === &#039;function&#039; &amp;&amp; typeof obj.abort === &#039;function&#039;)
}
function isTransformStream(obj) {
  return !!(obj &amp;&amp; !isNodeStream(obj) &amp;&amp; typeof obj.readable === &#039;object&#039; &amp;&amp; typeof obj.writable === &#039;object&#039;)
}
function isWebStream(obj) {
  return isReadableStream(obj) || isWritableStream(obj) || isTransformStream(obj)
}
function isIterable(obj, isAsync) {
  if (obj == null) return false
  if (isAsync === true) return typeof obj[SymbolAsyncIterator] === &#039;function&#039;
  if (isAsync === false) return typeof obj[SymbolIterator] === &#039;function&#039;
  return typeof obj[SymbolAsyncIterator] === &#039;function&#039; || typeof obj[SymbolIterator] === &#039;function&#039;
}
function isDestroyed(stream) {
  if (!isNodeStream(stream)) return null
  const wState = stream._writableState
  const rState = stream._readableState
  const state = wState || rState
  return !!(stream.destroyed || stream[kIsDestroyed] || (state !== null &amp;&amp; state !== undefined &amp;&amp; state.destroyed))
}

// Have been end():d.
function isWritableEnded(stream) {
  if (!isWritableNodeStream(stream)) return null
  if (stream.writableEnded === true) return true
  const wState = stream._writableState
  if (wState !== null &amp;&amp; wState !== undefined &amp;&amp; wState.errored) return false
  if (typeof (wState === null || wState === undefined ? undefined : wState.ended) !== &#039;boolean&#039;) return null
  return wState.ended
}

// Have emitted &#039;finish&#039;.
function isWritableFinished(stream, strict) {
  if (!isWritableNodeStream(stream)) return null
  if (stream.writableFinished === true) return true
  const wState = stream._writableState
  if (wState !== null &amp;&amp; wState !== undefined &amp;&amp; wState.errored) return false
  if (typeof (wState === null || wState === undefined ? undefined : wState.finished) !== &#039;boolean&#039;) return null
  return !!(wState.finished || (strict === false &amp;&amp; wState.ended === true &amp;&amp; wState.length === 0))
}

// Have been push(null):d.
function isReadableEnded(stream) {
  if (!isReadableNodeStream(stream)) return null
  if (stream.readableEnded === true) return true
  const rState = stream._readableState
  if (!rState || rState.errored) return false
  if (typeof (rState === null || rState === undefined ? undefined : rState.ended) !== &#039;boolean&#039;) return null
  return rState.ended
}

// Have emitted &#039;end&#039;.
function isReadableFinished(stream, strict) {
  if (!isReadableNodeStream(stream)) return null
  const rState = stream._readableState
  if (rState !== null &amp;&amp; rState !== undefined &amp;&amp; rState.errored) return false
  if (typeof (rState === null || rState === undefined ? undefined : rState.endEmitted) !== &#039;boolean&#039;) return null
  return !!(rState.endEmitted || (strict === false &amp;&amp; rState.ended === true &amp;&amp; rState.length === 0))
}
function isReadable(stream) {
  if (stream &amp;&amp; stream[kIsReadable] != null) return stream[kIsReadable]
  if (typeof (stream === null || stream === undefined ? undefined : stream.readable) !== &#039;boolean&#039;) return null
  if (isDestroyed(stream)) return false
  return isReadableNodeStream(stream) &amp;&amp; stream.readable &amp;&amp; !isReadableFinished(stream)
}
function isWritable(stream) {
  if (stream &amp;&amp; stream[kIsWritable] != null) return stream[kIsWritable]
  if (typeof (stream === null || stream === undefined ? undefined : stream.writable) !== &#039;boolean&#039;) return null
  if (isDestroyed(stream)) return false
  return isWritableNodeStream(stream) &amp;&amp; stream.writable &amp;&amp; !isWritableEnded(stream)
}
function isFinished(stream, opts) {
  if (!isNodeStream(stream)) {
    return null
  }
  if (isDestroyed(stream)) {
    return true
  }
  if ((opts === null || opts === undefined ? undefined : opts.readable) !== false &amp;&amp; isReadable(stream)) {
    return false
  }
  if ((opts === null || opts === undefined ? undefined : opts.writable) !== false &amp;&amp; isWritable(stream)) {
    return false
  }
  return true
}
function isWritableErrored(stream) {
  var _stream$_writableStat, _stream$_writableStat2
  if (!isNodeStream(stream)) {
    return null
  }
  if (stream.writableErrored) {
    return stream.writableErrored
  }
  return (_stream$_writableStat =
    (_stream$_writableStat2 = stream._writableState) === null || _stream$_writableStat2 === undefined
      ? undefined
      : _stream$_writableStat2.errored) !== null &amp;&amp; _stream$_writableStat !== undefined
    ? _stream$_writableStat
    : null
}
function isReadableErrored(stream) {
  var _stream$_readableStat, _stream$_readableStat2
  if (!isNodeStream(stream)) {
    return null
  }
  if (stream.readableErrored) {
    return stream.readableErrored
  }
  return (_stream$_readableStat =
    (_stream$_readableStat2 = stream._readableState) === null || _stream$_readableStat2 === undefined
      ? undefined
      : _stream$_readableStat2.errored) !== null &amp;&amp; _stream$_readableStat !== undefined
    ? _stream$_readableStat
    : null
}
function isClosed(stream) {
  if (!isNodeStream(stream)) {
    return null
  }
  if (typeof stream.closed === &#039;boolean&#039;) {
    return stream.closed
  }
  const wState = stream._writableState
  const rState = stream._readableState
  if (
    typeof (wState === null || wState === undefined ? undefined : wState.closed) === &#039;boolean&#039; ||
    typeof (rState === null || rState === undefined ? undefined : rState.closed) === &#039;boolean&#039;
  ) {
    return (
      (wState === null || wState === undefined ? undefined : wState.closed) ||
      (rState === null || rState === undefined ? undefined : rState.closed)
    )
  }
  if (typeof stream._closed === &#039;boolean&#039; &amp;&amp; isOutgoingMessage(stream)) {
    return stream._closed
  }
  return null
}
function isOutgoingMessage(stream) {
  return (
    typeof stream._closed === &#039;boolean&#039; &amp;&amp;
    typeof stream._defaultKeepAlive === &#039;boolean&#039; &amp;&amp;
    typeof stream._removedConnection === &#039;boolean&#039; &amp;&amp;
    typeof stream._removedContLen === &#039;boolean&#039;
  )
}
function isServerResponse(stream) {
  return typeof stream._sent100 === &#039;boolean&#039; &amp;&amp; isOutgoingMessage(stream)
}
function isServerRequest(stream) {
  var _stream$req
  return (
    typeof stream._consuming === &#039;boolean&#039; &amp;&amp;
    typeof stream._dumped === &#039;boolean&#039; &amp;&amp;
    ((_stream$req = stream.req) === null || _stream$req === undefined ? undefined : _stream$req.upgradeOrConnect) ===
      undefined
  )
}
function willEmitClose(stream) {
  if (!isNodeStream(stream)) return null
  const wState = stream._writableState
  const rState = stream._readableState
  const state = wState || rState
  return (
    (!state &amp;&amp; isServerResponse(stream)) || !!(state &amp;&amp; state.autoDestroy &amp;&amp; state.emitClose &amp;&amp; state.closed === false)
  )
}
function isDisturbed(stream) {
  var _stream$kIsDisturbed
  return !!(
    stream &amp;&amp;
    ((_stream$kIsDisturbed = stream[kIsDisturbed]) !== null &amp;&amp; _stream$kIsDisturbed !== undefined
      ? _stream$kIsDisturbed
      : stream.readableDidRead || stream.readableAborted)
  )
}
function isErrored(stream) {
  var _ref,
    _ref2,
    _ref3,
    _ref4,
    _ref5,
    _stream$kIsErrored,
    _stream$_readableStat3,
    _stream$_writableStat3,
    _stream$_readableStat4,
    _stream$_writableStat4
  return !!(
    stream &amp;&amp;
    ((_ref =
      (_ref2 =
        (_ref3 =
          (_ref4 =
            (_ref5 =
              (_stream$kIsErrored = stream[kIsErrored]) !== null &amp;&amp; _stream$kIsErrored !== undefined
                ? _stream$kIsErrored
                : stream.readableErrored) !== null &amp;&amp; _ref5 !== undefined
              ? _ref5
              : stream.writableErrored) !== null &amp;&amp; _ref4 !== undefined
            ? _ref4
            : (_stream$_readableStat3 = stream._readableState) === null || _stream$_readableStat3 === undefined
            ? undefined
            : _stream$_readableStat3.errorEmitted) !== null &amp;&amp; _ref3 !== undefined
          ? _ref3
          : (_stream$_writableStat3 = stream._writableState) === null || _stream$_writableStat3 === undefined
          ? undefined
          : _stream$_writableStat3.errorEmitted) !== null &amp;&amp; _ref2 !== undefined
        ? _ref2
        : (_stream$_readableStat4 = stream._readableState) === null || _stream$_readableStat4 === undefined
        ? undefined
        : _stream$_readableStat4.errored) !== null &amp;&amp; _ref !== undefined
      ? _ref
      : (_stream$_writableStat4 = stream._writableState) === null || _stream$_writableStat4 === undefined
      ? undefined
      : _stream$_writableStat4.errored)
  )
}
module.exports = {
  isDestroyed,
  kIsDestroyed,
  isDisturbed,
  kIsDisturbed,
  isErrored,
  kIsErrored,
  isReadable,
  kIsReadable,
  kIsClosedPromise,
  kControllerErrorFunction,
  kIsWritable,
  isClosed,
  isDuplexNodeStream,
  isFinished,
  isIterable,
  isReadableNodeStream,
  isReadableStream,
  isReadableEnded,
  isReadableFinished,
  isReadableErrored,
  isNodeStream,
  isWebStream,
  isWritable,
  isWritableNodeStream,
  isWritableStream,
  isWritableEnded,
  isWritableFinished,
  isWritableErrored,
  isServerRequest,
  isServerResponse,
  willEmitClose,
  isTransformStream
}
</textarea>
  </div>
</div>

<footer class="footer">
  <div class="container">
    <p>.</p>
  </div>
</footer>

<script type="text/html" id="complexity-popover-template">
  <div class="complexity-notice">
    Complexity : {{ complexity.cyclomatic }} <br>
    Length : {{ complexity.halstead.length }} <br>
    Difficulty : {{ complexity.halstead.difficulty.toFixed(2) }} <br>
    Est # bugs : {{ complexity.halstead.bugs.toFixed(2) }}<br>
  </div>
</script>

<script type="text/javascript" src="../../assets/scripts/bundles/core-bundle.js"></script>
<script type="text/javascript" src="../../assets/scripts/bundles/codemirror.js"></script>
<script type="text/javascript" src="../../assets/scripts/codemirror.markpopovertext.js"></script>
<script type="text/javascript" src="report.js"></script>
<script type="text/javascript" src="report.history.js"></script>
<script type="text/javascript" src="../../assets/scripts/plato-file.js"></script>
</body>
</html>
