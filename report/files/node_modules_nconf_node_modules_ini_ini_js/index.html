<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Plato - node_modules/nconf/node_modules/ini/ini.js</title>

  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="">
  <meta name="author" content="">

  <!--[if lt IE 9]>
  <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
  <![endif]-->

  <link href="../../assets/css/vendor/morris.css" rel="stylesheet" type="text/css">
  <link href="../../assets/css/vendor/bootstrap.css" rel="stylesheet" type="text/css">
  <link href="../../assets/css/vendor/font-awesome.css" rel="stylesheet" type="text/css">
  <link href="../../assets/css/vendor/codemirror.css" rel="stylesheet" type="text/css">
  <link href="../../assets/css/plato.css" rel="stylesheet" type="text/css">
  <link href="../../assets/css/plato-file.css" rel="stylesheet" type="text/css">

</head>

<body>

<div class="navbar navbar-fixed-top">
  <div class="container">
    <a class="navbar-brand" href="https://github.com/the-simian/es6-plato">ES6 Plato on Github</a>
    <ul class="nav navbar-nav">
      <li>
        <a href="../../index.html">Report Home</a>
      </li>
      <li class="active">
        <a href="display.html">Summary Display</a>
      </li>
    </ul>
  </div>
</div>

<div class="jumbotron">
  <div class="container">
    <h1>node_modules/nconf/node_modules/ini/ini.js</h1>
  </div>
</div>

<div class="container aggregate-stats">
  <div class="row">
    <div class="col-md-6">
      <h2 class="header">Maintainability <a href="http://blogs.msdn.com/b/codeanalysis/archive/2007/11/20/maintainability-index-range-and-meaning.aspx"><i class="icon icon-info-sign" rel="popover" data-placement="top" data-trigger="hover" data-content="A value between 0 and 100 that represents the relative ease of maintaining the code. A high value means better maintainability." data-original-title="Maintainability Index"  data-container="body"></i></a></h2>
      <p class="stat">52.43</p>
    </div>
    <div class="col-md-6">
      <h2 class="header">Lines of code <i class="icon icon-info-sign" rel="popover" data-placement="top" data-trigger="hover" data-content="Source Lines of Code / Logical Lines of Code" data-original-title="SLOC/LSLOC" data-container="body"></i></h2>
      <p class="stat">207</p>
    </div>
  </div>
  <div class="row historical">
    <div class="col-md-6">
      <p id="chart_historical_maint" class="chart"></p>
    </div>
    <div class="col-md-6">
      <p id="chart_historical_sloc" class="chart"></p>
    </div>
  </div>
  <div class="row">
    <div class="col-md-6">
      <h2 class="header">Difficulty  <a href="http://en.wikipedia.org/wiki/Halstead_complexity_measures"><i class="icon icon-info-sign" rel="popover" data-placement="top" data-trigger="hover" data-content="The difficulty measure is related to the difficulty of the program to write or understand." data-original-title="Difficulty" data-container="body"></i></a></h2>
      <p class="stat">64.14</p>
    </div>
    <div class="col-md-6">
      <h2 class="header">Estimated Errors  <a href="http://en.wikipedia.org/wiki/Halstead_complexity_measures"><i class="icon icon-info-sign" rel="popover" data-placement="top" data-trigger="hover" data-content="Halstead's delivered bugs is an estimate for the number of errors in the implementation." data-original-title="Delivered Bugs" data-container="body"></i></a></h2>
      <p class="stat">2.12</p>
    </div>
  </div>
</div>

<div class="container charts">
  <div class="row">
    <h2 class="header">Function weight</h2>
  </div>
  <div class="row">
    <div class="col-md-6">
      <h3 class="chart-header">By Complexity <a href="http://en.wikipedia.org/wiki/Cyclomatic_complexity"><i class="icon icon-info-sign" rel="popover" data-placement="top" data-trigger="hover" data-content="This metric counts the number of distinct paths through a block of code. Lower values are better." data-original-title="Cyclomatic Complexity" data-container="body"></i></a></h3>
      <div id="fn-by-complexity" class="stat"></div>
    </div>
    <div class="col-md-6">
      <h3 class="chart-header">By SLOC  <i class="icon icon-info-sign" rel="popover" data-placement="top" data-trigger="hover" data-content="Source Lines of Code / Logical Lines of Code" data-original-title="SLOC/LSLOC" data-container="body"></i></h3>
      <div id="fn-by-sloc" class="stat"></div>
    </div>
  </div>
</div>

<div class="container">
  <div class="row">
    <textarea id="file-source" class="col-md-12">const { hasOwnProperty } = Object.prototype

const eol = typeof process !== &#039;undefined&#039; &amp;&amp;
  process.platform === &#039;win32&#039; ? &#039;\r\n&#039; : &#039;\n&#039;

const encode = (obj, opt) =&gt; {
  const children = []
  let out = &#039;&#039;

  if (typeof opt === &#039;string&#039;) {
    opt = {
      section: opt,
      whitespace: false,
    }
  } else {
    opt = opt || Object.create(null)
    opt.whitespace = opt.whitespace === true
  }

  const separator = opt.whitespace ? &#039; = &#039; : &#039;=&#039;

  for (const k of Object.keys(obj)) {
    const val = obj[k]
    if (val &amp;&amp; Array.isArray(val)) {
      for (const item of val)
        out += safe(k + &#039;[]&#039;) + separator + safe(item) + &#039;\n&#039;
    } else if (val &amp;&amp; typeof val === &#039;object&#039;)
      children.push(k)
    else
      out += safe(k) + separator + safe(val) + eol
  }

  if (opt.section &amp;&amp; out.length)
    out = &#039;[&#039; + safe(opt.section) + &#039;]&#039; + eol + out

  for (const k of children) {
    const nk = dotSplit(k).join(&#039;\\.&#039;)
    const section = (opt.section ? opt.section + &#039;.&#039; : &#039;&#039;) + nk
    const { whitespace } = opt
    const child = encode(obj[k], {
      section,
      whitespace,
    })
    if (out.length &amp;&amp; child.length)
      out += eol

    out += child
  }

  return out
}

const dotSplit = str =&gt;
  str.replace(/\1/g, &#039;\u0002LITERAL\\1LITERAL\u0002&#039;)
    .replace(/\\\./g, &#039;\u0001&#039;)
    .split(/\./)
    .map(part =&gt;
      part.replace(/\1/g, &#039;\\.&#039;)
        .replace(/\2LITERAL\\1LITERAL\2/g, &#039;\u0001&#039;))

const decode = str =&gt; {
  const out = Object.create(null)
  let p = out
  let section = null
  //          section     |key      = value
  const re = /^\[([^\]]*)\]$|^([^=]+)(=(.*))?$/i
  const lines = str.split(/[\r\n]+/g)

  for (const line of lines) {
    if (!line || line.match(/^\s*[;#]/))
      continue
    const match = line.match(re)
    if (!match)
      continue
    if (match[1] !== undefined) {
      section = unsafe(match[1])
      if (section === &#039;__proto__&#039;) {
        // not allowed
        // keep parsing the section, but don&#039;t attach it.
        p = Object.create(null)
        continue
      }
      p = out[section] = out[section] || Object.create(null)
      continue
    }
    const keyRaw = unsafe(match[2])
    const isArray = keyRaw.length &gt; 2 &amp;&amp; keyRaw.slice(-2) === &#039;[]&#039;
    const key = isArray ? keyRaw.slice(0, -2) : keyRaw
    if (key === &#039;__proto__&#039;)
      continue
    const valueRaw = match[3] ? unsafe(match[4]) : true
    const value = valueRaw === &#039;true&#039; ||
      valueRaw === &#039;false&#039; ||
      valueRaw === &#039;null&#039; ? JSON.parse(valueRaw)
      : valueRaw

    // Convert keys with &#039;[]&#039; suffix to an array
    if (isArray) {
      if (!hasOwnProperty.call(p, key))
        p[key] = []
      else if (!Array.isArray(p[key]))
        p[key] = [p[key]]
    }

    // safeguard against resetting a previously defined
    // array by accidentally forgetting the brackets
    if (Array.isArray(p[key]))
      p[key].push(value)
    else
      p[key] = value
  }

  // {a:{y:1},&quot;a.b&quot;:{x:2}} --&gt; {a:{y:1,b:{x:2}}}
  // use a filter to return the keys that have to be deleted.
  const remove = []
  for (const k of Object.keys(out)) {
    if (!hasOwnProperty.call(out, k) ||
        typeof out[k] !== &#039;object&#039; ||
        Array.isArray(out[k]))
      continue

    // see if the parent section is also an object.
    // if so, add it to that, and mark this one for deletion
    const parts = dotSplit(k)
    let p = out
    const l = parts.pop()
    const nl = l.replace(/\\\./g, &#039;.&#039;)
    for (const part of parts) {
      if (part === &#039;__proto__&#039;)
        continue
      if (!hasOwnProperty.call(p, part) || typeof p[part] !== &#039;object&#039;)
        p[part] = Object.create(null)
      p = p[part]
    }
    if (p === out &amp;&amp; nl === l)
      continue

    p[nl] = out[k]
    remove.push(k)
  }
  for (const del of remove)
    delete out[del]

  return out
}

const isQuoted = val =&gt;
  (val.charAt(0) === &#039;&quot;&#039; &amp;&amp; val.slice(-1) === &#039;&quot;&#039;) ||
    (val.charAt(0) === &quot;&#039;&quot; &amp;&amp; val.slice(-1) === &quot;&#039;&quot;)

const safe = val =&gt;
  (typeof val !== &#039;string&#039; ||
    val.match(/[=\r\n]/) ||
    val.match(/^\[/) ||
    (val.length &gt; 1 &amp;&amp;
     isQuoted(val)) ||
    val !== val.trim())
    ? JSON.stringify(val)
    : val.replace(/;/g, &#039;\\;&#039;).replace(/#/g, &#039;\\#&#039;)

const unsafe = (val, doUnesc) =&gt; {
  val = (val || &#039;&#039;).trim()
  if (isQuoted(val)) {
    // remove the single quotes before calling JSON.parse
    if (val.charAt(0) === &quot;&#039;&quot;)
      val = val.substr(1, val.length - 2)

    try {
      val = JSON.parse(val)
    } catch (_) {}
  } else {
    // walk the val to find the first not-escaped ; character
    let esc = false
    let unesc = &#039;&#039;
    for (let i = 0, l = val.length; i &lt; l; i++) {
      const c = val.charAt(i)
      if (esc) {
        if (&#039;\\;#&#039;.indexOf(c) !== -1)
          unesc += c
        else
          unesc += &#039;\\&#039; + c

        esc = false
      } else if (&#039;;#&#039;.indexOf(c) !== -1)
        break
      else if (c === &#039;\\&#039;)
        esc = true
      else
        unesc += c
    }
    if (esc)
      unesc += &#039;\\&#039;

    return unesc.trim()
  }
  return val
}

module.exports = {
  parse: decode,
  decode,
  stringify: encode,
  encode,
  safe,
  unsafe,
}
</textarea>
  </div>
</div>

<footer class="footer">
  <div class="container">
    <p>.</p>
  </div>
</footer>

<script type="text/html" id="complexity-popover-template">
  <div class="complexity-notice">
    Complexity : {{ complexity.cyclomatic }} <br>
    Length : {{ complexity.halstead.length }} <br>
    Difficulty : {{ complexity.halstead.difficulty.toFixed(2) }} <br>
    Est # bugs : {{ complexity.halstead.bugs.toFixed(2) }}<br>
  </div>
</script>

<script type="text/javascript" src="../../assets/scripts/bundles/core-bundle.js"></script>
<script type="text/javascript" src="../../assets/scripts/bundles/codemirror.js"></script>
<script type="text/javascript" src="../../assets/scripts/codemirror.markpopovertext.js"></script>
<script type="text/javascript" src="report.js"></script>
<script type="text/javascript" src="report.history.js"></script>
<script type="text/javascript" src="../../assets/scripts/plato-file.js"></script>
</body>
</html>
