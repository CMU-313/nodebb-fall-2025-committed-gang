<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Plato - node_modules/webpack/lib/stats/DefaultStatsPrinterPlugin.js</title>

  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="">
  <meta name="author" content="">

  <!--[if lt IE 9]>
  <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
  <![endif]-->

  <link href="../../assets/css/vendor/morris.css" rel="stylesheet" type="text/css">
  <link href="../../assets/css/vendor/bootstrap.css" rel="stylesheet" type="text/css">
  <link href="../../assets/css/vendor/font-awesome.css" rel="stylesheet" type="text/css">
  <link href="../../assets/css/vendor/codemirror.css" rel="stylesheet" type="text/css">
  <link href="../../assets/css/plato.css" rel="stylesheet" type="text/css">
  <link href="../../assets/css/plato-file.css" rel="stylesheet" type="text/css">

</head>

<body>

<div class="navbar navbar-fixed-top">
  <div class="container">
    <a class="navbar-brand" href="https://github.com/the-simian/es6-plato">ES6 Plato on Github</a>
    <ul class="nav navbar-nav">
      <li>
        <a href="../../index.html">Report Home</a>
      </li>
      <li class="active">
        <a href="display.html">Summary Display</a>
      </li>
    </ul>
  </div>
</div>

<div class="jumbotron">
  <div class="container">
    <h1>node_modules/webpack/lib/stats/DefaultStatsPrinterPlugin.js</h1>
  </div>
</div>

<div class="container aggregate-stats">
  <div class="row">
    <div class="col-md-6">
      <h2 class="header">Maintainability <a href="http://blogs.msdn.com/b/codeanalysis/archive/2007/11/20/maintainability-index-range-and-meaning.aspx"><i class="icon icon-info-sign" rel="popover" data-placement="top" data-trigger="hover" data-content="A value between 0 and 100 that represents the relative ease of maintaining the code. A high value means better maintainability." data-original-title="Maintainability Index"  data-container="body"></i></a></h2>
      <p class="stat">78.69</p>
    </div>
    <div class="col-md-6">
      <h2 class="header">Lines of code <i class="icon icon-info-sign" rel="popover" data-placement="top" data-trigger="hover" data-content="Source Lines of Code / Logical Lines of Code" data-original-title="SLOC/LSLOC" data-container="body"></i></h2>
      <p class="stat">1890</p>
    </div>
  </div>
  <div class="row historical">
    <div class="col-md-6">
      <p id="chart_historical_maint" class="chart"></p>
    </div>
    <div class="col-md-6">
      <p id="chart_historical_sloc" class="chart"></p>
    </div>
  </div>
  <div class="row">
    <div class="col-md-6">
      <h2 class="header">Difficulty  <a href="http://en.wikipedia.org/wiki/Halstead_complexity_measures"><i class="icon icon-info-sign" rel="popover" data-placement="top" data-trigger="hover" data-content="The difficulty measure is related to the difficulty of the program to write or understand." data-original-title="Difficulty" data-container="body"></i></a></h2>
      <p class="stat">76.12</p>
    </div>
    <div class="col-md-6">
      <h2 class="header">Estimated Errors  <a href="http://en.wikipedia.org/wiki/Halstead_complexity_measures"><i class="icon icon-info-sign" rel="popover" data-placement="top" data-trigger="hover" data-content="Halstead's delivered bugs is an estimate for the number of errors in the implementation." data-original-title="Delivered Bugs" data-container="body"></i></a></h2>
      <p class="stat">18.33</p>
    </div>
  </div>
</div>

<div class="container charts">
  <div class="row">
    <h2 class="header">Function weight</h2>
  </div>
  <div class="row">
    <div class="col-md-6">
      <h3 class="chart-header">By Complexity <a href="http://en.wikipedia.org/wiki/Cyclomatic_complexity"><i class="icon icon-info-sign" rel="popover" data-placement="top" data-trigger="hover" data-content="This metric counts the number of distinct paths through a block of code. Lower values are better." data-original-title="Cyclomatic Complexity" data-container="body"></i></a></h3>
      <div id="fn-by-complexity" class="stat"></div>
    </div>
    <div class="col-md-6">
      <h3 class="chart-header">By SLOC  <i class="icon icon-info-sign" rel="popover" data-placement="top" data-trigger="hover" data-content="Source Lines of Code / Logical Lines of Code" data-original-title="SLOC/LSLOC" data-container="body"></i></h3>
      <div id="fn-by-sloc" class="stat"></div>
    </div>
  </div>
</div>

<div class="container">
  <div class="row">
    <textarea id="file-source" class="col-md-12">/*
	MIT License http://www.opensource.org/licenses/mit-license.php
	Author Tobias Koppers @sokra
*/

&quot;use strict&quot;;

/** @typedef {import(&quot;../Compiler&quot;)} Compiler */
/** @typedef {import(&quot;../logging/Logger&quot;).LogTypeEnum} LogTypeEnum */
/** @typedef {import(&quot;./DefaultStatsFactoryPlugin&quot;).ChunkId} ChunkId */
/** @typedef {import(&quot;./DefaultStatsFactoryPlugin&quot;).ChunkName} ChunkName */
/** @typedef {import(&quot;./DefaultStatsFactoryPlugin&quot;).KnownStatsAsset} KnownStatsAsset */
/** @typedef {import(&quot;./DefaultStatsFactoryPlugin&quot;).KnownStatsAssetChunk} KnownStatsAssetChunk */
/** @typedef {import(&quot;./DefaultStatsFactoryPlugin&quot;).KnownStatsAssetChunkIdHint} KnownStatsAssetChunkIdHint */
/** @typedef {import(&quot;./DefaultStatsFactoryPlugin&quot;).KnownStatsAssetChunkName} KnownStatsAssetChunkName */
/** @typedef {import(&quot;./DefaultStatsFactoryPlugin&quot;).KnownStatsChunk} KnownStatsChunk */
/** @typedef {import(&quot;./DefaultStatsFactoryPlugin&quot;).KnownStatsChunkGroup} KnownStatsChunkGroup */
/** @typedef {import(&quot;./DefaultStatsFactoryPlugin&quot;).KnownStatsChunkOrigin} KnownStatsChunkOrigin */
/** @typedef {import(&quot;./DefaultStatsFactoryPlugin&quot;).KnownStatsCompilation} KnownStatsCompilation */
/** @typedef {import(&quot;./DefaultStatsFactoryPlugin&quot;).KnownStatsError} KnownStatsError */
/** @typedef {import(&quot;./DefaultStatsFactoryPlugin&quot;).KnownStatsLogging} KnownStatsLogging */
/** @typedef {import(&quot;./DefaultStatsFactoryPlugin&quot;).KnownStatsLoggingEntry} KnownStatsLoggingEntry */
/** @typedef {import(&quot;./DefaultStatsFactoryPlugin&quot;).KnownStatsModule} KnownStatsModule */
/** @typedef {import(&quot;./DefaultStatsFactoryPlugin&quot;).KnownStatsModuleIssuer} KnownStatsModuleIssuer */
/** @typedef {import(&quot;./DefaultStatsFactoryPlugin&quot;).KnownStatsModuleReason} KnownStatsModuleReason */
/** @typedef {import(&quot;./DefaultStatsFactoryPlugin&quot;).KnownStatsModuleTraceDependency} KnownStatsModuleTraceDependency */
/** @typedef {import(&quot;./DefaultStatsFactoryPlugin&quot;).KnownStatsModuleTraceItem} KnownStatsModuleTraceItem */
/** @typedef {import(&quot;./DefaultStatsFactoryPlugin&quot;).KnownStatsProfile} KnownStatsProfile */
/** @typedef {import(&quot;./DefaultStatsFactoryPlugin&quot;).StatsCompilation} StatsCompilation */
/** @typedef {import(&quot;./StatsPrinter&quot;)} StatsPrinter */
/** @typedef {import(&quot;./StatsPrinter&quot;).ColorFunction} ColorFunction */
/** @typedef {import(&quot;./StatsPrinter&quot;).KnownStatsPrinterColorFunctions} KnownStatsPrinterColorFunctions */
/** @typedef {import(&quot;./StatsPrinter&quot;).KnownStatsPrinterContext} KnownStatsPrinterContext */
/** @typedef {import(&quot;./StatsPrinter&quot;).KnownStatsPrinterFormatters} KnownStatsPrinterFormatters */
/** @typedef {import(&quot;./StatsPrinter&quot;).StatsPrinterContext} StatsPrinterContext */
/** @typedef {import(&quot;./StatsPrinter&quot;).StatsPrinterContextWithExtra} StatsPrinterContextWithExtra */

const DATA_URI_CONTENT_LENGTH = 16;
const MAX_MODULE_IDENTIFIER_LENGTH = 80;

/**
 * @param {number} n a number
 * @param {string} singular singular
 * @param {string} plural plural
 * @returns {string} if n is 1, singular, else plural
 */
const plural = (n, singular, plural) =&gt; (n === 1 ? singular : plural);

/**
 * @param {Record&lt;string, number&gt;} sizes sizes by source type
 * @param {StatsPrinterContext} options options
 * @returns {string | undefined} text
 */
const printSizes = (sizes, { formatSize = n =&gt; `${n}` }) =&gt; {
	const keys = Object.keys(sizes);
	if (keys.length &gt; 1) {
		return keys.map(key =&gt; `${formatSize(sizes[key])} (${key})`).join(&quot; &quot;);
	} else if (keys.length === 1) {
		return formatSize(sizes[keys[0]]);
	}
};

/**
 * @param {string | null} resource resource
 * @returns {string} resource name for display
 */
const getResourceName = resource =&gt; {
	if (!resource) return &quot;&quot;;
	const dataUrl = /^data:[^,]+,/.exec(resource);
	if (!dataUrl) return resource;

	const len = dataUrl[0].length + DATA_URI_CONTENT_LENGTH;
	if (resource.length &lt; len) return resource;
	return `${resource.slice(
		0,
		Math.min(resource.length - /* &#039;..&#039;.length */ 2, len)
	)}..`;
};

/**
 * @param {string} name module name
 * @returns {[string,string]} prefix and module name
 */
const getModuleName = name =&gt; {
	const [, prefix, resource] =
		/** @type {[string, string, string]} */
		(/** @type {unknown} */ (/^(.*!)?([^!]*)$/.exec(name)));

	if (resource.length &gt; MAX_MODULE_IDENTIFIER_LENGTH) {
		const truncatedResource = `${resource.slice(
			0,
			Math.min(
				resource.length - /* &#039;...(truncated)&#039;.length */ 14,
				MAX_MODULE_IDENTIFIER_LENGTH
			)
		)}...(truncated)`;

		return [prefix, getResourceName(truncatedResource)];
	}

	return [prefix, getResourceName(resource)];
};

/**
 * @param {string} str string
 * @param {(item: string) =&gt; string} fn function to apply to each line
 * @returns {string} joined string
 */
const mapLines = (str, fn) =&gt; str.split(&quot;\n&quot;).map(fn).join(&quot;\n&quot;);

/**
 * @param {number} n a number
 * @returns {string} number as two digit string, leading 0
 */
const twoDigit = n =&gt; (n &gt;= 10 ? `${n}` : `0${n}`);

/**
 * @param {string | number | null} id an id
 * @returns {id is string | number} is i
 */
const isValidId = id =&gt; {
	if (typeof id === &quot;number&quot; || id) {
		return true;
	}

	return false;
};

/**
 * @template T
 * @param {Array&lt;T&gt; | undefined} list of items
 * @param {number} count number of items to show
 * @returns {string} string representation of list
 */
const moreCount = (list, count) =&gt;
	list &amp;&amp; list.length &gt; 0 ? `+ ${count}` : `${count}`;

/**
 * @template T
 * @template {keyof T} K
 * @typedef {{ [P in K]-?: T[P] }} WithRequired
 */

/**
 * @template {keyof StatsPrinterContext} RequiredStatsPrinterContextKeys
 * @typedef {StatsPrinterContextWithExtra &amp; WithRequired&lt;StatsPrinterContext, &quot;compilation&quot; | RequiredStatsPrinterContextKeys&gt;} DefineStatsPrinterContext
 */

/**
 * @template T
 * @template {keyof StatsPrinterContext} RequiredStatsPrinterContextKeys
 * @typedef {(thing: Exclude&lt;T, undefined&gt;, context: DefineStatsPrinterContext&lt;RequiredStatsPrinterContextKeys&gt;, printer: StatsPrinter) =&gt; string | undefined} SimplePrinter
 */

/**
 * @template T
 * @typedef {T extends (infer U)[] ? U : T} Unpacked
 */

/**
 * @template {object} O
 * @template {keyof O} K
 * @template {string} B
 * @typedef {K extends string ? Exclude&lt;O[K], undefined&gt; extends EXPECTED_ANY[] ? never : `${B}.${K}` : never} PropertyName
 */

/**
 * @template {object} O
 * @template {keyof O} K
 * @template {string} B
 * @typedef {K extends string ? NonNullable&lt;O[K]&gt; extends EXPECTED_ANY[] ? `${B}.${K}[]` : never : never} ArrayPropertyName
 */

/**
 * @template {object} O
 * @template {keyof O} K
 * @template {string} B
 * @typedef {K extends string ? Exclude&lt;O[K], undefined&gt; extends EXPECTED_ANY[] ? `${B}.${K}` : never : never} MultiplePropertyName
 */

/**
 * @template {object} O
 * @template {string} K
 * @template {string} E
 * @typedef {{ [property in `${K}!`]?: SimplePrinter&lt;O, &quot;compilation&quot; | E&gt; }} Exclamation
 */

/**
 * @template {object} O
 * @template {string} B
 * @template {string} [R=B]
 * @typedef {{ [K in keyof O as PropertyName&lt;O, K, B&gt;]?: SimplePrinter&lt;O[K], R&gt; } &amp;
 * { [K in keyof O as ArrayPropertyName&lt;O, K, B&gt;]?: Exclude&lt;O[K], undefined&gt; extends (infer I)[] ? SimplePrinter&lt;I, R&gt; : never } &amp;
 * { [K in keyof O as MultiplePropertyName&lt;O, K, B&gt;]?: SimplePrinter&lt;O[K], R&gt; }
 * } Printers
 */

/**
 * @typedef {Printers&lt;KnownStatsCompilation, &quot;compilation&quot;&gt; &amp;
 * { [&quot;compilation.summary!&quot;]?: SimplePrinter&lt;KnownStatsCompilation, &quot;compilation&quot;&gt; } &amp;
 * { [&quot;compilation.errorsInChildren!&quot;]?: SimplePrinter&lt;KnownStatsCompilation, &quot;compilation&quot;&gt; } &amp;
 * { [&quot;compilation.warningsInChildren!&quot;]?: SimplePrinter&lt;KnownStatsCompilation, &quot;compilation&quot;&gt; }} CompilationSimplePrinters
 */

/**
 * @type {CompilationSimplePrinters}
 */
const COMPILATION_SIMPLE_PRINTERS = {
	&quot;compilation.summary!&quot;: (
		_,
		{
			type,
			bold,
			green,
			red,
			yellow,
			formatDateTime,
			formatTime,
			compilation: {
				name,
				hash,
				version,
				time,
				builtAt,
				errorsCount,
				warningsCount
			}
		}
	) =&gt; {
		const root = type === &quot;compilation.summary!&quot;;
		const warningsMessage =
			/** @type {number} */ (warningsCount) &gt; 0
				? yellow(
						`${warningsCount} ${plural(/** @type {number} */ (warningsCount), &quot;warning&quot;, &quot;warnings&quot;)}`
					)
				: &quot;&quot;;
		const errorsMessage =
			/** @type {number} */ (errorsCount) &gt; 0
				? red(
						`${errorsCount} ${plural(/** @type {number} */ (errorsCount), &quot;error&quot;, &quot;errors&quot;)}`
					)
				: &quot;&quot;;
		const timeMessage = root &amp;&amp; time ? ` in ${formatTime(time)}` : &quot;&quot;;
		const hashMessage = hash ? ` (${hash})` : &quot;&quot;;
		const builtAtMessage =
			root &amp;&amp; builtAt ? `${formatDateTime(builtAt)}: ` : &quot;&quot;;
		const versionMessage = root &amp;&amp; version ? `webpack ${version}` : &quot;&quot;;
		const nameMessage =
			root &amp;&amp; name
				? bold(name)
				: name
					? `Child ${bold(name)}`
					: root
						? &quot;&quot;
						: &quot;Child&quot;;
		const subjectMessage =
			nameMessage &amp;&amp; versionMessage
				? `${nameMessage} (${versionMessage})`
				: versionMessage || nameMessage || &quot;webpack&quot;;
		let statusMessage;
		if (errorsMessage &amp;&amp; warningsMessage) {
			statusMessage = `compiled with ${errorsMessage} and ${warningsMessage}`;
		} else if (errorsMessage) {
			statusMessage = `compiled with ${errorsMessage}`;
		} else if (warningsMessage) {
			statusMessage = `compiled with ${warningsMessage}`;
		} else if (errorsCount === 0 &amp;&amp; warningsCount === 0) {
			statusMessage = `compiled ${green(&quot;successfully&quot;)}`;
		} else {
			statusMessage = &quot;compiled&quot;;
		}
		if (
			builtAtMessage ||
			versionMessage ||
			errorsMessage ||
			warningsMessage ||
			(errorsCount === 0 &amp;&amp; warningsCount === 0) ||
			timeMessage ||
			hashMessage
		)
			return `${builtAtMessage}${subjectMessage} ${statusMessage}${timeMessage}${hashMessage}`;
	},
	&quot;compilation.filteredWarningDetailsCount&quot;: count =&gt;
		count
			? `${count} ${plural(
					count,
					&quot;warning has&quot;,
					&quot;warnings have&quot;
				)} detailed information that is not shown.\nUse &#039;stats.errorDetails: true&#039; resp. &#039;--stats-error-details&#039; to show it.`
			: undefined,
	&quot;compilation.filteredErrorDetailsCount&quot;: (count, { yellow }) =&gt;
		count
			? yellow(
					`${count} ${plural(
						count,
						&quot;error has&quot;,
						&quot;errors have&quot;
					)} detailed information that is not shown.\nUse &#039;stats.errorDetails: true&#039; resp. &#039;--stats-error-details&#039; to show it.`
				)
			: undefined,
	&quot;compilation.env&quot;: (env, { bold }) =&gt;
		env
			? `Environment (--env): ${bold(JSON.stringify(env, null, 2))}`
			: undefined,
	&quot;compilation.publicPath&quot;: (publicPath, { bold }) =&gt;
		`PublicPath: ${bold(publicPath || &quot;(none)&quot;)}`,
	&quot;compilation.entrypoints&quot;: (entrypoints, context, printer) =&gt;
		Array.isArray(entrypoints)
			? undefined
			: printer.print(context.type, Object.values(entrypoints), {
					...context,
					chunkGroupKind: &quot;Entrypoint&quot;
				}),
	&quot;compilation.namedChunkGroups&quot;: (namedChunkGroups, context, printer) =&gt; {
		if (!Array.isArray(namedChunkGroups)) {
			const {
				compilation: { entrypoints }
			} = context;
			let chunkGroups = Object.values(namedChunkGroups);
			if (entrypoints) {
				chunkGroups = chunkGroups.filter(
					group =&gt;
						!Object.prototype.hasOwnProperty.call(
							entrypoints,
							/** @type {string} */
							(group.name)
						)
				);
			}
			return printer.print(context.type, chunkGroups, {
				...context,
				chunkGroupKind: &quot;Chunk Group&quot;
			});
		}
	},
	&quot;compilation.assetsByChunkName&quot;: () =&gt; &quot;&quot;,

	&quot;compilation.filteredModules&quot;: (
		filteredModules,
		{ compilation: { modules } }
	) =&gt;
		filteredModules &gt; 0
			? `${moreCount(modules, filteredModules)} ${plural(
					filteredModules,
					&quot;module&quot;,
					&quot;modules&quot;
				)}`
			: undefined,
	&quot;compilation.filteredAssets&quot;: (
		filteredAssets,
		{ compilation: { assets } }
	) =&gt;
		filteredAssets &gt; 0
			? `${moreCount(assets, filteredAssets)} ${plural(
					filteredAssets,
					&quot;asset&quot;,
					&quot;assets&quot;
				)}`
			: undefined,
	&quot;compilation.logging&quot;: (logging, context, printer) =&gt;
		Array.isArray(logging)
			? undefined
			: printer.print(
					context.type,
					Object.entries(logging).map(([name, value]) =&gt; ({ ...value, name })),
					context
				),
	&quot;compilation.warningsInChildren!&quot;: (_, { yellow, compilation }) =&gt; {
		if (
			!compilation.children &amp;&amp;
			/** @type {number} */ (compilation.warningsCount) &gt; 0 &amp;&amp;
			compilation.warnings
		) {
			const childWarnings =
				/** @type {number} */ (compilation.warningsCount) -
				compilation.warnings.length;
			if (childWarnings &gt; 0) {
				return yellow(
					`${childWarnings} ${plural(
						childWarnings,
						&quot;WARNING&quot;,
						&quot;WARNINGS&quot;
					)} in child compilations${
						compilation.children
							? &quot;&quot;
							: &quot; (Use &#039;stats.children: true&#039; resp. &#039;--stats-children&#039; for more details)&quot;
					}`
				);
			}
		}
	},
	&quot;compilation.errorsInChildren!&quot;: (_, { red, compilation }) =&gt; {
		if (
			!compilation.children &amp;&amp;
			/** @type {number} */ (compilation.errorsCount) &gt; 0 &amp;&amp;
			compilation.errors
		) {
			const childErrors =
				/** @type {number} */ (compilation.errorsCount) -
				compilation.errors.length;
			if (childErrors &gt; 0) {
				return red(
					`${childErrors} ${plural(
						childErrors,
						&quot;ERROR&quot;,
						&quot;ERRORS&quot;
					)} in child compilations${
						compilation.children
							? &quot;&quot;
							: &quot; (Use &#039;stats.children: true&#039; resp. &#039;--stats-children&#039; for more details)&quot;
					}`
				);
			}
		}
	}
};

/**
 * @typedef {Printers&lt;KnownStatsAsset, &quot;asset&quot;&gt; &amp;
 * Printers&lt;KnownStatsAsset[&quot;info&quot;], &quot;asset.info&quot;&gt; &amp;
 * Exclamation&lt;KnownStatsAsset, &quot;asset.separator&quot;, &quot;asset&quot;&gt; &amp;
 * { [&quot;asset.filteredChildren&quot;]?: SimplePrinter&lt;number, &quot;asset&quot;&gt; } &amp;
 * { assetChunk?: SimplePrinter&lt;KnownStatsAssetChunk, &quot;asset&quot;&gt; } &amp;
 * { assetChunkName?: SimplePrinter&lt;KnownStatsAssetChunkName, &quot;asset&quot;&gt; } &amp;
 * { assetChunkIdHint?: SimplePrinter&lt;KnownStatsAssetChunkIdHint, &quot;asset&quot;&gt; }} AssetSimplePrinters
 */

/** @type {AssetSimplePrinters} */
const ASSET_SIMPLE_PRINTERS = {
	&quot;asset.type&quot;: type =&gt; type,
	&quot;asset.name&quot;: (name, { formatFilename, asset: { isOverSizeLimit } }) =&gt;
		formatFilename(name, isOverSizeLimit),
	&quot;asset.size&quot;: (size, { asset: { isOverSizeLimit }, yellow, formatSize }) =&gt;
		isOverSizeLimit ? yellow(formatSize(size)) : formatSize(size),
	&quot;asset.emitted&quot;: (emitted, { green, formatFlag }) =&gt;
		emitted ? green(formatFlag(&quot;emitted&quot;)) : undefined,
	&quot;asset.comparedForEmit&quot;: (comparedForEmit, { yellow, formatFlag }) =&gt;
		comparedForEmit ? yellow(formatFlag(&quot;compared for emit&quot;)) : undefined,
	&quot;asset.cached&quot;: (cached, { green, formatFlag }) =&gt;
		cached ? green(formatFlag(&quot;cached&quot;)) : undefined,
	&quot;asset.isOverSizeLimit&quot;: (isOverSizeLimit, { yellow, formatFlag }) =&gt;
		isOverSizeLimit ? yellow(formatFlag(&quot;big&quot;)) : undefined,

	&quot;asset.info.immutable&quot;: (immutable, { green, formatFlag }) =&gt;
		immutable ? green(formatFlag(&quot;immutable&quot;)) : undefined,
	&quot;asset.info.javascriptModule&quot;: (javascriptModule, { formatFlag }) =&gt;
		javascriptModule ? formatFlag(&quot;javascript module&quot;) : undefined,
	&quot;asset.info.sourceFilename&quot;: (sourceFilename, { formatFlag }) =&gt;
		sourceFilename ? formatFlag(`from: ${sourceFilename}`) : undefined,
	&quot;asset.info.development&quot;: (development, { green, formatFlag }) =&gt;
		development ? green(formatFlag(&quot;dev&quot;)) : undefined,
	&quot;asset.info.hotModuleReplacement&quot;: (
		hotModuleReplacement,
		{ green, formatFlag }
	) =&gt; (hotModuleReplacement ? green(formatFlag(&quot;hmr&quot;)) : undefined),
	&quot;asset.separator!&quot;: () =&gt; &quot;\n&quot;,
	&quot;asset.filteredRelated&quot;: (filteredRelated, { asset: { related } }) =&gt;
		filteredRelated &gt; 0
			? `${moreCount(related, filteredRelated)} related ${plural(
					filteredRelated,
					&quot;asset&quot;,
					&quot;assets&quot;
				)}`
			: undefined,
	&quot;asset.filteredChildren&quot;: (filteredChildren, { asset: { children } }) =&gt;
		filteredChildren &gt; 0
			? `${moreCount(children, filteredChildren)} ${plural(
					filteredChildren,
					&quot;asset&quot;,
					&quot;assets&quot;
				)}`
			: undefined,

	assetChunk: (id, { formatChunkId }) =&gt; formatChunkId(id),

	assetChunkName: name =&gt; name || undefined,
	assetChunkIdHint: name =&gt; name || undefined
};

/**
 * @typedef {Printers&lt;KnownStatsModule, &quot;module&quot;&gt; &amp;
 * Exclamation&lt;KnownStatsModule, &quot;module.separator&quot;, &quot;module&quot;&gt; &amp;
 * { [&quot;module.filteredChildren&quot;]?: SimplePrinter&lt;number, &quot;module&quot;&gt; } &amp;
 * { [&quot;module.filteredReasons&quot;]?: SimplePrinter&lt;number, &quot;module&quot;&gt; }} ModuleSimplePrinters
 */

/** @type {ModuleSimplePrinters} */
const MODULE_SIMPLE_PRINTERS = {
	&quot;module.type&quot;: type =&gt; (type !== &quot;module&quot; ? type : undefined),
	&quot;module.id&quot;: (id, { formatModuleId }) =&gt;
		isValidId(id) ? formatModuleId(id) : undefined,
	&quot;module.name&quot;: (name, { bold }) =&gt; {
		const [prefix, resource] = getModuleName(name);
		return `${prefix || &quot;&quot;}${bold(resource || &quot;&quot;)}`;
	},
	&quot;module.identifier&quot;: identifier =&gt; undefined,
	&quot;module.layer&quot;: (layer, { formatLayer }) =&gt;
		layer ? formatLayer(layer) : undefined,
	&quot;module.sizes&quot;: printSizes,
	&quot;module.chunks[]&quot;: (id, { formatChunkId }) =&gt; formatChunkId(id),
	&quot;module.depth&quot;: (depth, { formatFlag }) =&gt;
		depth !== null ? formatFlag(`depth ${depth}`) : undefined,
	&quot;module.cacheable&quot;: (cacheable, { formatFlag, red }) =&gt;
		cacheable === false ? red(formatFlag(&quot;not cacheable&quot;)) : undefined,
	&quot;module.orphan&quot;: (orphan, { formatFlag, yellow }) =&gt;
		orphan ? yellow(formatFlag(&quot;orphan&quot;)) : undefined,
	// &quot;module.runtime&quot;: (runtime, { formatFlag, yellow }) =&gt;
	// 	runtime ? yellow(formatFlag(&quot;runtime&quot;)) : undefined,
	&quot;module.optional&quot;: (optional, { formatFlag, yellow }) =&gt;
		optional ? yellow(formatFlag(&quot;optional&quot;)) : undefined,
	&quot;module.dependent&quot;: (dependent, { formatFlag, cyan }) =&gt;
		dependent ? cyan(formatFlag(&quot;dependent&quot;)) : undefined,
	&quot;module.built&quot;: (built, { formatFlag, yellow }) =&gt;
		built ? yellow(formatFlag(&quot;built&quot;)) : undefined,
	&quot;module.codeGenerated&quot;: (codeGenerated, { formatFlag, yellow }) =&gt;
		codeGenerated ? yellow(formatFlag(&quot;code generated&quot;)) : undefined,
	&quot;module.buildTimeExecuted&quot;: (buildTimeExecuted, { formatFlag, green }) =&gt;
		buildTimeExecuted ? green(formatFlag(&quot;build time executed&quot;)) : undefined,
	&quot;module.cached&quot;: (cached, { formatFlag, green }) =&gt;
		cached ? green(formatFlag(&quot;cached&quot;)) : undefined,
	&quot;module.assets&quot;: (assets, { formatFlag, magenta }) =&gt;
		assets &amp;&amp; assets.length
			? magenta(
					formatFlag(
						`${assets.length} ${plural(assets.length, &quot;asset&quot;, &quot;assets&quot;)}`
					)
				)
			: undefined,
	&quot;module.warnings&quot;: (warnings, { formatFlag, yellow }) =&gt;
		warnings
			? yellow(
					formatFlag(`${warnings} ${plural(warnings, &quot;warning&quot;, &quot;warnings&quot;)}`)
				)
			: undefined,
	&quot;module.errors&quot;: (errors, { formatFlag, red }) =&gt;
		errors
			? red(formatFlag(`${errors} ${plural(errors, &quot;error&quot;, &quot;errors&quot;)}`))
			: undefined,
	&quot;module.providedExports&quot;: (providedExports, { formatFlag, cyan }) =&gt; {
		if (Array.isArray(providedExports)) {
			if (providedExports.length === 0) return cyan(formatFlag(&quot;no exports&quot;));
			return cyan(formatFlag(`exports: ${providedExports.join(&quot;, &quot;)}`));
		}
	},
	&quot;module.usedExports&quot;: (usedExports, { formatFlag, cyan, module }) =&gt; {
		if (usedExports !== true) {
			if (usedExports === null) return cyan(formatFlag(&quot;used exports unknown&quot;));
			if (usedExports === false) return cyan(formatFlag(&quot;module unused&quot;));
			if (Array.isArray(usedExports)) {
				if (usedExports.length === 0)
					return cyan(formatFlag(&quot;no exports used&quot;));
				const providedExportsCount = Array.isArray(module.providedExports)
					? module.providedExports.length
					: null;
				if (
					providedExportsCount !== null &amp;&amp;
					providedExportsCount === usedExports.length
				) {
					return cyan(formatFlag(&quot;all exports used&quot;));
				}

				return cyan(
					formatFlag(`only some exports used: ${usedExports.join(&quot;, &quot;)}`)
				);
			}
		}
	},
	&quot;module.optimizationBailout[]&quot;: (optimizationBailout, { yellow }) =&gt;
		yellow(optimizationBailout),
	&quot;module.issuerPath&quot;: (issuerPath, { module }) =&gt;
		module.profile ? undefined : &quot;&quot;,
	&quot;module.profile&quot;: profile =&gt; undefined,
	&quot;module.filteredModules&quot;: (filteredModules, { module: { modules } }) =&gt;
		filteredModules &gt; 0
			? `${moreCount(modules, filteredModules)} nested ${plural(
					filteredModules,
					&quot;module&quot;,
					&quot;modules&quot;
				)}`
			: undefined,
	&quot;module.filteredReasons&quot;: (filteredReasons, { module: { reasons } }) =&gt;
		filteredReasons &gt; 0
			? `${moreCount(reasons, filteredReasons)} ${plural(
					filteredReasons,
					&quot;reason&quot;,
					&quot;reasons&quot;
				)}`
			: undefined,
	&quot;module.filteredChildren&quot;: (filteredChildren, { module: { children } }) =&gt;
		filteredChildren &gt; 0
			? `${moreCount(children, filteredChildren)} ${plural(
					filteredChildren,
					&quot;module&quot;,
					&quot;modules&quot;
				)}`
			: undefined,
	&quot;module.separator!&quot;: () =&gt; &quot;\n&quot;
};

/**
 * @typedef {Printers&lt;KnownStatsModuleIssuer, &quot;moduleIssuer&quot;&gt; &amp;
 * Printers&lt;KnownStatsModuleIssuer[&quot;profile&quot;], &quot;moduleIssuer.profile&quot;, &quot;moduleIssuer&quot;&gt;} ModuleIssuerPrinters
 */

/** @type {ModuleIssuerPrinters} */
const MODULE_ISSUER_PRINTERS = {
	&quot;moduleIssuer.id&quot;: (id, { formatModuleId }) =&gt; formatModuleId(id),
	&quot;moduleIssuer.profile.total&quot;: (value, { formatTime }) =&gt; formatTime(value)
};

/**
 * @typedef {Printers&lt;KnownStatsModuleReason, &quot;moduleReason&quot;&gt; &amp;
 * { [&quot;moduleReason.filteredChildren&quot;]?: SimplePrinter&lt;number, &quot;moduleReason&quot;&gt; }} ModuleReasonsPrinters
 */

/** @type {ModuleReasonsPrinters} */
const MODULE_REASON_PRINTERS = {
	&quot;moduleReason.type&quot;: type =&gt; type || undefined,
	&quot;moduleReason.userRequest&quot;: (userRequest, { cyan }) =&gt;
		cyan(getResourceName(userRequest)),
	&quot;moduleReason.moduleId&quot;: (moduleId, { formatModuleId }) =&gt;
		isValidId(moduleId) ? formatModuleId(moduleId) : undefined,
	&quot;moduleReason.module&quot;: (module, { magenta }) =&gt;
		module ? magenta(module) : undefined,
	&quot;moduleReason.loc&quot;: loc =&gt; loc || undefined,
	&quot;moduleReason.explanation&quot;: (explanation, { cyan }) =&gt;
		explanation ? cyan(explanation) : undefined,
	&quot;moduleReason.active&quot;: (active, { formatFlag }) =&gt;
		active ? undefined : formatFlag(&quot;inactive&quot;),
	&quot;moduleReason.resolvedModule&quot;: (module, { magenta }) =&gt;
		module ? magenta(module) : undefined,
	&quot;moduleReason.filteredChildren&quot;: (
		filteredChildren,
		{ moduleReason: { children } }
	) =&gt;
		filteredChildren &gt; 0
			? `${moreCount(children, filteredChildren)} ${plural(
					filteredChildren,
					&quot;reason&quot;,
					&quot;reasons&quot;
				)}`
			: undefined
};

/** @typedef {Printers&lt;KnownStatsProfile, &quot;module.profile&quot;, &quot;profile&quot;&gt;} ModuleProfilePrinters */

/** @type {ModuleProfilePrinters} */
const MODULE_PROFILE_PRINTERS = {
	&quot;module.profile.total&quot;: (value, { formatTime }) =&gt; formatTime(value),
	&quot;module.profile.resolving&quot;: (value, { formatTime }) =&gt;
		`resolving: ${formatTime(value)}`,
	&quot;module.profile.restoring&quot;: (value, { formatTime }) =&gt;
		`restoring: ${formatTime(value)}`,
	&quot;module.profile.integration&quot;: (value, { formatTime }) =&gt;
		`integration: ${formatTime(value)}`,
	&quot;module.profile.building&quot;: (value, { formatTime }) =&gt;
		`building: ${formatTime(value)}`,
	&quot;module.profile.storing&quot;: (value, { formatTime }) =&gt;
		`storing: ${formatTime(value)}`,
	&quot;module.profile.additionalResolving&quot;: (value, { formatTime }) =&gt;
		value ? `additional resolving: ${formatTime(value)}` : undefined,
	&quot;module.profile.additionalIntegration&quot;: (value, { formatTime }) =&gt;
		value ? `additional integration: ${formatTime(value)}` : undefined
};

/**
 * @typedef {Exclamation&lt;KnownStatsChunkGroup, &quot;chunkGroup.kind&quot;, &quot;chunkGroupKind&quot;&gt; &amp;
 * Exclamation&lt;KnownStatsChunkGroup, &quot;chunkGroup.separator&quot;, &quot;chunkGroup&quot;&gt; &amp;
 * Printers&lt;KnownStatsChunkGroup, &quot;chunkGroup&quot;&gt; &amp;
 * Exclamation&lt;KnownStatsChunkGroup, &quot;chunkGroup.is&quot;, &quot;chunkGroup&quot;&gt; &amp;
 * Printers&lt;Exclude&lt;KnownStatsChunkGroup[&quot;assets&quot;], undefined&gt;[number], &quot;chunkGroupAsset&quot; | &quot;chunkGroup&quot;&gt; &amp;
 * { [&#039;chunkGroupChildGroup.type&#039;]?: SimplePrinter&lt;string, &quot;chunkGroupAsset&quot;&gt; } &amp;
 * { [&#039;chunkGroupChild.assets[]&#039;]?: SimplePrinter&lt;string, &quot;chunkGroupAsset&quot;&gt; } &amp;
 * { [&#039;chunkGroupChild.chunks[]&#039;]?: SimplePrinter&lt;ChunkId, &quot;chunkGroupAsset&quot;&gt; } &amp;
 * { [&#039;chunkGroupChild.name&#039;]?: SimplePrinter&lt;ChunkName, &quot;chunkGroupAsset&quot;&gt; }} ChunkGroupPrinters
 */

/** @type {ChunkGroupPrinters} */
const CHUNK_GROUP_PRINTERS = {
	&quot;chunkGroup.kind!&quot;: (_, { chunkGroupKind }) =&gt; chunkGroupKind,
	&quot;chunkGroup.separator!&quot;: () =&gt; &quot;\n&quot;,
	&quot;chunkGroup.name&quot;: (name, { bold }) =&gt; (name ? bold(name) : undefined),
	&quot;chunkGroup.isOverSizeLimit&quot;: (isOverSizeLimit, { formatFlag, yellow }) =&gt;
		isOverSizeLimit ? yellow(formatFlag(&quot;big&quot;)) : undefined,
	&quot;chunkGroup.assetsSize&quot;: (size, { formatSize }) =&gt;
		size ? formatSize(size) : undefined,
	&quot;chunkGroup.auxiliaryAssetsSize&quot;: (size, { formatSize }) =&gt;
		size ? `(${formatSize(size)})` : undefined,
	&quot;chunkGroup.filteredAssets&quot;: (n, { chunkGroup: { assets } }) =&gt;
		n &gt; 0
			? `${moreCount(assets, n)} ${plural(n, &quot;asset&quot;, &quot;assets&quot;)}`
			: undefined,
	&quot;chunkGroup.filteredAuxiliaryAssets&quot;: (
		n,
		{ chunkGroup: { auxiliaryAssets } }
	) =&gt;
		n &gt; 0
			? `${moreCount(auxiliaryAssets, n)} auxiliary ${plural(
					n,
					&quot;asset&quot;,
					&quot;assets&quot;
				)}`
			: undefined,
	&quot;chunkGroup.is!&quot;: () =&gt; &quot;=&quot;,
	&quot;chunkGroupAsset.name&quot;: (asset, { green }) =&gt; green(asset),
	&quot;chunkGroupAsset.size&quot;: (size, { formatSize, chunkGroup }) =&gt;
		chunkGroup.assets &amp;&amp;
		(chunkGroup.assets.length &gt; 1 ||
		(chunkGroup.auxiliaryAssets &amp;&amp; chunkGroup.auxiliaryAssets.length &gt; 0)
			? formatSize(size)
			: undefined),
	&quot;chunkGroup.children&quot;: (children, context, printer) =&gt;
		Array.isArray(children)
			? undefined
			: printer.print(
					context.type,
					Object.keys(children).map(key =&gt; ({
						type: key,
						children: children[key]
					})),
					context
				),
	&quot;chunkGroupChildGroup.type&quot;: type =&gt; `${type}:`,
	&quot;chunkGroupChild.assets[]&quot;: (file, { formatFilename }) =&gt;
		formatFilename(file),
	&quot;chunkGroupChild.chunks[]&quot;: (id, { formatChunkId }) =&gt; formatChunkId(id),
	&quot;chunkGroupChild.name&quot;: name =&gt; (name ? `(name: ${name})` : undefined)
};

/**
 * @typedef {Printers&lt;KnownStatsChunk, &quot;chunk&quot;&gt; &amp;
 * { [&quot;chunk.childrenByOrder[].type&quot;]: SimplePrinter&lt;string, &quot;chunk&quot;&gt; } &amp;
 * { [&quot;chunk.childrenByOrder[].children[]&quot;]: SimplePrinter&lt;ChunkId, &quot;chunk&quot;&gt; } &amp;
 * Exclamation&lt;KnownStatsChunk, &quot;chunk.separator&quot;, &quot;chunk&quot;&gt; &amp;
 * Printers&lt;KnownStatsChunkOrigin, &quot;chunkOrigin&quot;&gt;} ChunkPrinters
 */

/** @type {ChunkPrinters} */
const CHUNK_PRINTERS = {
	&quot;chunk.id&quot;: (id, { formatChunkId }) =&gt; formatChunkId(id),
	&quot;chunk.files[]&quot;: (file, { formatFilename }) =&gt; formatFilename(file),
	&quot;chunk.names[]&quot;: name =&gt; name,
	&quot;chunk.idHints[]&quot;: name =&gt; name,
	&quot;chunk.runtime[]&quot;: name =&gt; name,
	&quot;chunk.sizes&quot;: (sizes, context) =&gt; printSizes(sizes, context),
	&quot;chunk.parents[]&quot;: (parents, context) =&gt;
		context.formatChunkId(parents, &quot;parent&quot;),
	&quot;chunk.siblings[]&quot;: (siblings, context) =&gt;
		context.formatChunkId(siblings, &quot;sibling&quot;),
	&quot;chunk.children[]&quot;: (children, context) =&gt;
		context.formatChunkId(children, &quot;child&quot;),
	&quot;chunk.childrenByOrder&quot;: (childrenByOrder, context, printer) =&gt;
		Array.isArray(childrenByOrder)
			? undefined
			: printer.print(
					context.type,
					Object.keys(childrenByOrder).map(key =&gt; ({
						type: key,
						children: childrenByOrder[key]
					})),
					context
				),
	&quot;chunk.childrenByOrder[].type&quot;: type =&gt; `${type}:`,
	&quot;chunk.childrenByOrder[].children[]&quot;: (id, { formatChunkId }) =&gt;
		isValidId(id) ? formatChunkId(id) : undefined,
	&quot;chunk.entry&quot;: (entry, { formatFlag, yellow }) =&gt;
		entry ? yellow(formatFlag(&quot;entry&quot;)) : undefined,
	&quot;chunk.initial&quot;: (initial, { formatFlag, yellow }) =&gt;
		initial ? yellow(formatFlag(&quot;initial&quot;)) : undefined,
	&quot;chunk.rendered&quot;: (rendered, { formatFlag, green }) =&gt;
		rendered ? green(formatFlag(&quot;rendered&quot;)) : undefined,
	&quot;chunk.recorded&quot;: (recorded, { formatFlag, green }) =&gt;
		recorded ? green(formatFlag(&quot;recorded&quot;)) : undefined,
	&quot;chunk.reason&quot;: (reason, { yellow }) =&gt; (reason ? yellow(reason) : undefined),
	&quot;chunk.filteredModules&quot;: (filteredModules, { chunk: { modules } }) =&gt;
		filteredModules &gt; 0
			? `${moreCount(modules, filteredModules)} chunk ${plural(
					filteredModules,
					&quot;module&quot;,
					&quot;modules&quot;
				)}`
			: undefined,
	&quot;chunk.separator!&quot;: () =&gt; &quot;\n&quot;,

	&quot;chunkOrigin.request&quot;: request =&gt; request,
	&quot;chunkOrigin.moduleId&quot;: (moduleId, { formatModuleId }) =&gt;
		isValidId(moduleId) ? formatModuleId(moduleId) : undefined,
	&quot;chunkOrigin.moduleName&quot;: (moduleName, { bold }) =&gt; bold(moduleName),
	&quot;chunkOrigin.loc&quot;: loc =&gt; loc
};

/**
 * @typedef {Printers&lt;KnownStatsError, &quot;error&quot;&gt; &amp;
 * { [&quot;error.filteredDetails&quot;]?: SimplePrinter&lt;number, &quot;error&quot;&gt; } &amp;
 * Exclamation&lt;KnownStatsError, &quot;error.separator&quot;, &quot;error&quot;&gt;} ErrorPrinters
 */

/**
 * @type {ErrorPrinters}
 */
const ERROR_PRINTERS = {
	&quot;error.compilerPath&quot;: (compilerPath, { bold }) =&gt;
		compilerPath ? bold(`(${compilerPath})`) : undefined,
	&quot;error.chunkId&quot;: (chunkId, { formatChunkId }) =&gt;
		isValidId(chunkId) ? formatChunkId(chunkId) : undefined,
	&quot;error.chunkEntry&quot;: (chunkEntry, { formatFlag }) =&gt;
		chunkEntry ? formatFlag(&quot;entry&quot;) : undefined,
	&quot;error.chunkInitial&quot;: (chunkInitial, { formatFlag }) =&gt;
		chunkInitial ? formatFlag(&quot;initial&quot;) : undefined,
	&quot;error.file&quot;: (file, { bold }) =&gt; bold(file),
	&quot;error.moduleName&quot;: (moduleName, { bold }) =&gt;
		moduleName.includes(&quot;!&quot;)
			? `${bold(moduleName.replace(/^(\s|\S)*!/, &quot;&quot;))} (${moduleName})`
			: `${bold(moduleName)}`,
	&quot;error.loc&quot;: (loc, { green }) =&gt; green(loc),
	&quot;error.message&quot;: (message, { bold, formatError }) =&gt;
		message.includes(&quot;\u001B[&quot;) ? message : bold(formatError(message)),
	&quot;error.details&quot;: (details, { formatError }) =&gt; formatError(details),
	&quot;error.filteredDetails&quot;: filteredDetails =&gt;
		filteredDetails ? `+ ${filteredDetails} hidden lines` : undefined,
	&quot;error.stack&quot;: stack =&gt; stack,
	&quot;error.cause&quot;: (cause, context, printer) =&gt;
		cause
			? indent(
					`[cause]: ${
						/** @type {string} */
						(printer.print(`${context.type}.error`, cause, context))
					}`,
					&quot;  &quot;
				)
			: undefined,
	&quot;error.moduleTrace&quot;: moduleTrace =&gt; undefined,
	&quot;error.separator!&quot;: () =&gt; &quot;\n&quot;
};

/**
 * @typedef {Printers&lt;KnownStatsLoggingEntry, `loggingEntry(${LogTypeEnum}).loggingEntry`&gt; &amp;
 * { [&quot;loggingEntry(clear).loggingEntry&quot;]?: SimplePrinter&lt;KnownStatsLoggingEntry, &quot;logging&quot;&gt; } &amp;
 * { [&quot;loggingEntry.trace[]&quot;]?: SimplePrinter&lt;Exclude&lt;KnownStatsLoggingEntry[&quot;trace&quot;], undefined&gt;[number], &quot;logging&quot;&gt; } &amp;
 * { loggingGroup?: SimplePrinter&lt;KnownStatsLogging[], &quot;logging&quot;&gt; } &amp;
 * Printers&lt;KnownStatsLogging &amp; { name: string }, `loggingGroup`&gt; &amp;
 * Exclamation&lt;KnownStatsLogging, &quot;loggingGroup.separator&quot;, &quot;loggingGroup&quot;&gt;} LogEntryPrinters
 */

/** @type {LogEntryPrinters} */
const LOG_ENTRY_PRINTERS = {
	&quot;loggingEntry(error).loggingEntry.message&quot;: (message, { red }) =&gt;
		mapLines(message, x =&gt; `&lt;e&gt; ${red(x)}`),
	&quot;loggingEntry(warn).loggingEntry.message&quot;: (message, { yellow }) =&gt;
		mapLines(message, x =&gt; `&lt;w&gt; ${yellow(x)}`),
	&quot;loggingEntry(info).loggingEntry.message&quot;: (message, { green }) =&gt;
		mapLines(message, x =&gt; `&lt;i&gt; ${green(x)}`),
	&quot;loggingEntry(log).loggingEntry.message&quot;: (message, { bold }) =&gt;
		mapLines(message, x =&gt; `    ${bold(x)}`),
	&quot;loggingEntry(debug).loggingEntry.message&quot;: message =&gt;
		mapLines(message, x =&gt; `    ${x}`),
	&quot;loggingEntry(trace).loggingEntry.message&quot;: message =&gt;
		mapLines(message, x =&gt; `    ${x}`),
	&quot;loggingEntry(status).loggingEntry.message&quot;: (message, { magenta }) =&gt;
		mapLines(message, x =&gt; `&lt;s&gt; ${magenta(x)}`),
	&quot;loggingEntry(profile).loggingEntry.message&quot;: (message, { magenta }) =&gt;
		mapLines(message, x =&gt; `&lt;p&gt; ${magenta(x)}`),
	&quot;loggingEntry(profileEnd).loggingEntry.message&quot;: (message, { magenta }) =&gt;
		mapLines(message, x =&gt; `&lt;/p&gt; ${magenta(x)}`),
	&quot;loggingEntry(time).loggingEntry.message&quot;: (message, { magenta }) =&gt;
		mapLines(message, x =&gt; `&lt;t&gt; ${magenta(x)}`),
	&quot;loggingEntry(group).loggingEntry.message&quot;: (message, { cyan }) =&gt;
		mapLines(message, x =&gt; `&lt;-&gt; ${cyan(x)}`),
	&quot;loggingEntry(groupCollapsed).loggingEntry.message&quot;: (message, { cyan }) =&gt;
		mapLines(message, x =&gt; `&lt;+&gt; ${cyan(x)}`),
	&quot;loggingEntry(clear).loggingEntry&quot;: () =&gt; &quot;    -------&quot;,
	&quot;loggingEntry(groupCollapsed).loggingEntry.children&quot;: () =&gt; &quot;&quot;,
	&quot;loggingEntry.trace[]&quot;: trace =&gt;
		trace ? mapLines(trace, x =&gt; `| ${x}`) : undefined,

	loggingGroup: loggingGroup =&gt;
		loggingGroup.entries.length === 0 ? &quot;&quot; : undefined,
	&quot;loggingGroup.debug&quot;: (flag, { red }) =&gt; (flag ? red(&quot;DEBUG&quot;) : undefined),
	&quot;loggingGroup.name&quot;: (name, { bold }) =&gt; bold(`LOG from ${name}`),
	&quot;loggingGroup.separator!&quot;: () =&gt; &quot;\n&quot;,
	&quot;loggingGroup.filteredEntries&quot;: filteredEntries =&gt;
		filteredEntries &gt; 0 ? `+ ${filteredEntries} hidden lines` : undefined
};

/** @typedef {Printers&lt;KnownStatsModuleTraceItem, &quot;moduleTraceItem&quot;&gt;} ModuleTraceItemPrinters */

/** @type {ModuleTraceItemPrinters} */
const MODULE_TRACE_ITEM_PRINTERS = {
	&quot;moduleTraceItem.originName&quot;: originName =&gt; originName
};

/** @typedef {Printers&lt;KnownStatsModuleTraceDependency, &quot;moduleTraceDependency&quot;&gt;} ModuleTraceDependencyPrinters */

/** @type {ModuleTraceDependencyPrinters} */
const MODULE_TRACE_DEPENDENCY_PRINTERS = {
	&quot;moduleTraceDependency.loc&quot;: loc =&gt; loc
};

/**
 * @type {Record&lt;string, string | ((item: KnownStatsLoggingEntry) =&gt; string)&gt;}
 */
const ITEM_NAMES = {
	&quot;compilation.assets[]&quot;: &quot;asset&quot;,
	&quot;compilation.modules[]&quot;: &quot;module&quot;,
	&quot;compilation.chunks[]&quot;: &quot;chunk&quot;,
	&quot;compilation.entrypoints[]&quot;: &quot;chunkGroup&quot;,
	&quot;compilation.namedChunkGroups[]&quot;: &quot;chunkGroup&quot;,
	&quot;compilation.errors[]&quot;: &quot;error&quot;,
	&quot;compilation.warnings[]&quot;: &quot;error&quot;,
	&quot;compilation.logging[]&quot;: &quot;loggingGroup&quot;,
	&quot;compilation.children[]&quot;: &quot;compilation&quot;,
	&quot;asset.related[]&quot;: &quot;asset&quot;,
	&quot;asset.children[]&quot;: &quot;asset&quot;,
	&quot;asset.chunks[]&quot;: &quot;assetChunk&quot;,
	&quot;asset.auxiliaryChunks[]&quot;: &quot;assetChunk&quot;,
	&quot;asset.chunkNames[]&quot;: &quot;assetChunkName&quot;,
	&quot;asset.chunkIdHints[]&quot;: &quot;assetChunkIdHint&quot;,
	&quot;asset.auxiliaryChunkNames[]&quot;: &quot;assetChunkName&quot;,
	&quot;asset.auxiliaryChunkIdHints[]&quot;: &quot;assetChunkIdHint&quot;,
	&quot;chunkGroup.assets[]&quot;: &quot;chunkGroupAsset&quot;,
	&quot;chunkGroup.auxiliaryAssets[]&quot;: &quot;chunkGroupAsset&quot;,
	&quot;chunkGroupChild.assets[]&quot;: &quot;chunkGroupAsset&quot;,
	&quot;chunkGroupChild.auxiliaryAssets[]&quot;: &quot;chunkGroupAsset&quot;,
	&quot;chunkGroup.children[]&quot;: &quot;chunkGroupChildGroup&quot;,
	&quot;chunkGroupChildGroup.children[]&quot;: &quot;chunkGroupChild&quot;,
	&quot;module.modules[]&quot;: &quot;module&quot;,
	&quot;module.children[]&quot;: &quot;module&quot;,
	&quot;module.reasons[]&quot;: &quot;moduleReason&quot;,
	&quot;moduleReason.children[]&quot;: &quot;moduleReason&quot;,
	&quot;module.issuerPath[]&quot;: &quot;moduleIssuer&quot;,
	&quot;chunk.origins[]&quot;: &quot;chunkOrigin&quot;,
	&quot;chunk.modules[]&quot;: &quot;module&quot;,
	&quot;loggingGroup.entries[]&quot;: logEntry =&gt;
		`loggingEntry(${logEntry.type}).loggingEntry`,
	&quot;loggingEntry.children[]&quot;: logEntry =&gt;
		`loggingEntry(${logEntry.type}).loggingEntry`,
	&quot;error.moduleTrace[]&quot;: &quot;moduleTraceItem&quot;,
	&quot;error.errors[]&quot;: &quot;error&quot;,
	&quot;moduleTraceItem.dependencies[]&quot;: &quot;moduleTraceDependency&quot;
};

const ERROR_PREFERRED_ORDER = [
	&quot;compilerPath&quot;,
	&quot;chunkId&quot;,
	&quot;chunkEntry&quot;,
	&quot;chunkInitial&quot;,
	&quot;file&quot;,
	&quot;separator!&quot;,
	&quot;moduleName&quot;,
	&quot;loc&quot;,
	&quot;separator!&quot;,
	&quot;message&quot;,
	&quot;separator!&quot;,
	&quot;details&quot;,
	&quot;separator!&quot;,
	&quot;filteredDetails&quot;,
	&quot;separator!&quot;,
	&quot;stack&quot;,
	&quot;separator!&quot;,
	&quot;cause&quot;,
	&quot;separator!&quot;,
	&quot;missing&quot;,
	&quot;separator!&quot;,
	&quot;moduleTrace&quot;
];

/** @type {Record&lt;string, string[]&gt;} */
const PREFERRED_ORDERS = {
	compilation: [
		&quot;name&quot;,
		&quot;hash&quot;,
		&quot;version&quot;,
		&quot;time&quot;,
		&quot;builtAt&quot;,
		&quot;env&quot;,
		&quot;publicPath&quot;,
		&quot;assets&quot;,
		&quot;filteredAssets&quot;,
		&quot;entrypoints&quot;,
		&quot;namedChunkGroups&quot;,
		&quot;chunks&quot;,
		&quot;modules&quot;,
		&quot;filteredModules&quot;,
		&quot;children&quot;,
		&quot;logging&quot;,
		&quot;warnings&quot;,
		&quot;warningsInChildren!&quot;,
		&quot;filteredWarningDetailsCount&quot;,
		&quot;errors&quot;,
		&quot;errorsInChildren!&quot;,
		&quot;filteredErrorDetailsCount&quot;,
		&quot;summary!&quot;,
		&quot;needAdditionalPass&quot;
	],
	asset: [
		&quot;type&quot;,
		&quot;name&quot;,
		&quot;size&quot;,
		&quot;chunks&quot;,
		&quot;auxiliaryChunks&quot;,
		&quot;emitted&quot;,
		&quot;comparedForEmit&quot;,
		&quot;cached&quot;,
		&quot;info&quot;,
		&quot;isOverSizeLimit&quot;,
		&quot;chunkNames&quot;,
		&quot;auxiliaryChunkNames&quot;,
		&quot;chunkIdHints&quot;,
		&quot;auxiliaryChunkIdHints&quot;,
		&quot;related&quot;,
		&quot;filteredRelated&quot;,
		&quot;children&quot;,
		&quot;filteredChildren&quot;
	],
	&quot;asset.info&quot;: [
		&quot;immutable&quot;,
		&quot;sourceFilename&quot;,
		&quot;javascriptModule&quot;,
		&quot;development&quot;,
		&quot;hotModuleReplacement&quot;
	],
	chunkGroup: [
		&quot;kind!&quot;,
		&quot;name&quot;,
		&quot;isOverSizeLimit&quot;,
		&quot;assetsSize&quot;,
		&quot;auxiliaryAssetsSize&quot;,
		&quot;is!&quot;,
		&quot;assets&quot;,
		&quot;filteredAssets&quot;,
		&quot;auxiliaryAssets&quot;,
		&quot;filteredAuxiliaryAssets&quot;,
		&quot;separator!&quot;,
		&quot;children&quot;
	],
	chunkGroupAsset: [&quot;name&quot;, &quot;size&quot;],
	chunkGroupChildGroup: [&quot;type&quot;, &quot;children&quot;],
	chunkGroupChild: [&quot;assets&quot;, &quot;chunks&quot;, &quot;name&quot;],
	module: [
		&quot;type&quot;,
		&quot;name&quot;,
		&quot;identifier&quot;,
		&quot;id&quot;,
		&quot;layer&quot;,
		&quot;sizes&quot;,
		&quot;chunks&quot;,
		&quot;depth&quot;,
		&quot;cacheable&quot;,
		&quot;orphan&quot;,
		&quot;runtime&quot;,
		&quot;optional&quot;,
		&quot;dependent&quot;,
		&quot;built&quot;,
		&quot;codeGenerated&quot;,
		&quot;cached&quot;,
		&quot;assets&quot;,
		&quot;failed&quot;,
		&quot;warnings&quot;,
		&quot;errors&quot;,
		&quot;children&quot;,
		&quot;filteredChildren&quot;,
		&quot;providedExports&quot;,
		&quot;usedExports&quot;,
		&quot;optimizationBailout&quot;,
		&quot;reasons&quot;,
		&quot;filteredReasons&quot;,
		&quot;issuerPath&quot;,
		&quot;profile&quot;,
		&quot;modules&quot;,
		&quot;filteredModules&quot;
	],
	moduleReason: [
		&quot;active&quot;,
		&quot;type&quot;,
		&quot;userRequest&quot;,
		&quot;moduleId&quot;,
		&quot;module&quot;,
		&quot;resolvedModule&quot;,
		&quot;loc&quot;,
		&quot;explanation&quot;,
		&quot;children&quot;,
		&quot;filteredChildren&quot;
	],
	&quot;module.profile&quot;: [
		&quot;total&quot;,
		&quot;separator!&quot;,
		&quot;resolving&quot;,
		&quot;restoring&quot;,
		&quot;integration&quot;,
		&quot;building&quot;,
		&quot;storing&quot;,
		&quot;additionalResolving&quot;,
		&quot;additionalIntegration&quot;
	],
	chunk: [
		&quot;id&quot;,
		&quot;runtime&quot;,
		&quot;files&quot;,
		&quot;names&quot;,
		&quot;idHints&quot;,
		&quot;sizes&quot;,
		&quot;parents&quot;,
		&quot;siblings&quot;,
		&quot;children&quot;,
		&quot;childrenByOrder&quot;,
		&quot;entry&quot;,
		&quot;initial&quot;,
		&quot;rendered&quot;,
		&quot;recorded&quot;,
		&quot;reason&quot;,
		&quot;separator!&quot;,
		&quot;origins&quot;,
		&quot;separator!&quot;,
		&quot;modules&quot;,
		&quot;separator!&quot;,
		&quot;filteredModules&quot;
	],
	chunkOrigin: [&quot;request&quot;, &quot;moduleId&quot;, &quot;moduleName&quot;, &quot;loc&quot;],
	error: ERROR_PREFERRED_ORDER,
	warning: ERROR_PREFERRED_ORDER,
	&quot;chunk.childrenByOrder[]&quot;: [&quot;type&quot;, &quot;children&quot;],
	loggingGroup: [
		&quot;debug&quot;,
		&quot;name&quot;,
		&quot;separator!&quot;,
		&quot;entries&quot;,
		&quot;separator!&quot;,
		&quot;filteredEntries&quot;
	],
	loggingEntry: [&quot;message&quot;, &quot;trace&quot;, &quot;children&quot;]
};

/** @typedef {(items: string[]) =&gt; string | undefined} SimpleItemsJoiner */

/** @type {SimpleItemsJoiner} */
const itemsJoinOneLine = items =&gt; items.filter(Boolean).join(&quot; &quot;);
/** @type {SimpleItemsJoiner} */
const itemsJoinOneLineBrackets = items =&gt;
	items.length &gt; 0 ? `(${items.filter(Boolean).join(&quot; &quot;)})` : undefined;
/** @type {SimpleItemsJoiner} */
const itemsJoinMoreSpacing = items =&gt; items.filter(Boolean).join(&quot;\n\n&quot;);
/** @type {SimpleItemsJoiner} */
const itemsJoinComma = items =&gt; items.filter(Boolean).join(&quot;, &quot;);
/** @type {SimpleItemsJoiner} */
const itemsJoinCommaBrackets = items =&gt;
	items.length &gt; 0 ? `(${items.filter(Boolean).join(&quot;, &quot;)})` : undefined;
/** @type {(item: string) =&gt; SimpleItemsJoiner} */
const itemsJoinCommaBracketsWithName = name =&gt; items =&gt;
	items.length &gt; 0
		? `(${name}: ${items.filter(Boolean).join(&quot;, &quot;)})`
		: undefined;

/** @type {Record&lt;string, SimpleItemsJoiner&gt;} */
const SIMPLE_ITEMS_JOINER = {
	&quot;chunk.parents&quot;: itemsJoinOneLine,
	&quot;chunk.siblings&quot;: itemsJoinOneLine,
	&quot;chunk.children&quot;: itemsJoinOneLine,
	&quot;chunk.names&quot;: itemsJoinCommaBrackets,
	&quot;chunk.idHints&quot;: itemsJoinCommaBracketsWithName(&quot;id hint&quot;),
	&quot;chunk.runtime&quot;: itemsJoinCommaBracketsWithName(&quot;runtime&quot;),
	&quot;chunk.files&quot;: itemsJoinComma,
	&quot;chunk.childrenByOrder&quot;: itemsJoinOneLine,
	&quot;chunk.childrenByOrder[].children&quot;: itemsJoinOneLine,
	&quot;chunkGroup.assets&quot;: itemsJoinOneLine,
	&quot;chunkGroup.auxiliaryAssets&quot;: itemsJoinOneLineBrackets,
	&quot;chunkGroupChildGroup.children&quot;: itemsJoinComma,
	&quot;chunkGroupChild.assets&quot;: itemsJoinOneLine,
	&quot;chunkGroupChild.auxiliaryAssets&quot;: itemsJoinOneLineBrackets,
	&quot;asset.chunks&quot;: itemsJoinComma,
	&quot;asset.auxiliaryChunks&quot;: itemsJoinCommaBrackets,
	&quot;asset.chunkNames&quot;: itemsJoinCommaBracketsWithName(&quot;name&quot;),
	&quot;asset.auxiliaryChunkNames&quot;: itemsJoinCommaBracketsWithName(&quot;auxiliary name&quot;),
	&quot;asset.chunkIdHints&quot;: itemsJoinCommaBracketsWithName(&quot;id hint&quot;),
	&quot;asset.auxiliaryChunkIdHints&quot;:
		itemsJoinCommaBracketsWithName(&quot;auxiliary id hint&quot;),
	&quot;module.chunks&quot;: itemsJoinOneLine,
	&quot;module.issuerPath&quot;: items =&gt;
		items
			.filter(Boolean)
			.map(item =&gt; `${item} -&gt;`)
			.join(&quot; &quot;),
	&quot;compilation.errors&quot;: itemsJoinMoreSpacing,
	&quot;compilation.warnings&quot;: itemsJoinMoreSpacing,
	&quot;compilation.logging&quot;: itemsJoinMoreSpacing,
	&quot;compilation.children&quot;: items =&gt;
		indent(/** @type {string} */ (itemsJoinMoreSpacing(items)), &quot;  &quot;),
	&quot;moduleTraceItem.dependencies&quot;: itemsJoinOneLine,
	&quot;loggingEntry.children&quot;: items =&gt;
		indent(items.filter(Boolean).join(&quot;\n&quot;), &quot;  &quot;, false)
};

/**
 * @param {Item[]} items items
 * @returns {string} result
 */
const joinOneLine = items =&gt;
	items
		.map(item =&gt; item.content)
		.filter(Boolean)
		.join(&quot; &quot;);

/**
 * @param {Item[]} items items
 * @returns {string} result
 */
const joinInBrackets = items =&gt; {
	const res = [];
	let mode = 0;
	for (const item of items) {
		if (item.element === &quot;separator!&quot;) {
			switch (mode) {
				case 0:
				case 1:
					mode += 2;
					break;
				case 4:
					res.push(&quot;)&quot;);
					mode = 3;
					break;
			}
		}
		if (!item.content) continue;
		switch (mode) {
			case 0:
				mode = 1;
				break;
			case 1:
				res.push(&quot; &quot;);
				break;
			case 2:
				res.push(&quot;(&quot;);
				mode = 4;
				break;
			case 3:
				res.push(&quot; (&quot;);
				mode = 4;
				break;
			case 4:
				res.push(&quot;, &quot;);
				break;
		}
		res.push(item.content);
	}
	if (mode === 4) res.push(&quot;)&quot;);
	return res.join(&quot;&quot;);
};

/**
 * @param {string} str a string
 * @param {string} prefix prefix
 * @param {boolean=} noPrefixInFirstLine need prefix in the first line?
 * @returns {string} result
 */
const indent = (str, prefix, noPrefixInFirstLine) =&gt; {
	const rem = str.replace(/\n([^\n])/g, `\n${prefix}$1`);
	if (noPrefixInFirstLine) return rem;
	const ind = str[0] === &quot;\n&quot; ? &quot;&quot; : prefix;
	return ind + rem;
};

/**
 * @param {(false | Item)[]} items items
 * @param {string} indenter indenter
 * @returns {string} result
 */
const joinExplicitNewLine = (items, indenter) =&gt; {
	let firstInLine = true;
	let first = true;
	return items
		.map(item =&gt; {
			if (!item || !item.content) return;
			let content = indent(item.content, first ? &quot;&quot; : indenter, !firstInLine);
			if (firstInLine) {
				content = content.replace(/^\n+/, &quot;&quot;);
			}
			if (!content) return;
			first = false;
			const noJoiner = firstInLine || content.startsWith(&quot;\n&quot;);
			firstInLine = content.endsWith(&quot;\n&quot;);
			return noJoiner ? content : ` ${content}`;
		})
		.filter(Boolean)
		.join(&quot;&quot;)
		.trim();
};

/**
 * @param {boolean} error is an error
 * @returns {SimpleElementJoiner} joiner
 */
const joinError =
	error =&gt;
	/**
	 * @param {Item[]} items items
	 * @param {StatsPrinterContextWithExtra} ctx context
	 * @returns {string} result
	 */
	(items, { red, yellow }) =&gt;
		`${error ? red(&quot;ERROR&quot;) : yellow(&quot;WARNING&quot;)} in ${joinExplicitNewLine(
			items,
			&quot;&quot;
		)}`;

/** @typedef {{ element: string, content: string | undefined }} Item */
/** @typedef {(items: Item[], context: StatsPrinterContextWithExtra &amp; Required&lt;KnownStatsPrinterContext&gt;) =&gt; string} SimpleElementJoiner */

/** @type {Record&lt;string, SimpleElementJoiner&gt;} */
const SIMPLE_ELEMENT_JOINERS = {
	compilation: items =&gt; {
		const result = [];
		let lastNeedMore = false;
		for (const item of items) {
			if (!item.content) continue;
			const needMoreSpace =
				item.element === &quot;warnings&quot; ||
				item.element === &quot;filteredWarningDetailsCount&quot; ||
				item.element === &quot;errors&quot; ||
				item.element === &quot;filteredErrorDetailsCount&quot; ||
				item.element === &quot;logging&quot;;
			if (result.length !== 0) {
				result.push(needMoreSpace || lastNeedMore ? &quot;\n\n&quot; : &quot;\n&quot;);
			}
			result.push(item.content);
			lastNeedMore = needMoreSpace;
		}
		if (lastNeedMore) result.push(&quot;\n&quot;);
		return result.join(&quot;&quot;);
	},
	asset: items =&gt;
		joinExplicitNewLine(
			items.map(item =&gt; {
				if (
					(item.element === &quot;related&quot; || item.element === &quot;children&quot;) &amp;&amp;
					item.content
				) {
					return {
						...item,
						content: `\n${item.content}\n`
					};
				}
				return item;
			}),
			&quot;  &quot;
		),
	&quot;asset.info&quot;: joinOneLine,
	module: (items, { module }) =&gt; {
		let hasName = false;
		return joinExplicitNewLine(
			items.map(item =&gt; {
				switch (item.element) {
					case &quot;id&quot;:
						if (module.id === module.name) {
							if (hasName) return false;
							if (item.content) hasName = true;
						}
						break;
					case &quot;name&quot;:
						if (hasName) return false;
						if (item.content) hasName = true;
						break;
					case &quot;providedExports&quot;:
					case &quot;usedExports&quot;:
					case &quot;optimizationBailout&quot;:
					case &quot;reasons&quot;:
					case &quot;issuerPath&quot;:
					case &quot;profile&quot;:
					case &quot;children&quot;:
					case &quot;modules&quot;:
						if (item.content) {
							return {
								...item,
								content: `\n${item.content}\n`
							};
						}
						break;
				}
				return item;
			}),
			&quot;  &quot;
		);
	},
	chunk: items =&gt; {
		let hasEntry = false;
		return `chunk ${joinExplicitNewLine(
			items.filter(item =&gt; {
				switch (item.element) {
					case &quot;entry&quot;:
						if (item.content) hasEntry = true;
						break;
					case &quot;initial&quot;:
						if (hasEntry) return false;
						break;
				}
				return true;
			}),
			&quot;  &quot;
		)}`;
	},
	&quot;chunk.childrenByOrder[]&quot;: items =&gt; `(${joinOneLine(items)})`,
	chunkGroup: items =&gt; joinExplicitNewLine(items, &quot;  &quot;),
	chunkGroupAsset: joinOneLine,
	chunkGroupChildGroup: joinOneLine,
	chunkGroupChild: joinOneLine,
	moduleReason: (items, { moduleReason }) =&gt; {
		let hasName = false;
		return joinExplicitNewLine(
			items.map(item =&gt; {
				switch (item.element) {
					case &quot;moduleId&quot;:
						if (moduleReason.moduleId === moduleReason.module &amp;&amp; item.content)
							hasName = true;
						break;
					case &quot;module&quot;:
						if (hasName) return false;
						break;
					case &quot;resolvedModule&quot;:
						if (moduleReason.module === moduleReason.resolvedModule)
							return false;
						break;
					case &quot;children&quot;:
						if (item.content) {
							return {
								...item,
								content: `\n${item.content}\n`
							};
						}
						break;
				}
				return item;
			}),
			&quot;  &quot;
		);
	},
	&quot;module.profile&quot;: joinInBrackets,
	moduleIssuer: joinOneLine,
	chunkOrigin: items =&gt; `&gt; ${joinOneLine(items)}`,
	&quot;errors[].error&quot;: joinError(true),
	&quot;warnings[].error&quot;: joinError(false),
	error: items =&gt; joinExplicitNewLine(items, &quot;&quot;),
	&quot;error.errors[].error&quot;: items =&gt;
		indent(`[errors]: ${joinExplicitNewLine(items, &quot;&quot;)}`, &quot;  &quot;),
	loggingGroup: items =&gt; joinExplicitNewLine(items, &quot;&quot;).trimEnd(),
	moduleTraceItem: items =&gt; ` @ ${joinOneLine(items)}`,
	moduleTraceDependency: joinOneLine
};

/** @type {Record&lt;keyof KnownStatsPrinterColorFunctions, string&gt;} */
const AVAILABLE_COLORS = {
	bold: &quot;\u001B[1m&quot;,
	yellow: &quot;\u001B[1m\u001B[33m&quot;,
	red: &quot;\u001B[1m\u001B[31m&quot;,
	green: &quot;\u001B[1m\u001B[32m&quot;,
	cyan: &quot;\u001B[1m\u001B[36m&quot;,
	magenta: &quot;\u001B[1m\u001B[35m&quot;
};

/** @typedef {Required&lt;{ [Key in keyof KnownStatsPrinterFormatters]: (value: Parameters&lt;NonNullable&lt;KnownStatsPrinterFormatters[Key]&gt;&gt;[0], options: Required&lt;KnownStatsPrinterColorFunctions&gt; &amp; StatsPrinterContext, ...args: TODO[]) =&gt; string }&gt;} AvailableFormats */

/** @type {AvailableFormats} */
const AVAILABLE_FORMATS = {
	formatChunkId: (id, { yellow }, direction) =&gt; {
		switch (direction) {
			case &quot;parent&quot;:
				return `&lt;{${yellow(id)}}&gt;`;
			case &quot;sibling&quot;:
				return `={${yellow(id)}}=`;
			case &quot;child&quot;:
				return `&gt;{${yellow(id)}}&lt;`;
			default:
				return `{${yellow(id)}}`;
		}
	},
	formatModuleId: id =&gt; `[${id}]`,
	formatFilename: (filename, { green, yellow }, oversize) =&gt;
		(oversize ? yellow : green)(filename),
	formatFlag: flag =&gt; `[${flag}]`,
	formatLayer: layer =&gt; `(in ${layer})`,
	formatSize: require(&quot;../SizeFormatHelpers&quot;).formatSize,
	formatDateTime: (dateTime, { bold }) =&gt; {
		const d = new Date(dateTime);
		const x = twoDigit;
		const date = `${d.getFullYear()}-${x(d.getMonth() + 1)}-${x(d.getDate())}`;
		const time = `${x(d.getHours())}:${x(d.getMinutes())}:${x(d.getSeconds())}`;
		return `${date} ${bold(time)}`;
	},
	formatTime: (
		time,
		{ timeReference, bold, green, yellow, red },
		boldQuantity
	) =&gt; {
		const unit = &quot; ms&quot;;
		if (timeReference &amp;&amp; time !== timeReference) {
			const times = [
				timeReference / 2,
				timeReference / 4,
				timeReference / 8,
				timeReference / 16
			];
			if (time &lt; times[3]) return `${time}${unit}`;
			else if (time &lt; times[2]) return bold(`${time}${unit}`);
			else if (time &lt; times[1]) return green(`${time}${unit}`);
			else if (time &lt; times[0]) return yellow(`${time}${unit}`);
			return red(`${time}${unit}`);
		}
		return `${boldQuantity ? bold(time) : time}${unit}`;
	},
	formatError: (message, { green, yellow, red }) =&gt; {
		if (message.includes(&quot;\u001B[&quot;)) return message;
		const highlights = [
			{ regExp: /(Did you mean .+)/g, format: green },
			{
				regExp: /(Set &#039;mode&#039; option to &#039;development&#039; or &#039;production&#039;)/g,
				format: green
			},
			{ regExp: /(\(module has no exports\))/g, format: red },
			{ regExp: /\(possible exports: (.+)\)/g, format: green },
			{ regExp: /(?:^|\n)(.* doesn&#039;t exist)/g, format: red },
			{ regExp: /(&#039;\w+&#039; option has not been set)/g, format: red },
			{
				regExp: /(Emitted value instead of an instance of Error)/g,
				format: yellow
			},
			{ regExp: /(Used? .+ instead)/gi, format: yellow },
			{ regExp: /\b(deprecated|must|required)\b/g, format: yellow },
			{
				regExp: /\b(BREAKING CHANGE)\b/gi,
				format: red
			},
			{
				regExp:
					/\b(error|failed|unexpected|invalid|not found|not supported|not available|not possible|not implemented|doesn&#039;t support|conflict|conflicting|not existing|duplicate)\b/gi,
				format: red
			}
		];
		for (const { regExp, format } of highlights) {
			message = message.replace(
				regExp,
				/**
				 * @param {string} match match
				 * @param {string} content content
				 * @returns {string} result
				 */
				(match, content) =&gt; match.replace(content, format(content))
			);
		}
		return message;
	}
};

/** @typedef {(result: string) =&gt; string} ResultModifierFn */
/** @type {Record&lt;string, ResultModifierFn&gt;} */
const RESULT_MODIFIER = {
	&quot;module.modules&quot;: result =&gt; indent(result, &quot;| &quot;)
};

/**
 * @param {string[]} array array
 * @param {string[]} preferredOrder preferred order
 * @returns {string[]} result
 */
const createOrder = (array, preferredOrder) =&gt; {
	const originalArray = array.slice();
	/** @type {Set&lt;string&gt;} */
	const set = new Set(array);
	/** @type {Set&lt;string&gt;} */
	const usedSet = new Set();
	array.length = 0;
	for (const element of preferredOrder) {
		if (element.endsWith(&quot;!&quot;) || set.has(element)) {
			array.push(element);
			usedSet.add(element);
		}
	}
	for (const element of originalArray) {
		if (!usedSet.has(element)) {
			array.push(element);
		}
	}
	return array;
};

const PLUGIN_NAME = &quot;DefaultStatsPrinterPlugin&quot;;

class DefaultStatsPrinterPlugin {
	/**
	 * Apply the plugin
	 * @param {Compiler} compiler the compiler instance
	 * @returns {void}
	 */
	apply(compiler) {
		compiler.hooks.compilation.tap(PLUGIN_NAME, compilation =&gt; {
			compilation.hooks.statsPrinter.tap(PLUGIN_NAME, (stats, options) =&gt; {
				// Put colors into context
				stats.hooks.print
					.for(&quot;compilation&quot;)
					.tap(PLUGIN_NAME, (compilation, context) =&gt; {
						for (const color of Object.keys(AVAILABLE_COLORS)) {
							const name =
								/** @type {keyof KnownStatsPrinterColorFunctions} */
								(color);
							/** @type {string | undefined} */
							let start;
							if (options.colors) {
								if (
									typeof options.colors === &quot;object&quot; &amp;&amp;
									typeof options.colors[name] === &quot;string&quot;
								) {
									start = options.colors[name];
								} else {
									start = AVAILABLE_COLORS[name];
								}
							}
							if (start) {
								/** @type {ColorFunction} */
								context[color] = str =&gt;
									`${start}${
										typeof str === &quot;string&quot;
											? str.replace(
													/((\u001B\[39m|\u001B\[22m|\u001B\[0m)+)/g,
													`$1${start}`
												)
											: str
									}\u001B[39m\u001B[22m`;
							} else {
								/**
								 * @param {string} str string
								 * @returns {string} str string
								 */
								context[color] = str =&gt; str;
							}
						}
						for (const format of Object.keys(AVAILABLE_FORMATS)) {
							context[format] =
								/**
								 * @param {string | number} content content
								 * @param {...TODO} args args
								 * @returns {string} result
								 */
								(content, ...args) =&gt;
									/** @type {TODO} */
									(
										AVAILABLE_FORMATS[
											/** @type {keyof AvailableFormats} */
											(format)
										]
									)(
										content,
										/** @type {StatsPrinterContext &amp; Required&lt;KnownStatsPrinterColorFunctions&gt;} */
										(context),
										...args
									);
						}
						context.timeReference = compilation.time;
					});

				for (const key of Object.keys(COMPILATION_SIMPLE_PRINTERS)) {
					stats.hooks.print.for(key).tap(PLUGIN_NAME, (obj, ctx) =&gt;
						/** @type {TODO} */
						(
							COMPILATION_SIMPLE_PRINTERS[
								/** @type {keyof CompilationSimplePrinters} */
								(key)
							]
						)(
							obj,
							/** @type {DefineStatsPrinterContext&lt;&quot;compilation&quot;&gt;} */
							(ctx),
							stats
						)
					);
				}

				for (const key of Object.keys(ASSET_SIMPLE_PRINTERS)) {
					stats.hooks.print.for(key).tap(PLUGIN_NAME, (obj, ctx) =&gt;
						/** @type {NonNullable&lt;AssetSimplePrinters[keyof AssetSimplePrinters]&gt;} */
						(
							ASSET_SIMPLE_PRINTERS[
								/** @type {keyof AssetSimplePrinters} */
								(key)
							]
						)(
							obj,
							/** @type {DefineStatsPrinterContext&lt;&quot;asset&quot; | &quot;asset.info&quot;&gt;} */
							(ctx),
							stats
						)
					);
				}

				for (const key of Object.keys(MODULE_SIMPLE_PRINTERS)) {
					stats.hooks.print.for(key).tap(PLUGIN_NAME, (obj, ctx) =&gt;
						/** @type {TODO} */
						(
							MODULE_SIMPLE_PRINTERS[
								/** @type {keyof ModuleSimplePrinters} */
								(key)
							]
						)(
							obj,
							/** @type {DefineStatsPrinterContext&lt;&quot;module&quot;&gt;} */
							(ctx),
							stats
						)
					);
				}

				for (const key of Object.keys(MODULE_ISSUER_PRINTERS)) {
					stats.hooks.print.for(key).tap(PLUGIN_NAME, (obj, ctx) =&gt;
						/** @type {NonNullable&lt;ModuleIssuerPrinters[keyof ModuleIssuerPrinters]&gt;} */
						(
							MODULE_ISSUER_PRINTERS[
								/** @type {keyof ModuleIssuerPrinters} */
								(key)
							]
						)(
							obj,
							/** @type {DefineStatsPrinterContext&lt;&quot;moduleIssuer&quot;&gt;} */
							(ctx),
							stats
						)
					);
				}

				for (const key of Object.keys(MODULE_REASON_PRINTERS)) {
					stats.hooks.print.for(key).tap(PLUGIN_NAME, (obj, ctx) =&gt;
						/** @type {TODO} */
						(
							MODULE_REASON_PRINTERS[
								/** @type {keyof ModuleReasonsPrinters} */
								(key)
							]
						)(
							obj,
							/** @type {DefineStatsPrinterContext&lt;&quot;moduleReason&quot;&gt;} */
							(ctx),
							stats
						)
					);
				}

				for (const key of Object.keys(MODULE_PROFILE_PRINTERS)) {
					stats.hooks.print.for(key).tap(PLUGIN_NAME, (obj, ctx) =&gt;
						/** @type {NonNullable&lt;ModuleProfilePrinters[keyof ModuleProfilePrinters]&gt;} */
						(
							MODULE_PROFILE_PRINTERS[
								/** @type {keyof ModuleProfilePrinters} */
								(key)
							]
						)(
							obj,
							/** @type {DefineStatsPrinterContext&lt;&quot;profile&quot;&gt;} */
							(ctx),
							stats
						)
					);
				}

				for (const key of Object.keys(CHUNK_GROUP_PRINTERS)) {
					stats.hooks.print.for(key).tap(PLUGIN_NAME, (obj, ctx) =&gt;
						/** @type {TODO} */
						(
							CHUNK_GROUP_PRINTERS[
								/** @type {keyof ChunkGroupPrinters} */
								(key)
							]
						)(
							obj,
							/** @type {DefineStatsPrinterContext&lt;&quot;chunkGroupKind&quot; | &quot;chunkGroup&quot;&gt;} */
							(ctx),
							stats
						)
					);
				}

				for (const key of Object.keys(CHUNK_PRINTERS)) {
					stats.hooks.print.for(key).tap(PLUGIN_NAME, (obj, ctx) =&gt;
						/** @type {TODO} */
						(CHUNK_PRINTERS[/** @type {keyof ChunkPrinters} */ (key)])(
							obj,
							/** @type {DefineStatsPrinterContext&lt;&quot;chunk&quot;&gt;} */
							(ctx),
							stats
						)
					);
				}

				for (const key of Object.keys(ERROR_PRINTERS)) {
					stats.hooks.print.for(key).tap(PLUGIN_NAME, (obj, ctx) =&gt;
						/** @type {TODO} */
						(ERROR_PRINTERS[/** @type {keyof ErrorPrinters} */ (key)])(
							obj,
							/** @type {DefineStatsPrinterContext&lt;&quot;error&quot;&gt;} */
							(ctx),
							stats
						)
					);
				}

				for (const key of Object.keys(LOG_ENTRY_PRINTERS)) {
					stats.hooks.print.for(key).tap(PLUGIN_NAME, (obj, ctx) =&gt;
						/** @type {TODO} */
						(
							LOG_ENTRY_PRINTERS[
								/** @type {keyof LogEntryPrinters} */
								(key)
							]
						)(
							obj,
							/** @type {DefineStatsPrinterContext&lt;&quot;logging&quot;&gt;} */
							(ctx),
							stats
						)
					);
				}

				for (const key of Object.keys(MODULE_TRACE_DEPENDENCY_PRINTERS)) {
					stats.hooks.print.for(key).tap(PLUGIN_NAME, (obj, ctx) =&gt;
						/** @type {NonNullable&lt;ModuleTraceDependencyPrinters[keyof ModuleTraceDependencyPrinters]&gt;} */
						(
							MODULE_TRACE_DEPENDENCY_PRINTERS[
								/** @type {keyof ModuleTraceDependencyPrinters} */
								(key)
							]
						)(
							obj,
							/** @type {DefineStatsPrinterContext&lt;&quot;moduleTraceDependency&quot;&gt;} */
							(ctx),
							stats
						)
					);
				}

				for (const key of Object.keys(MODULE_TRACE_ITEM_PRINTERS)) {
					stats.hooks.print.for(key).tap(PLUGIN_NAME, (obj, ctx) =&gt;
						/** @type {NonNullable&lt;ModuleTraceItemPrinters[keyof ModuleTraceItemPrinters]&gt;} */
						(
							MODULE_TRACE_ITEM_PRINTERS[
								/** @type {keyof ModuleTraceItemPrinters} */
								(key)
							]
						)(
							obj,
							/** @type {DefineStatsPrinterContext&lt;&quot;moduleTraceItem&quot;&gt;} */
							(ctx),
							stats
						)
					);
				}

				for (const key of Object.keys(PREFERRED_ORDERS)) {
					const preferredOrder = PREFERRED_ORDERS[key];
					stats.hooks.sortElements
						.for(key)
						.tap(PLUGIN_NAME, (elements, context) =&gt; {
							createOrder(elements, preferredOrder);
						});
				}

				for (const key of Object.keys(ITEM_NAMES)) {
					const itemName = ITEM_NAMES[key];
					stats.hooks.getItemName
						.for(key)
						.tap(
							PLUGIN_NAME,
							typeof itemName === &quot;string&quot; ? () =&gt; itemName : itemName
						);
				}

				for (const key of Object.keys(SIMPLE_ITEMS_JOINER)) {
					const joiner = SIMPLE_ITEMS_JOINER[key];
					stats.hooks.printItems.for(key).tap(PLUGIN_NAME, joiner);
				}

				for (const key of Object.keys(SIMPLE_ELEMENT_JOINERS)) {
					const joiner = SIMPLE_ELEMENT_JOINERS[key];
					stats.hooks.printElements
						.for(key)
						.tap(PLUGIN_NAME, /** @type {TODO} */ (joiner));
				}

				for (const key of Object.keys(RESULT_MODIFIER)) {
					const modifier = RESULT_MODIFIER[key];
					stats.hooks.result.for(key).tap(PLUGIN_NAME, modifier);
				}
			});
		});
	}
}
module.exports = DefaultStatsPrinterPlugin;
</textarea>
  </div>
</div>

<footer class="footer">
  <div class="container">
    <p>.</p>
  </div>
</footer>

<script type="text/html" id="complexity-popover-template">
  <div class="complexity-notice">
    Complexity : {{ complexity.cyclomatic }} <br>
    Length : {{ complexity.halstead.length }} <br>
    Difficulty : {{ complexity.halstead.difficulty.toFixed(2) }} <br>
    Est # bugs : {{ complexity.halstead.bugs.toFixed(2) }}<br>
  </div>
</script>

<script type="text/javascript" src="../../assets/scripts/bundles/core-bundle.js"></script>
<script type="text/javascript" src="../../assets/scripts/bundles/codemirror.js"></script>
<script type="text/javascript" src="../../assets/scripts/codemirror.markpopovertext.js"></script>
<script type="text/javascript" src="report.js"></script>
<script type="text/javascript" src="report.history.js"></script>
<script type="text/javascript" src="../../assets/scripts/plato-file.js"></script>
</body>
</html>
