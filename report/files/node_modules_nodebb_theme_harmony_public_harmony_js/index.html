<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Plato - node_modules/nodebb-theme-harmony/public/harmony.js</title>

  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="">
  <meta name="author" content="">

  <!--[if lt IE 9]>
  <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
  <![endif]-->

  <link href="../../assets/css/vendor/morris.css" rel="stylesheet" type="text/css">
  <link href="../../assets/css/vendor/bootstrap.css" rel="stylesheet" type="text/css">
  <link href="../../assets/css/vendor/font-awesome.css" rel="stylesheet" type="text/css">
  <link href="../../assets/css/vendor/codemirror.css" rel="stylesheet" type="text/css">
  <link href="../../assets/css/plato.css" rel="stylesheet" type="text/css">
  <link href="../../assets/css/plato-file.css" rel="stylesheet" type="text/css">

</head>

<body>

<div class="navbar navbar-fixed-top">
  <div class="container">
    <a class="navbar-brand" href="https://github.com/the-simian/es6-plato">ES6 Plato on Github</a>
    <ul class="nav navbar-nav">
      <li>
        <a href="../../index.html">Report Home</a>
      </li>
      <li class="active">
        <a href="display.html">Summary Display</a>
      </li>
    </ul>
  </div>
</div>

<div class="jumbotron">
  <div class="container">
    <h1>node_modules/nodebb-theme-harmony/public/harmony.js</h1>
  </div>
</div>

<div class="container aggregate-stats">
  <div class="row">
    <div class="col-md-6">
      <h2 class="header">Maintainability <a href="http://blogs.msdn.com/b/codeanalysis/archive/2007/11/20/maintainability-index-range-and-meaning.aspx"><i class="icon icon-info-sign" rel="popover" data-placement="top" data-trigger="hover" data-content="A value between 0 and 100 that represents the relative ease of maintaining the code. A high value means better maintainability." data-original-title="Maintainability Index"  data-container="body"></i></a></h2>
      <p class="stat">72.47</p>
    </div>
    <div class="col-md-6">
      <h2 class="header">Lines of code <i class="icon icon-info-sign" rel="popover" data-placement="top" data-trigger="hover" data-content="Source Lines of Code / Logical Lines of Code" data-original-title="SLOC/LSLOC" data-container="body"></i></h2>
      <p class="stat">299</p>
    </div>
  </div>
  <div class="row historical">
    <div class="col-md-6">
      <p id="chart_historical_maint" class="chart"></p>
    </div>
    <div class="col-md-6">
      <p id="chart_historical_sloc" class="chart"></p>
    </div>
  </div>
  <div class="row">
    <div class="col-md-6">
      <h2 class="header">Difficulty  <a href="http://en.wikipedia.org/wiki/Halstead_complexity_measures"><i class="icon icon-info-sign" rel="popover" data-placement="top" data-trigger="hover" data-content="The difficulty measure is related to the difficulty of the program to write or understand." data-original-title="Difficulty" data-container="body"></i></a></h2>
      <p class="stat">35.93</p>
    </div>
    <div class="col-md-6">
      <h2 class="header">Estimated Errors  <a href="http://en.wikipedia.org/wiki/Halstead_complexity_measures"><i class="icon icon-info-sign" rel="popover" data-placement="top" data-trigger="hover" data-content="Halstead's delivered bugs is an estimate for the number of errors in the implementation." data-original-title="Delivered Bugs" data-container="body"></i></a></h2>
      <p class="stat">3.41</p>
    </div>
  </div>
</div>

<div class="container charts">
  <div class="row">
    <h2 class="header">Function weight</h2>
  </div>
  <div class="row">
    <div class="col-md-6">
      <h3 class="chart-header">By Complexity <a href="http://en.wikipedia.org/wiki/Cyclomatic_complexity"><i class="icon icon-info-sign" rel="popover" data-placement="top" data-trigger="hover" data-content="This metric counts the number of distinct paths through a block of code. Lower values are better." data-original-title="Cyclomatic Complexity" data-container="body"></i></a></h3>
      <div id="fn-by-complexity" class="stat"></div>
    </div>
    <div class="col-md-6">
      <h3 class="chart-header">By SLOC  <i class="icon icon-info-sign" rel="popover" data-placement="top" data-trigger="hover" data-content="Source Lines of Code / Logical Lines of Code" data-original-title="SLOC/LSLOC" data-container="body"></i></h3>
      <div id="fn-by-sloc" class="stat"></div>
    </div>
  </div>
</div>

<div class="container">
  <div class="row">
    <textarea id="file-source" class="col-md-12">&#039;use strict&#039;;

$(document).ready(function () {
	setupSkinSwitcher();
	setupNProgress();
	setupMobileMenu();
	setupSearch();
	setupDrafts();
	handleMobileNavigator();
	setupNavTooltips();
	fixPlaceholders();
	fixSidebarOverflow();

	function setupSkinSwitcher() {
		$(&#039;[component=&quot;skinSwitcher&quot;]&#039;).on(&#039;click&#039;, &#039;.dropdown-item&#039;, function () {
			const skin = $(this).attr(&#039;data-value&#039;);
			$(&#039;[component=&quot;skinSwitcher&quot;] .dropdown-item .fa-check&#039;).addClass(&#039;invisible&#039;);
			$(this).find(&#039;.fa-check&#039;).removeClass(&#039;invisible&#039;);
			require([&#039;forum/account/settings&#039;, &#039;hooks&#039;], function (accountSettings, hooks) {
				hooks.one(&#039;action:skin.change&#039;, function () {
					$(&#039;[component=&quot;skinSwitcher&quot;] [component=&quot;skinSwitcher/icon&quot;]&#039;).removeClass(&#039;fa-fade&#039;);
				});
				$(&#039;[component=&quot;skinSwitcher&quot;] [component=&quot;skinSwitcher/icon&quot;]&#039;).addClass(&#039;fa-fade&#039;);
				accountSettings.changeSkin(skin);
			});
		});
	}

	require([&#039;hooks&#039;], function (hooks) {
		$(window).on(&#039;action:composer.resize action:sidebar.toggle&#039;, function () {
			const isRtl = $(&#039;html&#039;).attr(&#039;data-dir&#039;) === &#039;rtl&#039;;
			const css = {
				width: $(&#039;#panel&#039;).width(),
			};
			const sidebarEl = $(&#039;.sidebar-left&#039;);
			css[isRtl ? &#039;right&#039; : &#039;left&#039;] = sidebarEl.is(&#039;:visible&#039;) ? sidebarEl.outerWidth(true) : 0;
			$(&#039;[component=&quot;composer&quot;]&#039;).css(css);
		});

		hooks.on(&#039;filter:chat.openChat&#039;, function (hookData) {
			// disables chat modals &amp; goes straight to chat page based on user setting
			hookData.modal = config.theme.chatModals &amp;&amp; !utils.isMobile();
			return hookData;
		});
	});

	function setupMobileMenu() {
		require([&#039;hooks&#039;, &#039;api&#039;, &#039;navigator&#039;], function (hooks, api, navigator) {
			$(&#039;[component=&quot;sidebar/toggle&quot;]&#039;).on(&#039;click&#039;, async function () {
				const sidebarEl = $(&#039;.sidebar&#039;);
				sidebarEl.toggleClass(&#039;open&#039;);
				if (app.user.uid) {
					await api.put(`/users/${app.user.uid}/settings`, {
						settings: {
							openSidebars: sidebarEl.hasClass(&#039;open&#039;) ? &#039;on&#039; : &#039;off&#039;,
						},
					});
				}
				$(window).trigger(&#039;action:sidebar.toggle&#039;);
				if (ajaxify.data.template.topic) {
					hooks.fire(&#039;action:navigator.update&#039;, { newIndex: navigator.getIndex() });
				}
			});

			const bottomBar = $(&#039;[component=&quot;bottombar&quot;]&#039;);
			let stickyTools = null;
			const location = config.theme.topMobilebar ? &#039;top&#039; : &#039;bottom&#039;;
			const $body = $(&#039;body&#039;);
			const $window = $(window);
			$body.on(&#039;shown.bs.dropdown hidden.bs.dropdown&#039;, &#039;.sticky-tools&#039;, function () {
				bottomBar.toggleClass(&#039;hidden&#039;, $(this).find(&#039;.dropdown-menu.show&#039;).length);
			});
			function isSearchVisible() {
				return !!$(&#039;[component=&quot;bottombar&quot;] [component=&quot;sidebar/search&quot;] .search-dropdown.show&#039;).length;
			}

			let lastScrollTop = $window.scrollTop();
			let newPostsLoaded = false;

			function onWindowScroll() {
				const st = $window.scrollTop();
				if (newPostsLoaded) {
					newPostsLoaded = false;
					lastScrollTop = st;
					return;
				}
				if (st !== lastScrollTop &amp;&amp; !navigator.scrollActive &amp;&amp; !isSearchVisible()) {
					const diff = Math.abs(st - lastScrollTop);
					const scrolledDown = st &gt; lastScrollTop;
					const scrolledUp = st &lt; lastScrollTop;
					const isHiding = !scrolledUp &amp;&amp; scrolledDown;
					if (diff &gt; 10) {
						bottomBar.css({
							[location]: isHiding ?
								-bottomBar.find(&#039;.bottombar-nav&#039;).outerHeight(true) :
								0,
						});
						if (stickyTools &amp;&amp; config.theme.topMobilebar &amp;&amp; config.theme.autohideBottombar) {
							stickyTools.css({
								top: isHiding ? 0 : &#039;var(--panel-offset)&#039;,
							});
						}
					}
				}
				lastScrollTop = st;
			}

			const delayedScroll = utils.throttle(onWindowScroll, 250);
			function enableAutohide() {
				$window.off(&#039;scroll&#039;, delayedScroll);
				if (config.theme.autohideBottombar) {
					lastScrollTop = $window.scrollTop();
					$window.on(&#039;scroll&#039;, delayedScroll);
				}
			}

			hooks.on(&#039;action:posts.loading&#039;, function () {
				$window.off(&#039;scroll&#039;, delayedScroll);
			});
			hooks.on(&#039;action:posts.loaded&#039;, function () {
				newPostsLoaded = true;
				setTimeout(enableAutohide, 250);
			});
			hooks.on(&#039;action:ajaxify.end&#039;, function () {
				bottomBar.removeClass(&#039;hidden&#039;);
				const { template } = ajaxify.data;
				stickyTools = (template.category || template.topic) ? $(&#039;.sticky-tools&#039;) : null;
				$window.off(&#039;scroll&#039;, delayedScroll);
				if (config.theme.autohideBottombar) {
					bottomBar.css({ [location]: 0 });
					setTimeout(enableAutohide, 250);
				}
			});
		});
	}

	function setupSearch() {
		$(&#039;[component=&quot;sidebar/search&quot;]&#039;).on(&#039;shown.bs.dropdown&#039;, function () {
			$(this).find(&#039;[component=&quot;search/fields&quot;] input[name=&quot;query&quot;]&#039;).trigger(&#039;focus&#039;);
		});
	}

	function setupDrafts() {
		require([&#039;composer/drafts&#039;, &#039;bootbox&#039;], function (drafts, bootbox) {
			const draftsEl = $(&#039;[component=&quot;sidebar/drafts&quot;]&#039;);

			function updateBadgeCount() {
				const count = drafts.getAvailableCount();
				if (count &gt; 0) {
					draftsEl.removeClass(&#039;hidden&#039;);
				}
				$(&#039;[component=&quot;drafts/count&quot;]&#039;).toggleClass(&#039;hidden&#039;, count &lt;= 0).text(count);
			}

			async function renderDraftList() {
				const draftListEl = $(&#039;[component=&quot;drafts/list&quot;]&#039;);
				const draftItems = drafts.listAvailable();
				if (!draftItems.length) {
					draftListEl.find(&#039;.no-drafts&#039;).removeClass(&#039;hidden&#039;);
					draftListEl.find(&#039;.placeholder-wave&#039;).addClass(&#039;hidden&#039;);
					draftListEl.find(&#039;.draft-item-container&#039;).html(&#039;&#039;);
					return;
				}
				draftItems.reverse().forEach((draft) =&gt; {
					if (draft) {
						if (draft.title) {
							draft.title = utils.escapeHTML(String(draft.title));
						}
						draft.text = utils.escapeHTML(
							draft.text
						).replace(/(?:\r\n|\r|\n)/g, &#039;&lt;br&gt;&#039;);
					}
				});

				const html = await app.parseAndTranslate(&#039;partials/sidebar/drafts&#039;, &#039;drafts&#039;, { drafts: draftItems });
				draftListEl.find(&#039;.no-drafts&#039;).addClass(&#039;hidden&#039;);
				draftListEl.find(&#039;.placeholder-wave&#039;).addClass(&#039;hidden&#039;);
				draftListEl.find(&#039;.draft-item-container&#039;).html(html).find(&#039;.timeago&#039;).timeago();
			}


			draftsEl.on(&#039;shown.bs.dropdown&#039;, renderDraftList);

			draftsEl.on(&#039;click&#039;, &#039;[component=&quot;drafts/open&quot;]&#039;, function () {
				drafts.open($(this).attr(&#039;data-save-id&#039;));
			});

			draftsEl.on(&#039;click&#039;, &#039;[component=&quot;drafts/delete&quot;]&#039;, function () {
				const save_id = $(this).attr(&#039;data-save-id&#039;);
				bootbox.confirm(&#039;[[modules:composer.discard-draft-confirm]]&#039;, function (ok) {
					if (ok) {
						drafts.removeDraft(save_id);
						renderDraftList();
					}
				});
				return false;
			});

			$(window).on(&#039;action:composer.drafts.save&#039;, updateBadgeCount);
			$(window).on(&#039;action:composer.drafts.remove&#039;, updateBadgeCount);
			updateBadgeCount();
		});
	}

	function setupNProgress() {
		require([&#039;nprogress&#039;], function (NProgress) {
			window.nprogress = NProgress;
			if (NProgress) {
				$(window).on(&#039;action:ajaxify.start&#039;, function () {
					NProgress.set(0.7);
				});

				$(window).on(&#039;action:ajaxify.end&#039;, function () {
					NProgress.done(true);
				});
			}
		});
	}

	function handleMobileNavigator() {
		const paginationBlockEl = $(&#039;.pagination-block&#039;);
		require([&#039;hooks&#039;], function (hooks) {
			hooks.on(&#039;action:ajaxify.end&#039;, function () {
				paginationBlockEl.find(&#039;.dropdown-menu.show&#039;).removeClass(&#039;show&#039;);
			});
			hooks.on(&#039;filter:navigator.scroll&#039;, function (hookData) {
				paginationBlockEl.find(&#039;.dropdown-menu.show&#039;).removeClass(&#039;show&#039;);
				return hookData;
			});
		});
	}

	function setupNavTooltips() {
		// remove title from user icon in sidebar to prevent double tooltip
		$(&#039;.sidebar [component=&quot;header/avatar&quot;] .avatar&#039;).removeAttr(&#039;title&#039;);
		const tooltipEls = $(&#039;.sidebar [title]&#039;);
		const lefttooltipEls = $(&#039;.sidebar-left [title]&#039;);
		const rightooltipEls = $(&#039;.sidebar-right [title]&#039;);
		const isRtl = $(&#039;html&#039;).attr(&#039;data-dir&#039;) === &#039;rtl&#039;;
		lefttooltipEls.tooltip({
			trigger: &#039;manual&#039;,
			animation: false,
			placement: isRtl ? &#039;left&#039; : &#039;right&#039;,
		});
		rightooltipEls.tooltip({
			trigger: &#039;manual&#039;,
			animation: false,
			placement: isRtl ? &#039;right&#039; : &#039;left&#039;,
		});

		tooltipEls.on(&#039;mouseenter&#039;, function (ev) {
			const target = $(ev.target);
			const isDropdown = target.hasClass(&#039;dropdown-menu&#039;) || !!target.parents(&#039;.dropdown-menu&#039;).length;
			if (!$(&#039;.sidebar&#039;).hasClass(&#039;open&#039;) &amp;&amp; !isDropdown) {
				$(this).tooltip(&#039;show&#039;);
			}
		});
		tooltipEls.on(&#039;click mouseleave&#039;, function () {
			$(this).tooltip(&#039;hide&#039;);
		});
	}

	function fixPlaceholders() {
		if (!config.loggedIn) {
			return;
		}
		[&#039;notifications&#039;, &#039;chat&#039;].forEach((type) =&gt; {
			const countEl = $(`nav.sidebar [component=&quot;${type}/count&quot;]`).first();
			if (!countEl.length) {
				return;
			}
			const count = parseInt(countEl.text(), 10);
			if (count &gt; 1) {
				const listEls = $(`.dropdown-menu [component=&quot;${type}/list&quot;]`);
				listEls.each((index, el) =&gt; {
					const placeholder = $(el).children().first();
					for (let x = 0; x &lt; count - 1; x++) {
						const cloneEl = placeholder.clone(true);
						cloneEl.insertAfter(placeholder);
					}
				});
			}
		});
	}

	function fixSidebarOverflow() {
		// overflow-y-auto needs to be removed on main-nav when dropdowns are opened
		const mainNavEl = $(&#039;#main-nav&#039;);
		function toggleOverflow() {
			mainNavEl.toggleClass(
				&#039;overflow-y-auto&#039;,
				!mainNavEl.find(&#039;.dropdown-menu.show&#039;).length
			);
		}
		mainNavEl.on(&#039;shown.bs.dropdown&#039;, toggleOverflow)
			.on(&#039;hidden.bs.dropdown&#039;, toggleOverflow);
	}
});
</textarea>
  </div>
</div>

<footer class="footer">
  <div class="container">
    <p>.</p>
  </div>
</footer>

<script type="text/html" id="complexity-popover-template">
  <div class="complexity-notice">
    Complexity : {{ complexity.cyclomatic }} <br>
    Length : {{ complexity.halstead.length }} <br>
    Difficulty : {{ complexity.halstead.difficulty.toFixed(2) }} <br>
    Est # bugs : {{ complexity.halstead.bugs.toFixed(2) }}<br>
  </div>
</script>

<script type="text/javascript" src="../../assets/scripts/bundles/core-bundle.js"></script>
<script type="text/javascript" src="../../assets/scripts/bundles/codemirror.js"></script>
<script type="text/javascript" src="../../assets/scripts/codemirror.markpopovertext.js"></script>
<script type="text/javascript" src="report.js"></script>
<script type="text/javascript" src="report.history.js"></script>
<script type="text/javascript" src="../../assets/scripts/plato-file.js"></script>
</body>
</html>
