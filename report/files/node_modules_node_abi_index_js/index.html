<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Plato - node_modules/node-abi/index.js</title>

  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="">
  <meta name="author" content="">

  <!--[if lt IE 9]>
  <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
  <![endif]-->

  <link href="../../assets/css/vendor/morris.css" rel="stylesheet" type="text/css">
  <link href="../../assets/css/vendor/bootstrap.css" rel="stylesheet" type="text/css">
  <link href="../../assets/css/vendor/font-awesome.css" rel="stylesheet" type="text/css">
  <link href="../../assets/css/vendor/codemirror.css" rel="stylesheet" type="text/css">
  <link href="../../assets/css/plato.css" rel="stylesheet" type="text/css">
  <link href="../../assets/css/plato-file.css" rel="stylesheet" type="text/css">

</head>

<body>

<div class="navbar navbar-fixed-top">
  <div class="container">
    <a class="navbar-brand" href="https://github.com/the-simian/es6-plato">ES6 Plato on Github</a>
    <ul class="nav navbar-nav">
      <li>
        <a href="../../index.html">Report Home</a>
      </li>
      <li class="active">
        <a href="display.html">Summary Display</a>
      </li>
    </ul>
  </div>
</div>

<div class="jumbotron">
  <div class="container">
    <h1>node_modules/node-abi/index.js</h1>
  </div>
</div>

<div class="container aggregate-stats">
  <div class="row">
    <div class="col-md-6">
      <h2 class="header">Maintainability <a href="http://blogs.msdn.com/b/codeanalysis/archive/2007/11/20/maintainability-index-range-and-meaning.aspx"><i class="icon icon-info-sign" rel="popover" data-placement="top" data-trigger="hover" data-content="A value between 0 and 100 that represents the relative ease of maintaining the code. A high value means better maintainability." data-original-title="Maintainability Index"  data-container="body"></i></a></h2>
      <p class="stat">61.72</p>
    </div>
    <div class="col-md-6">
      <h2 class="header">Lines of code <i class="icon icon-info-sign" rel="popover" data-placement="top" data-trigger="hover" data-content="Source Lines of Code / Logical Lines of Code" data-original-title="SLOC/LSLOC" data-container="body"></i></h2>
      <p class="stat">180</p>
    </div>
  </div>
  <div class="row historical">
    <div class="col-md-6">
      <p id="chart_historical_maint" class="chart"></p>
    </div>
    <div class="col-md-6">
      <p id="chart_historical_sloc" class="chart"></p>
    </div>
  </div>
  <div class="row">
    <div class="col-md-6">
      <h2 class="header">Difficulty  <a href="http://en.wikipedia.org/wiki/Halstead_complexity_measures"><i class="icon icon-info-sign" rel="popover" data-placement="top" data-trigger="hover" data-content="The difficulty measure is related to the difficulty of the program to write or understand." data-original-title="Difficulty" data-container="body"></i></a></h2>
      <p class="stat">63.96</p>
    </div>
    <div class="col-md-6">
      <h2 class="header">Estimated Errors  <a href="http://en.wikipedia.org/wiki/Halstead_complexity_measures"><i class="icon icon-info-sign" rel="popover" data-placement="top" data-trigger="hover" data-content="Halstead's delivered bugs is an estimate for the number of errors in the implementation." data-original-title="Delivered Bugs" data-container="body"></i></a></h2>
      <p class="stat">2.95</p>
    </div>
  </div>
</div>

<div class="container charts">
  <div class="row">
    <h2 class="header">Function weight</h2>
  </div>
  <div class="row">
    <div class="col-md-6">
      <h3 class="chart-header">By Complexity <a href="http://en.wikipedia.org/wiki/Cyclomatic_complexity"><i class="icon icon-info-sign" rel="popover" data-placement="top" data-trigger="hover" data-content="This metric counts the number of distinct paths through a block of code. Lower values are better." data-original-title="Cyclomatic Complexity" data-container="body"></i></a></h3>
      <div id="fn-by-complexity" class="stat"></div>
    </div>
    <div class="col-md-6">
      <h3 class="chart-header">By SLOC  <i class="icon icon-info-sign" rel="popover" data-placement="top" data-trigger="hover" data-content="Source Lines of Code / Logical Lines of Code" data-original-title="SLOC/LSLOC" data-container="body"></i></h3>
      <div id="fn-by-sloc" class="stat"></div>
    </div>
  </div>
</div>

<div class="container">
  <div class="row">
    <textarea id="file-source" class="col-md-12">var semver = require(&#039;semver&#039;)

function getNextTarget (runtime, targets) {
  if (targets == null) targets = allTargets
  var latest = targets.filter(function (t) { return t.runtime === runtime }).slice(-1)[0]
  var increment = runtime === &#039;electron&#039; ? &#039;minor&#039; : &#039;major&#039;
  var next = semver.inc(latest.target, increment)
  // Electron releases appear in the registry in their beta form, sometimes there is
  // no active beta line.  During this time we need to double bump
  if (runtime === &#039;electron&#039; &amp;&amp; semver.parse(latest.target).prerelease.length) {
    next = semver.inc(next, &#039;major&#039;)
  }
  return next
}

function getAbi (target, runtime) {
  if (target === String(Number(target))) return target
  if (target) target = target.replace(/^v/, &#039;&#039;)
  if (!runtime) runtime = &#039;node&#039;

  if (runtime === &#039;node&#039;) {
    if (!target) return process.versions.modules
    if (target === process.versions.node) return process.versions.modules
  }

  var abi
  var lastTarget

  for (var i = 0; i &lt; allTargets.length; i++) {
    var t = allTargets[i]
    if (t.runtime !== runtime) continue
    if (semver.lte(t.target, target) &amp;&amp; (!lastTarget || semver.gte(t.target, lastTarget))) {
      abi = t.abi
      lastTarget = t.target
    }
  }

  if (abi &amp;&amp; semver.lt(target, getNextTarget(runtime))) return abi
  throw new Error(&#039;Could not detect abi for version &#039; + target + &#039; and runtime &#039; + runtime + &#039;.  Updating &quot;node-abi&quot; might help solve this issue if it is a new release of &#039; + runtime)
}

function getTarget (abi, runtime) {
  if (abi &amp;&amp; abi !== String(Number(abi))) return abi
  if (!runtime) runtime = &#039;node&#039;

  if (runtime === &#039;node&#039; &amp;&amp; !abi) return process.versions.node

  var match = allTargets
    .filter(function (t) {
      return t.abi === abi &amp;&amp; t.runtime === runtime
    })
    .map(function (t) {
      return t.target
    })
  if (match.length) {
    var betaSeparatorIndex = match[0].indexOf(&quot;-&quot;)
    return betaSeparatorIndex &gt; -1
      ? match[0].substring(0, betaSeparatorIndex)
      : match[0]
  }

  throw new Error(&#039;Could not detect target for abi &#039; + abi + &#039; and runtime &#039; + runtime)
}

function sortByTargetFn (a, b) {
  var abiComp = Number(a.abi) - Number(b.abi)
  if (abiComp !== 0) return abiComp
  if (a.target &lt; b.target) return -1
  if (a.target &gt; b.target) return 1
  return 0
}

function loadGeneratedTargets () {
  var registry = require(&#039;./abi_registry.json&#039;)
  var targets = {
    supported: [],
    additional: [],
    future: []
  }

  registry.forEach(function (item) {
    var target = {
      runtime: item.runtime,
      target: item.target,
      abi: item.abi
    }
    if (item.lts) {
      var startDate = new Date(Date.parse(item.lts[0]))
      var endDate = new Date(Date.parse(item.lts[1]))
      var currentDate = new Date()
      target.lts = startDate &lt; currentDate &amp;&amp; currentDate &lt; endDate
    } else {
      target.lts = false
    }

    if (target.runtime === &#039;node-webkit&#039;) {
      targets.additional.push(target)
    } else if (item.future) {
      targets.future.push(target)
    } else {
      targets.supported.push(target)
    }
  })

  targets.supported.sort(sortByTargetFn)
  targets.additional.sort(sortByTargetFn)
  targets.future.sort(sortByTargetFn)

  return targets
}

var generatedTargets = loadGeneratedTargets()

var supportedTargets = [
  {runtime: &#039;node&#039;, target: &#039;5.0.0&#039;, abi: &#039;47&#039;, lts: false},
  {runtime: &#039;node&#039;, target: &#039;6.0.0&#039;, abi: &#039;48&#039;, lts: false},
  {runtime: &#039;node&#039;, target: &#039;7.0.0&#039;, abi: &#039;51&#039;, lts: false},
  {runtime: &#039;node&#039;, target: &#039;8.0.0&#039;, abi: &#039;57&#039;, lts: false},
  {runtime: &#039;node&#039;, target: &#039;9.0.0&#039;, abi: &#039;59&#039;, lts: false},
  {runtime: &#039;node&#039;, target: &#039;10.0.0&#039;, abi: &#039;64&#039;, lts: new Date(2018, 10, 1) &lt; new Date() &amp;&amp; new Date() &lt; new Date(2020, 4, 31)},
  {runtime: &#039;electron&#039;, target: &#039;0.36.0&#039;, abi: &#039;47&#039;, lts: false},
  {runtime: &#039;electron&#039;, target: &#039;1.1.0&#039;, abi: &#039;48&#039;, lts: false},
  {runtime: &#039;electron&#039;, target: &#039;1.3.0&#039;, abi: &#039;49&#039;, lts: false},
  {runtime: &#039;electron&#039;, target: &#039;1.4.0&#039;, abi: &#039;50&#039;, lts: false},
  {runtime: &#039;electron&#039;, target: &#039;1.5.0&#039;, abi: &#039;51&#039;, lts: false},
  {runtime: &#039;electron&#039;, target: &#039;1.6.0&#039;, abi: &#039;53&#039;, lts: false},
  {runtime: &#039;electron&#039;, target: &#039;1.7.0&#039;, abi: &#039;54&#039;, lts: false},
  {runtime: &#039;electron&#039;, target: &#039;1.8.0&#039;, abi: &#039;57&#039;, lts: false},
  {runtime: &#039;electron&#039;, target: &#039;2.0.0&#039;, abi: &#039;57&#039;, lts: false},
  {runtime: &#039;electron&#039;, target: &#039;3.0.0&#039;, abi: &#039;64&#039;, lts: false},
  {runtime: &#039;electron&#039;, target: &#039;4.0.0&#039;, abi: &#039;64&#039;, lts: false},
  {runtime: &#039;electron&#039;, target: &#039;4.0.4&#039;, abi: &#039;69&#039;, lts: false}
]

supportedTargets.push.apply(supportedTargets, generatedTargets.supported)

var additionalTargets = [
  {runtime: &#039;node-webkit&#039;, target: &#039;0.13.0&#039;, abi: &#039;47&#039;, lts: false},
  {runtime: &#039;node-webkit&#039;, target: &#039;0.15.0&#039;, abi: &#039;48&#039;, lts: false},
  {runtime: &#039;node-webkit&#039;, target: &#039;0.18.3&#039;, abi: &#039;51&#039;, lts: false},
  {runtime: &#039;node-webkit&#039;, target: &#039;0.23.0&#039;, abi: &#039;57&#039;, lts: false},
  {runtime: &#039;node-webkit&#039;, target: &#039;0.26.5&#039;, abi: &#039;59&#039;, lts: false}
]

additionalTargets.push.apply(additionalTargets, generatedTargets.additional)

var deprecatedTargets = [
  {runtime: &#039;node&#039;, target: &#039;0.2.0&#039;, abi: &#039;1&#039;, lts: false},
  {runtime: &#039;node&#039;, target: &#039;0.9.1&#039;, abi: &#039;0x000A&#039;, lts: false},
  {runtime: &#039;node&#039;, target: &#039;0.9.9&#039;, abi: &#039;0x000B&#039;, lts: false},
  {runtime: &#039;node&#039;, target: &#039;0.10.4&#039;, abi: &#039;11&#039;, lts: false},
  {runtime: &#039;node&#039;, target: &#039;0.11.0&#039;, abi: &#039;0x000C&#039;, lts: false},
  {runtime: &#039;node&#039;, target: &#039;0.11.8&#039;, abi: &#039;13&#039;, lts: false},
  {runtime: &#039;node&#039;, target: &#039;0.11.11&#039;, abi: &#039;14&#039;, lts: false},
  {runtime: &#039;node&#039;, target: &#039;1.0.0&#039;, abi: &#039;42&#039;, lts: false},
  {runtime: &#039;node&#039;, target: &#039;1.1.0&#039;, abi: &#039;43&#039;, lts: false},
  {runtime: &#039;node&#039;, target: &#039;2.0.0&#039;, abi: &#039;44&#039;, lts: false},
  {runtime: &#039;node&#039;, target: &#039;3.0.0&#039;, abi: &#039;45&#039;, lts: false},
  {runtime: &#039;node&#039;, target: &#039;4.0.0&#039;, abi: &#039;46&#039;, lts: false},
  {runtime: &#039;electron&#039;, target: &#039;0.30.0&#039;, abi: &#039;44&#039;, lts: false},
  {runtime: &#039;electron&#039;, target: &#039;0.31.0&#039;, abi: &#039;45&#039;, lts: false},
  {runtime: &#039;electron&#039;, target: &#039;0.33.0&#039;, abi: &#039;46&#039;, lts: false}
]

var futureTargets = generatedTargets.future

var allTargets = deprecatedTargets
  .concat(supportedTargets)
  .concat(additionalTargets)
  .concat(futureTargets)

exports.getAbi = getAbi
exports.getTarget = getTarget
exports.deprecatedTargets = deprecatedTargets
exports.supportedTargets = supportedTargets
exports.additionalTargets = additionalTargets
exports.futureTargets = futureTargets
exports.allTargets = allTargets
exports._getNextTarget = getNextTarget
</textarea>
  </div>
</div>

<footer class="footer">
  <div class="container">
    <p>.</p>
  </div>
</footer>

<script type="text/html" id="complexity-popover-template">
  <div class="complexity-notice">
    Complexity : {{ complexity.cyclomatic }} <br>
    Length : {{ complexity.halstead.length }} <br>
    Difficulty : {{ complexity.halstead.difficulty.toFixed(2) }} <br>
    Est # bugs : {{ complexity.halstead.bugs.toFixed(2) }}<br>
  </div>
</script>

<script type="text/javascript" src="../../assets/scripts/bundles/core-bundle.js"></script>
<script type="text/javascript" src="../../assets/scripts/bundles/codemirror.js"></script>
<script type="text/javascript" src="../../assets/scripts/codemirror.markpopovertext.js"></script>
<script type="text/javascript" src="report.js"></script>
<script type="text/javascript" src="report.history.js"></script>
<script type="text/javascript" src="../../assets/scripts/plato-file.js"></script>
</body>
</html>
