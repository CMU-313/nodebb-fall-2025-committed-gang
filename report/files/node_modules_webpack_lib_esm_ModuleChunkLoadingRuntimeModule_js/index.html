<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Plato - node_modules/webpack/lib/esm/ModuleChunkLoadingRuntimeModule.js</title>

  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="">
  <meta name="author" content="">

  <!--[if lt IE 9]>
  <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
  <![endif]-->

  <link href="../../assets/css/vendor/morris.css" rel="stylesheet" type="text/css">
  <link href="../../assets/css/vendor/bootstrap.css" rel="stylesheet" type="text/css">
  <link href="../../assets/css/vendor/font-awesome.css" rel="stylesheet" type="text/css">
  <link href="../../assets/css/vendor/codemirror.css" rel="stylesheet" type="text/css">
  <link href="../../assets/css/plato.css" rel="stylesheet" type="text/css">
  <link href="../../assets/css/plato-file.css" rel="stylesheet" type="text/css">

</head>

<body>

<div class="navbar navbar-fixed-top">
  <div class="container">
    <a class="navbar-brand" href="https://github.com/the-simian/es6-plato">ES6 Plato on Github</a>
    <ul class="nav navbar-nav">
      <li>
        <a href="../../index.html">Report Home</a>
      </li>
      <li class="active">
        <a href="display.html">Summary Display</a>
      </li>
    </ul>
  </div>
</div>

<div class="jumbotron">
  <div class="container">
    <h1>node_modules/webpack/lib/esm/ModuleChunkLoadingRuntimeModule.js</h1>
  </div>
</div>

<div class="container aggregate-stats">
  <div class="row">
    <div class="col-md-6">
      <h2 class="header">Maintainability <a href="http://blogs.msdn.com/b/codeanalysis/archive/2007/11/20/maintainability-index-range-and-meaning.aspx"><i class="icon icon-info-sign" rel="popover" data-placement="top" data-trigger="hover" data-content="A value between 0 and 100 that represents the relative ease of maintaining the code. A high value means better maintainability." data-original-title="Maintainability Index"  data-container="body"></i></a></h2>
      <p class="stat">57.48</p>
    </div>
    <div class="col-md-6">
      <h2 class="header">Lines of code <i class="icon icon-info-sign" rel="popover" data-placement="top" data-trigger="hover" data-content="Source Lines of Code / Logical Lines of Code" data-original-title="SLOC/LSLOC" data-container="body"></i></h2>
      <p class="stat">355</p>
    </div>
  </div>
  <div class="row historical">
    <div class="col-md-6">
      <p id="chart_historical_maint" class="chart"></p>
    </div>
    <div class="col-md-6">
      <p id="chart_historical_sloc" class="chart"></p>
    </div>
  </div>
  <div class="row">
    <div class="col-md-6">
      <h2 class="header">Difficulty  <a href="http://en.wikipedia.org/wiki/Halstead_complexity_measures"><i class="icon icon-info-sign" rel="popover" data-placement="top" data-trigger="hover" data-content="The difficulty measure is related to the difficulty of the program to write or understand." data-original-title="Difficulty" data-container="body"></i></a></h2>
      <p class="stat">34.02</p>
    </div>
    <div class="col-md-6">
      <h2 class="header">Estimated Errors  <a href="http://en.wikipedia.org/wiki/Halstead_complexity_measures"><i class="icon icon-info-sign" rel="popover" data-placement="top" data-trigger="hover" data-content="Halstead's delivered bugs is an estimate for the number of errors in the implementation." data-original-title="Delivered Bugs" data-container="body"></i></a></h2>
      <p class="stat">2.67</p>
    </div>
  </div>
</div>

<div class="container charts">
  <div class="row">
    <h2 class="header">Function weight</h2>
  </div>
  <div class="row">
    <div class="col-md-6">
      <h3 class="chart-header">By Complexity <a href="http://en.wikipedia.org/wiki/Cyclomatic_complexity"><i class="icon icon-info-sign" rel="popover" data-placement="top" data-trigger="hover" data-content="This metric counts the number of distinct paths through a block of code. Lower values are better." data-original-title="Cyclomatic Complexity" data-container="body"></i></a></h3>
      <div id="fn-by-complexity" class="stat"></div>
    </div>
    <div class="col-md-6">
      <h3 class="chart-header">By SLOC  <i class="icon icon-info-sign" rel="popover" data-placement="top" data-trigger="hover" data-content="Source Lines of Code / Logical Lines of Code" data-original-title="SLOC/LSLOC" data-container="body"></i></h3>
      <div id="fn-by-sloc" class="stat"></div>
    </div>
  </div>
</div>

<div class="container">
  <div class="row">
    <textarea id="file-source" class="col-md-12">/*
	MIT License http://www.opensource.org/licenses/mit-license.php
*/

&quot;use strict&quot;;

const { SyncWaterfallHook } = require(&quot;tapable&quot;);
const Compilation = require(&quot;../Compilation&quot;);
const RuntimeGlobals = require(&quot;../RuntimeGlobals&quot;);
const RuntimeModule = require(&quot;../RuntimeModule&quot;);
const Template = require(&quot;../Template&quot;);
const {
	getChunkFilenameTemplate,
	chunkHasJs
} = require(&quot;../javascript/JavascriptModulesPlugin&quot;);
const { getInitialChunkIds } = require(&quot;../javascript/StartupHelpers&quot;);
const compileBooleanMatcher = require(&quot;../util/compileBooleanMatcher&quot;);
const { getUndoPath } = require(&quot;../util/identifier&quot;);

/** @typedef {import(&quot;../../declarations/WebpackOptions&quot;).Environment} Environment */
/** @typedef {import(&quot;../Chunk&quot;)} Chunk */
/** @typedef {import(&quot;../ChunkGraph&quot;)} ChunkGraph */
/** @typedef {import(&quot;../Module&quot;).ReadOnlyRuntimeRequirements} ReadOnlyRuntimeRequirements */

/**
 * @typedef {object} JsonpCompilationPluginHooks
 * @property {SyncWaterfallHook&lt;[string, Chunk]&gt;} linkPreload
 * @property {SyncWaterfallHook&lt;[string, Chunk]&gt;} linkPrefetch
 */

/** @type {WeakMap&lt;Compilation, JsonpCompilationPluginHooks&gt;} */
const compilationHooksMap = new WeakMap();

class ModuleChunkLoadingRuntimeModule extends RuntimeModule {
	/**
	 * @param {Compilation} compilation the compilation
	 * @returns {JsonpCompilationPluginHooks} hooks
	 */
	static getCompilationHooks(compilation) {
		if (!(compilation instanceof Compilation)) {
			throw new TypeError(
				&quot;The &#039;compilation&#039; argument must be an instance of Compilation&quot;
			);
		}
		let hooks = compilationHooksMap.get(compilation);
		if (hooks === undefined) {
			hooks = {
				linkPreload: new SyncWaterfallHook([&quot;source&quot;, &quot;chunk&quot;]),
				linkPrefetch: new SyncWaterfallHook([&quot;source&quot;, &quot;chunk&quot;])
			};
			compilationHooksMap.set(compilation, hooks);
		}
		return hooks;
	}

	/**
	 * @param {ReadOnlyRuntimeRequirements} runtimeRequirements runtime requirements
	 */
	constructor(runtimeRequirements) {
		super(&quot;import chunk loading&quot;, RuntimeModule.STAGE_ATTACH);
		this._runtimeRequirements = runtimeRequirements;
	}

	/**
	 * @private
	 * @param {Chunk} chunk chunk
	 * @param {string} rootOutputDir root output directory
	 * @returns {string} generated code
	 */
	_generateBaseUri(chunk, rootOutputDir) {
		const options = chunk.getEntryOptions();
		if (options &amp;&amp; options.baseUri) {
			return `${RuntimeGlobals.baseURI} = ${JSON.stringify(options.baseUri)};`;
		}
		const compilation = /** @type {Compilation} */ (this.compilation);
		const {
			outputOptions: { importMetaName }
		} = compilation;
		return `${RuntimeGlobals.baseURI} = new URL(${JSON.stringify(
			rootOutputDir
		)}, ${importMetaName}.url);`;
	}

	/**
	 * @returns {string | null} runtime code
	 */
	generate() {
		const compilation = /** @type {Compilation} */ (this.compilation);
		const chunkGraph = /** @type {ChunkGraph} */ (this.chunkGraph);
		const chunk = /** @type {Chunk} */ (this.chunk);
		const environment =
			/** @type {Environment} */
			(compilation.outputOptions.environment);
		const {
			runtimeTemplate,
			outputOptions: { importFunctionName, crossOriginLoading, charset }
		} = compilation;
		const fn = RuntimeGlobals.ensureChunkHandlers;
		const withBaseURI = this._runtimeRequirements.has(RuntimeGlobals.baseURI);
		const withExternalInstallChunk = this._runtimeRequirements.has(
			RuntimeGlobals.externalInstallChunk
		);
		const withLoading = this._runtimeRequirements.has(
			RuntimeGlobals.ensureChunkHandlers
		);
		const withOnChunkLoad = this._runtimeRequirements.has(
			RuntimeGlobals.onChunksLoaded
		);
		const withHmr = this._runtimeRequirements.has(
			RuntimeGlobals.hmrDownloadUpdateHandlers
		);
		const { linkPreload, linkPrefetch } =
			ModuleChunkLoadingRuntimeModule.getCompilationHooks(compilation);
		const isNeutralPlatform = runtimeTemplate.isNeutralPlatform();
		const withPrefetch =
			(environment.document || isNeutralPlatform) &amp;&amp;
			this._runtimeRequirements.has(RuntimeGlobals.prefetchChunkHandlers) &amp;&amp;
			chunk.hasChildByOrder(chunkGraph, &quot;prefetch&quot;, true, chunkHasJs);
		const withPreload =
			(environment.document || isNeutralPlatform) &amp;&amp;
			this._runtimeRequirements.has(RuntimeGlobals.preloadChunkHandlers) &amp;&amp;
			chunk.hasChildByOrder(chunkGraph, &quot;preload&quot;, true, chunkHasJs);
		const conditionMap = chunkGraph.getChunkConditionMap(chunk, chunkHasJs);
		const hasJsMatcher = compileBooleanMatcher(conditionMap);
		const initialChunkIds = getInitialChunkIds(chunk, chunkGraph, chunkHasJs);

		const outputName = compilation.getPath(
			getChunkFilenameTemplate(chunk, compilation.outputOptions),
			{
				chunk,
				contentHashType: &quot;javascript&quot;
			}
		);
		const rootOutputDir = getUndoPath(
			outputName,
			/** @type {string} */ (compilation.outputOptions.path),
			true
		);

		const stateExpression = withHmr
			? `${RuntimeGlobals.hmrRuntimeStatePrefix}_module`
			: undefined;

		return Template.asString([
			withBaseURI
				? this._generateBaseUri(chunk, rootOutputDir)
				: &quot;// no baseURI&quot;,
			&quot;&quot;,
			&quot;// object to store loaded and loading chunks&quot;,
			&quot;// undefined = chunk not loaded, null = chunk preloaded/prefetched&quot;,
			&quot;// [resolve, Promise] = chunk loading, 0 = chunk loaded&quot;,
			`var installedChunks = ${
				stateExpression ? `${stateExpression} = ${stateExpression} || ` : &quot;&quot;
			}{`,
			Template.indent(
				Array.from(initialChunkIds, id =&gt; `${JSON.stringify(id)}: 0`).join(
					&quot;,\n&quot;
				)
			),
			&quot;};&quot;,
			&quot;&quot;,
			withLoading || withExternalInstallChunk
				? `var installChunk = ${runtimeTemplate.basicFunction(&quot;data&quot;, [
						runtimeTemplate.destructureObject(
							[&quot;__webpack_ids__&quot;, &quot;__webpack_modules__&quot;, &quot;__webpack_runtime__&quot;],
							&quot;data&quot;
						),
						&#039;// add &quot;modules&quot; to the modules object,&#039;,
						&#039;// then flag all &quot;ids&quot; as loaded and fire callback&#039;,
						&quot;var moduleId, chunkId, i = 0;&quot;,
						&quot;for(moduleId in __webpack_modules__) {&quot;,
						Template.indent([
							`if(${RuntimeGlobals.hasOwnProperty}(__webpack_modules__, moduleId)) {`,
							Template.indent(
								`${RuntimeGlobals.moduleFactories}[moduleId] = __webpack_modules__[moduleId];`
							),
							&quot;}&quot;
						]),
						&quot;}&quot;,
						`if(__webpack_runtime__) __webpack_runtime__(${RuntimeGlobals.require});`,
						&quot;for(;i &lt; __webpack_ids__.length; i++) {&quot;,
						Template.indent([
							&quot;chunkId = __webpack_ids__[i];&quot;,
							`if(${RuntimeGlobals.hasOwnProperty}(installedChunks, chunkId) &amp;&amp; installedChunks[chunkId]) {`,
							Template.indent(&quot;installedChunks[chunkId][0]();&quot;),
							&quot;}&quot;,
							&quot;installedChunks[__webpack_ids__[i]] = 0;&quot;
						]),
						&quot;}&quot;,
						withOnChunkLoad ? `${RuntimeGlobals.onChunksLoaded}();` : &quot;&quot;
					])}`
				: &quot;// no install chunk&quot;,
			&quot;&quot;,
			withLoading
				? Template.asString([
						`${fn}.j = ${runtimeTemplate.basicFunction(
							&quot;chunkId, promises&quot;,
							hasJsMatcher !== false
								? Template.indent([
										&quot;// import() chunk loading for javascript&quot;,
										`var installedChunkData = ${RuntimeGlobals.hasOwnProperty}(installedChunks, chunkId) ? installedChunks[chunkId] : undefined;`,
										&#039;if(installedChunkData !== 0) { // 0 means &quot;already installed&quot;.&#039;,
										Template.indent([
											&quot;&quot;,
											&#039;// a Promise means &quot;currently loading&quot;.&#039;,
											&quot;if(installedChunkData) {&quot;,
											Template.indent([
												&quot;promises.push(installedChunkData[1]);&quot;
											]),
											&quot;} else {&quot;,
											Template.indent([
												hasJsMatcher === true
													? &quot;if(true) { // all chunks have JS&quot;
													: `if(${hasJsMatcher(&quot;chunkId&quot;)}) {`,
												Template.indent([
													&quot;// setup Promise in chunk cache&quot;,
													`var promise = ${importFunctionName}(${
														compilation.outputOptions.publicPath === &quot;auto&quot;
															? &quot;&quot;
															: `${RuntimeGlobals.publicPath} + `
													}${JSON.stringify(rootOutputDir)} + ${
														RuntimeGlobals.getChunkScriptFilename
													}(chunkId)).then(installChunk, ${runtimeTemplate.basicFunction(
														&quot;e&quot;,
														[
															&quot;if(installedChunks[chunkId] !== 0) installedChunks[chunkId] = undefined;&quot;,
															&quot;throw e;&quot;
														]
													)});`,
													`var promise = Promise.race([promise, new Promise(${runtimeTemplate.expressionFunction(
														&quot;installedChunkData = installedChunks[chunkId] = [resolve]&quot;,
														&quot;resolve&quot;
													)})])`,
													&quot;promises.push(installedChunkData[1] = promise);&quot;
												]),
												hasJsMatcher === true
													? &quot;}&quot;
													: &quot;} else installedChunks[chunkId] = 0;&quot;
											]),
											&quot;}&quot;
										]),
										&quot;}&quot;
									])
								: Template.indent([&quot;installedChunks[chunkId] = 0;&quot;])
						)};`
					])
				: &quot;// no chunk on demand loading&quot;,
			&quot;&quot;,
			withPrefetch &amp;&amp; hasJsMatcher !== false
				? `${
						RuntimeGlobals.prefetchChunkHandlers
					}.j = ${runtimeTemplate.basicFunction(&quot;chunkId&quot;, [
						isNeutralPlatform
							? &quot;if (typeof document === &#039;undefined&#039;) return;&quot;
							: &quot;&quot;,
						`if((!${
							RuntimeGlobals.hasOwnProperty
						}(installedChunks, chunkId) || installedChunks[chunkId] === undefined) &amp;&amp; ${
							hasJsMatcher === true ? &quot;true&quot; : hasJsMatcher(&quot;chunkId&quot;)
						}) {`,
						Template.indent([
							&quot;installedChunks[chunkId] = null;&quot;,
							linkPrefetch.call(
								Template.asString([
									&quot;var link = document.createElement(&#039;link&#039;);&quot;,
									charset ? &quot;link.charset = &#039;utf-8&#039;;&quot; : &quot;&quot;,
									crossOriginLoading
										? `link.crossOrigin = ${JSON.stringify(
												crossOriginLoading
											)};`
										: &quot;&quot;,
									`if (${RuntimeGlobals.scriptNonce}) {`,
									Template.indent(
										`link.setAttribute(&quot;nonce&quot;, ${RuntimeGlobals.scriptNonce});`
									),
									&quot;}&quot;,
									&#039;link.rel = &quot;prefetch&quot;;&#039;,
									&#039;link.as = &quot;script&quot;;&#039;,
									`link.href = ${RuntimeGlobals.publicPath} + ${RuntimeGlobals.getChunkScriptFilename}(chunkId);`
								]),
								chunk
							),
							&quot;document.head.appendChild(link);&quot;
						]),
						&quot;}&quot;
					])};`
				: &quot;// no prefetching&quot;,
			&quot;&quot;,
			withPreload &amp;&amp; hasJsMatcher !== false
				? `${
						RuntimeGlobals.preloadChunkHandlers
					}.j = ${runtimeTemplate.basicFunction(&quot;chunkId&quot;, [
						isNeutralPlatform
							? &quot;if (typeof document === &#039;undefined&#039;) return;&quot;
							: &quot;&quot;,
						`if((!${
							RuntimeGlobals.hasOwnProperty
						}(installedChunks, chunkId) || installedChunks[chunkId] === undefined) &amp;&amp; ${
							hasJsMatcher === true ? &quot;true&quot; : hasJsMatcher(&quot;chunkId&quot;)
						}) {`,
						Template.indent([
							&quot;installedChunks[chunkId] = null;&quot;,
							linkPreload.call(
								Template.asString([
									&quot;var link = document.createElement(&#039;link&#039;);&quot;,
									charset ? &quot;link.charset = &#039;utf-8&#039;;&quot; : &quot;&quot;,
									`if (${RuntimeGlobals.scriptNonce}) {`,
									Template.indent(
										`link.setAttribute(&quot;nonce&quot;, ${RuntimeGlobals.scriptNonce});`
									),
									&quot;}&quot;,
									&#039;link.rel = &quot;modulepreload&quot;;&#039;,
									`link.href = ${RuntimeGlobals.publicPath} + ${RuntimeGlobals.getChunkScriptFilename}(chunkId);`,
									crossOriginLoading
										? crossOriginLoading === &quot;use-credentials&quot;
											? &#039;link.crossOrigin = &quot;use-credentials&quot;;&#039;
											: Template.asString([
													&quot;if (link.href.indexOf(window.location.origin + &#039;/&#039;) !== 0) {&quot;,
													Template.indent(
														`link.crossOrigin = ${JSON.stringify(
															crossOriginLoading
														)};`
													),
													&quot;}&quot;
												])
										: &quot;&quot;
								]),
								chunk
							),
							&quot;document.head.appendChild(link);&quot;
						]),
						&quot;}&quot;
					])};`
				: &quot;// no preloaded&quot;,
			&quot;&quot;,
			withExternalInstallChunk
				? Template.asString([
						`${RuntimeGlobals.externalInstallChunk} = installChunk;`
					])
				: &quot;// no external install chunk&quot;,
			&quot;&quot;,
			withOnChunkLoad
				? `${
						RuntimeGlobals.onChunksLoaded
					}.j = ${runtimeTemplate.returningFunction(
						&quot;installedChunks[chunkId] === 0&quot;,
						&quot;chunkId&quot;
					)};`
				: &quot;// no on chunks loaded&quot;
		]);
	}
}

module.exports = ModuleChunkLoadingRuntimeModule;
</textarea>
  </div>
</div>

<footer class="footer">
  <div class="container">
    <p>.</p>
  </div>
</footer>

<script type="text/html" id="complexity-popover-template">
  <div class="complexity-notice">
    Complexity : {{ complexity.cyclomatic }} <br>
    Length : {{ complexity.halstead.length }} <br>
    Difficulty : {{ complexity.halstead.difficulty.toFixed(2) }} <br>
    Est # bugs : {{ complexity.halstead.bugs.toFixed(2) }}<br>
  </div>
</script>

<script type="text/javascript" src="../../assets/scripts/bundles/core-bundle.js"></script>
<script type="text/javascript" src="../../assets/scripts/bundles/codemirror.js"></script>
<script type="text/javascript" src="../../assets/scripts/codemirror.markpopovertext.js"></script>
<script type="text/javascript" src="report.js"></script>
<script type="text/javascript" src="report.history.js"></script>
<script type="text/javascript" src="../../assets/scripts/plato-file.js"></script>
</body>
</html>
