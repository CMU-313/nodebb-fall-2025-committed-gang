<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Plato - node_modules/jquery-ui/ui/widgets/selectmenu.js</title>

  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="">
  <meta name="author" content="">

  <!--[if lt IE 9]>
  <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
  <![endif]-->

  <link href="../../assets/css/vendor/morris.css" rel="stylesheet" type="text/css">
  <link href="../../assets/css/vendor/bootstrap.css" rel="stylesheet" type="text/css">
  <link href="../../assets/css/vendor/font-awesome.css" rel="stylesheet" type="text/css">
  <link href="../../assets/css/vendor/codemirror.css" rel="stylesheet" type="text/css">
  <link href="../../assets/css/plato.css" rel="stylesheet" type="text/css">
  <link href="../../assets/css/plato-file.css" rel="stylesheet" type="text/css">

</head>

<body>

<div class="navbar navbar-fixed-top">
  <div class="container">
    <a class="navbar-brand" href="https://github.com/the-simian/es6-plato">ES6 Plato on Github</a>
    <ul class="nav navbar-nav">
      <li>
        <a href="../../index.html">Report Home</a>
      </li>
      <li class="active">
        <a href="display.html">Summary Display</a>
      </li>
    </ul>
  </div>
</div>

<div class="jumbotron">
  <div class="container">
    <h1>node_modules/jquery-ui/ui/widgets/selectmenu.js</h1>
  </div>
</div>

<div class="container aggregate-stats">
  <div class="row">
    <div class="col-md-6">
      <h2 class="header">Maintainability <a href="http://blogs.msdn.com/b/codeanalysis/archive/2007/11/20/maintainability-index-range-and-meaning.aspx"><i class="icon icon-info-sign" rel="popover" data-placement="top" data-trigger="hover" data-content="A value between 0 and 100 that represents the relative ease of maintaining the code. A high value means better maintainability." data-original-title="Maintainability Index"  data-container="body"></i></a></h2>
      <p class="stat">65.04</p>
    </div>
    <div class="col-md-6">
      <h2 class="header">Lines of code <i class="icon icon-info-sign" rel="popover" data-placement="top" data-trigger="hover" data-content="Source Lines of Code / Logical Lines of Code" data-original-title="SLOC/LSLOC" data-container="body"></i></h2>
      <p class="stat">667</p>
    </div>
  </div>
  <div class="row historical">
    <div class="col-md-6">
      <p id="chart_historical_maint" class="chart"></p>
    </div>
    <div class="col-md-6">
      <p id="chart_historical_sloc" class="chart"></p>
    </div>
  </div>
  <div class="row">
    <div class="col-md-6">
      <h2 class="header">Difficulty  <a href="http://en.wikipedia.org/wiki/Halstead_complexity_measures"><i class="icon icon-info-sign" rel="popover" data-placement="top" data-trigger="hover" data-content="The difficulty measure is related to the difficulty of the program to write or understand." data-original-title="Difficulty" data-container="body"></i></a></h2>
      <p class="stat">53.50</p>
    </div>
    <div class="col-md-6">
      <h2 class="header">Estimated Errors  <a href="http://en.wikipedia.org/wiki/Halstead_complexity_measures"><i class="icon icon-info-sign" rel="popover" data-placement="top" data-trigger="hover" data-content="Halstead's delivered bugs is an estimate for the number of errors in the implementation." data-original-title="Delivered Bugs" data-container="body"></i></a></h2>
      <p class="stat">6.36</p>
    </div>
  </div>
</div>

<div class="container charts">
  <div class="row">
    <h2 class="header">Function weight</h2>
  </div>
  <div class="row">
    <div class="col-md-6">
      <h3 class="chart-header">By Complexity <a href="http://en.wikipedia.org/wiki/Cyclomatic_complexity"><i class="icon icon-info-sign" rel="popover" data-placement="top" data-trigger="hover" data-content="This metric counts the number of distinct paths through a block of code. Lower values are better." data-original-title="Cyclomatic Complexity" data-container="body"></i></a></h3>
      <div id="fn-by-complexity" class="stat"></div>
    </div>
    <div class="col-md-6">
      <h3 class="chart-header">By SLOC  <i class="icon icon-info-sign" rel="popover" data-placement="top" data-trigger="hover" data-content="Source Lines of Code / Logical Lines of Code" data-original-title="SLOC/LSLOC" data-container="body"></i></h3>
      <div id="fn-by-sloc" class="stat"></div>
    </div>
  </div>
</div>

<div class="container">
  <div class="row">
    <textarea id="file-source" class="col-md-12">/*!
 * jQuery UI Selectmenu 1.14.1
 * https://jqueryui.com
 *
 * Copyright OpenJS Foundation and other contributors
 * Released under the MIT license.
 * https://jquery.org/license
 */

//&gt;&gt;label: Selectmenu
//&gt;&gt;group: Widgets
/* eslint-disable max-len */
//&gt;&gt;description: Duplicates and extends the functionality of a native HTML select element, allowing it to be customizable in behavior and appearance far beyond the limitations of a native select.
/* eslint-enable max-len */
//&gt;&gt;docs: https://api.jqueryui.com/selectmenu/
//&gt;&gt;demos: https://jqueryui.com/selectmenu/
//&gt;&gt;css.structure: ../../themes/base/core.css
//&gt;&gt;css.structure: ../../themes/base/selectmenu.css, ../../themes/base/button.css
//&gt;&gt;css.theme: ../../themes/base/theme.css

( function( factory ) {
	&quot;use strict&quot;;

	if ( typeof define === &quot;function&quot; &amp;&amp; define.amd ) {

		// AMD. Register as an anonymous module.
		define( [
			&quot;jquery&quot;,
			&quot;./menu&quot;,
			&quot;../form-reset-mixin&quot;,
			&quot;../keycode&quot;,
			&quot;../labels&quot;,
			&quot;../position&quot;,
			&quot;../unique-id&quot;,
			&quot;../version&quot;,
			&quot;../widget&quot;
		], factory );
	} else {

		// Browser globals
		factory( jQuery );
	}
} )( function( $ ) {
&quot;use strict&quot;;

return $.widget( &quot;ui.selectmenu&quot;, [ $.ui.formResetMixin, {
	version: &quot;1.14.1&quot;,
	defaultElement: &quot;&lt;select&gt;&quot;,
	options: {
		appendTo: null,
		classes: {
			&quot;ui-selectmenu-button-open&quot;: &quot;ui-corner-top&quot;,
			&quot;ui-selectmenu-button-closed&quot;: &quot;ui-corner-all&quot;
		},
		disabled: null,
		icons: {
			button: &quot;ui-icon-triangle-1-s&quot;
		},
		position: {
			my: &quot;left top&quot;,
			at: &quot;left bottom&quot;,
			collision: &quot;none&quot;
		},
		width: false,

		// Callbacks
		change: null,
		close: null,
		focus: null,
		open: null,
		select: null
	},

	_create: function() {
		var selectmenuId = this.element.uniqueId().attr( &quot;id&quot; );
		this.ids = {
			element: selectmenuId,
			button: selectmenuId + &quot;-button&quot;,
			menu: selectmenuId + &quot;-menu&quot;
		};

		this._drawButton();
		this._drawMenu();
		this._bindFormResetHandler();

		this._rendered = false;
		this.menuItems = $();
	},

	_drawButton: function() {
		var icon,
			that = this,
			item = this._parseOption(
				this.element.find( &quot;option:selected&quot; ),
				this.element[ 0 ].selectedIndex
			);

		// Associate existing label with the new button
		this.labels = this.element.labels().attr( &quot;for&quot;, this.ids.button );
		this._on( this.labels, {
			click: function( event ) {
				this.button.trigger( &quot;focus&quot; );
				event.preventDefault();
			}
		} );

		// Hide original select element
		this.element.hide();

		// Create button
		this.button = $( &quot;&lt;span&gt;&quot;, {
			tabindex: this.options.disabled ? -1 : 0,
			id: this.ids.button,
			role: &quot;combobox&quot;,
			&quot;aria-expanded&quot;: &quot;false&quot;,
			&quot;aria-autocomplete&quot;: &quot;list&quot;,
			&quot;aria-owns&quot;: this.ids.menu,
			&quot;aria-haspopup&quot;: &quot;true&quot;,
			title: this.element.attr( &quot;title&quot; )
		} )
			.insertAfter( this.element );

		this._addClass( this.button, &quot;ui-selectmenu-button ui-selectmenu-button-closed&quot;,
			&quot;ui-button ui-widget&quot; );

		icon = $( &quot;&lt;span&gt;&quot; ).appendTo( this.button );
		this._addClass( icon, &quot;ui-selectmenu-icon&quot;, &quot;ui-icon &quot; + this.options.icons.button );
		this.buttonItem = this._renderButtonItem( item )
			.appendTo( this.button );

		if ( this.options.width !== false ) {
			this._resizeButton();
		}

		this._on( this.button, this._buttonEvents );
		this.button.one( &quot;focusin&quot;, function() {

			// Delay rendering the menu items until the button receives focus.
			// The menu may have already been rendered via a programmatic open.
			if ( !that._rendered ) {
				that._refreshMenu();
			}
		} );
	},

	_drawMenu: function() {
		var that = this;

		// Create menu
		this.menu = $( &quot;&lt;ul&gt;&quot;, {
			&quot;aria-hidden&quot;: &quot;true&quot;,
			&quot;aria-labelledby&quot;: this.ids.button,
			id: this.ids.menu
		} );

		// Wrap menu
		this.menuWrap = $( &quot;&lt;div&gt;&quot; ).append( this.menu );
		this._addClass( this.menuWrap, &quot;ui-selectmenu-menu&quot;, &quot;ui-front&quot; );
		this.menuWrap.appendTo( this._appendTo() );

		// Initialize menu widget
		this.menuInstance = this.menu
			.menu( {
				classes: {
					&quot;ui-menu&quot;: &quot;ui-corner-bottom&quot;
				},
				role: &quot;listbox&quot;,
				select: function( event, ui ) {
					event.preventDefault();
					that._select( ui.item.data( &quot;ui-selectmenu-item&quot; ), event );
				},
				focus: function( event, ui ) {
					var item = ui.item.data( &quot;ui-selectmenu-item&quot; );

					// Prevent inital focus from firing and check if its a newly focused item
					if ( that.focusIndex != null &amp;&amp; item.index !== that.focusIndex ) {
						that._trigger( &quot;focus&quot;, event, { item: item } );
						if ( !that.isOpen ) {
							that._select( item, event );
						}
					}
					that.focusIndex = item.index;

					that.button.attr( &quot;aria-activedescendant&quot;,
						that.menuItems.eq( item.index ).attr( &quot;id&quot; ) );
				}
			} )
			.menu( &quot;instance&quot; );

		// Don&#039;t close the menu on mouseleave
		this.menuInstance._off( this.menu, &quot;mouseleave&quot; );

		// Cancel the menu&#039;s collapseAll on document click
		this.menuInstance._closeOnDocumentClick = function() {
			return false;
		};

		// Selects often contain empty items, but never contain dividers
		this.menuInstance._isDivider = function() {
			return false;
		};
	},

	refresh: function() {
		this._refreshMenu();
		this.buttonItem.replaceWith(
			this.buttonItem = this._renderButtonItem(

				// Fall back to an empty object in case there are no options
				this._getSelectedItem().data( &quot;ui-selectmenu-item&quot; ) || {}
			)
		);
		if ( this.options.width === null ) {
			this._resizeButton();
		}
	},

	_refreshMenu: function() {
		var item,
			options = this.element.find( &quot;option&quot; );

		this.menu.empty();

		this._parseOptions( options );
		this._renderMenu( this.menu, this.items );

		this.menuInstance.refresh();
		this.menuItems = this.menu.find( &quot;li&quot; )
			.not( &quot;.ui-selectmenu-optgroup&quot; )
				.find( &quot;.ui-menu-item-wrapper&quot; );

		this._rendered = true;

		if ( !options.length ) {
			return;
		}

		item = this._getSelectedItem();

		// Update the menu to have the correct item focused
		this.menuInstance.focus( null, item );
		this._setAria( item.data( &quot;ui-selectmenu-item&quot; ) );

		// Set disabled state
		this._setOption( &quot;disabled&quot;, this.element.prop( &quot;disabled&quot; ) );
	},

	open: function( event ) {
		if ( this.options.disabled ) {
			return;
		}

		// If this is the first time the menu is being opened, render the items
		if ( !this._rendered ) {
			this._refreshMenu();
		} else {

			// Menu clears focus on close, reset focus to selected item
			this._removeClass( this.menu.find( &quot;.ui-state-active&quot; ), null, &quot;ui-state-active&quot; );
			this.menuInstance.focus( null, this._getSelectedItem() );
		}

		// If there are no options, don&#039;t open the menu
		if ( !this.menuItems.length ) {
			return;
		}

		this.isOpen = true;
		this._toggleAttr();
		this._resizeMenu();
		this._position();

		this._on( this.document, this._documentClick );

		this._trigger( &quot;open&quot;, event );
	},

	_position: function() {
		this.menuWrap.position( $.extend( { of: this.button }, this.options.position ) );
	},

	close: function( event ) {
		if ( !this.isOpen ) {
			return;
		}

		this.isOpen = false;
		this._toggleAttr();

		this.range = null;
		this._off( this.document );

		this._trigger( &quot;close&quot;, event );
	},

	widget: function() {
		return this.button;
	},

	menuWidget: function() {
		return this.menu;
	},

	_renderButtonItem: function( item ) {
		var buttonItem = $( &quot;&lt;span&gt;&quot; );

		this._setText( buttonItem, item.label );
		this._addClass( buttonItem, &quot;ui-selectmenu-text&quot; );

		return buttonItem;
	},

	_renderMenu: function( ul, items ) {
		var that = this,
			currentOptgroup = &quot;&quot;;

		$.each( items, function( index, item ) {
			var li;

			if ( item.optgroup !== currentOptgroup ) {
				li = $( &quot;&lt;li&gt;&quot;, {
					text: item.optgroup
				} );
				that._addClass( li, &quot;ui-selectmenu-optgroup&quot;, &quot;ui-menu-divider&quot; +
					( item.element.parent( &quot;optgroup&quot; ).prop( &quot;disabled&quot; ) ?
						&quot; ui-state-disabled&quot; :
						&quot;&quot; ) );

				li.appendTo( ul );

				currentOptgroup = item.optgroup;
			}

			that._renderItemData( ul, item );
		} );
	},

	_renderItemData: function( ul, item ) {
		return this._renderItem( ul, item ).data( &quot;ui-selectmenu-item&quot;, item );
	},

	_renderItem: function( ul, item ) {
		var li = $( &quot;&lt;li&gt;&quot; ),
			wrapper = $( &quot;&lt;div&gt;&quot;, {
				title: item.element.attr( &quot;title&quot; )
			} );

		if ( item.disabled ) {
			this._addClass( li, null, &quot;ui-state-disabled&quot; );
		}

		if ( item.hidden ) {
			li.prop( &quot;hidden&quot;, true );
		} else {
			this._setText( wrapper, item.label );
		}

		return li.append( wrapper ).appendTo( ul );
	},

	_setText: function( element, value ) {
		if ( value ) {
			element.text( value );
		} else {
			element.html( &quot;&amp;#160;&quot; );
		}
	},

	_move: function( direction, event ) {
		var item, next,
			filter = &quot;.ui-menu-item&quot;;

		if ( this.isOpen ) {
			item = this.menuItems.eq( this.focusIndex ).parent( &quot;li&quot; );
		} else {
			item = this.menuItems.eq( this.element[ 0 ].selectedIndex ).parent( &quot;li&quot; );
			filter += &quot;:not(.ui-state-disabled)&quot;;
		}

		if ( direction === &quot;first&quot; || direction === &quot;last&quot; ) {
			next = item[ direction === &quot;first&quot; ? &quot;prevAll&quot; : &quot;nextAll&quot; ]( filter ).eq( -1 );
		} else {
			next = item[ direction + &quot;All&quot; ]( filter ).eq( 0 );
		}

		if ( next.length ) {
			this.menuInstance.focus( event, next );
		}
	},

	_getSelectedItem: function() {
		return this.menuItems.eq( this.element[ 0 ].selectedIndex ).parent( &quot;li&quot; );
	},

	_toggle: function( event ) {
		this[ this.isOpen ? &quot;close&quot; : &quot;open&quot; ]( event );
	},

	_setSelection: function() {
		var selection;

		if ( !this.range ) {
			return;
		}

		selection = window.getSelection();
		selection.removeAllRanges();
		selection.addRange( this.range );
	},

	_documentClick: {
		mousedown: function( event ) {
			if ( !this.isOpen ) {
				return;
			}

			if ( !$( event.target ).closest( &quot;.ui-selectmenu-menu, #&quot; +
				CSS.escape( this.ids.button ) ).length ) {
				this.close( event );
			}
		}
	},

	_buttonEvents: {

		// Prevent text selection from being reset when interacting with the selectmenu (#10144)
		mousedown: function() {
			var selection = window.getSelection();
			if ( selection.rangeCount ) {
				this.range = selection.getRangeAt( 0 );
			}
		},

		click: function( event ) {
			this._setSelection();
			this._toggle( event );
		},

		keydown: function( event ) {
			var preventDefault = true;
			switch ( event.keyCode ) {
			case $.ui.keyCode.TAB:
			case $.ui.keyCode.ESCAPE:
				this.close( event );
				preventDefault = false;
				break;
			case $.ui.keyCode.ENTER:
				if ( this.isOpen ) {
					this._selectFocusedItem( event );
				}
				break;
			case $.ui.keyCode.UP:
				if ( event.altKey ) {
					this._toggle( event );
				} else {
					this._move( &quot;prev&quot;, event );
				}
				break;
			case $.ui.keyCode.DOWN:
				if ( event.altKey ) {
					this._toggle( event );
				} else {
					this._move( &quot;next&quot;, event );
				}
				break;
			case $.ui.keyCode.SPACE:
				if ( this.isOpen ) {
					this._selectFocusedItem( event );
				} else {
					this._toggle( event );
				}
				break;
			case $.ui.keyCode.LEFT:
				this._move( &quot;prev&quot;, event );
				break;
			case $.ui.keyCode.RIGHT:
				this._move( &quot;next&quot;, event );
				break;
			case $.ui.keyCode.HOME:
			case $.ui.keyCode.PAGE_UP:
				this._move( &quot;first&quot;, event );
				break;
			case $.ui.keyCode.END:
			case $.ui.keyCode.PAGE_DOWN:
				this._move( &quot;last&quot;, event );
				break;
			default:
				this.menu.trigger( event );
				preventDefault = false;
			}

			if ( preventDefault ) {
				event.preventDefault();
			}
		}
	},

	_selectFocusedItem: function( event ) {
		var item = this.menuItems.eq( this.focusIndex ).parent( &quot;li&quot; );
		if ( !item.hasClass( &quot;ui-state-disabled&quot; ) ) {
			this._select( item.data( &quot;ui-selectmenu-item&quot; ), event );
		}
	},

	_select: function( item, event ) {
		var oldIndex = this.element[ 0 ].selectedIndex;

		// Change native select element
		this.element[ 0 ].selectedIndex = item.index;
		this.buttonItem.replaceWith( this.buttonItem = this._renderButtonItem( item ) );
		this._setAria( item );
		this._trigger( &quot;select&quot;, event, { item: item } );

		if ( item.index !== oldIndex ) {
			this._trigger( &quot;change&quot;, event, { item: item } );
		}

		this.close( event );
	},

	_setAria: function( item ) {
		var id = this.menuItems.eq( item.index ).attr( &quot;id&quot; );

		this.button.attr( {
			&quot;aria-labelledby&quot;: id,
			&quot;aria-activedescendant&quot;: id
		} );
		this.menu.attr( &quot;aria-activedescendant&quot;, id );
	},

	_setOption: function( key, value ) {
		if ( key === &quot;icons&quot; ) {
			var icon = this.button.find( &quot;span.ui-icon&quot; );
			this._removeClass( icon, null, this.options.icons.button )
				._addClass( icon, null, value.button );
		}

		this._super( key, value );

		if ( key === &quot;appendTo&quot; ) {
			this.menuWrap.appendTo( this._appendTo() );
		}

		if ( key === &quot;width&quot; ) {
			this._resizeButton();
		}
	},

	_setOptionDisabled: function( value ) {
		this._super( value );

		this.menuInstance.option( &quot;disabled&quot;, value );
		this.button.attr( &quot;aria-disabled&quot;, value );
		this._toggleClass( this.button, null, &quot;ui-state-disabled&quot;, value );

		this.element.prop( &quot;disabled&quot;, value );
		if ( value ) {
			this.button.attr( &quot;tabindex&quot;, -1 );
			this.close();
		} else {
			this.button.attr( &quot;tabindex&quot;, 0 );
		}
	},

	_appendTo: function() {
		var element = this.options.appendTo;

		if ( element ) {
			element = element.jquery || element.nodeType ?
				$( element ) :
				this.document.find( element ).eq( 0 );
		}

		if ( !element || !element[ 0 ] ) {
			element = this.element.closest( &quot;.ui-front, dialog&quot; );
		}

		if ( !element.length ) {
			element = this.document[ 0 ].body;
		}

		return element;
	},

	_toggleAttr: function() {
		this.button.attr( &quot;aria-expanded&quot;, this.isOpen );

		// We can&#039;t use two _toggleClass() calls here, because we need to make sure
		// we always remove classes first and add them second, otherwise if both classes have the
		// same theme class, it will be removed after we add it.
		this._removeClass( this.button, &quot;ui-selectmenu-button-&quot; +
			( this.isOpen ? &quot;closed&quot; : &quot;open&quot; ) )
			._addClass( this.button, &quot;ui-selectmenu-button-&quot; +
				( this.isOpen ? &quot;open&quot; : &quot;closed&quot; ) )
			._toggleClass( this.menuWrap, &quot;ui-selectmenu-open&quot;, null, this.isOpen );

		this.menu.attr( &quot;aria-hidden&quot;, !this.isOpen );
	},

	_resizeButton: function() {
		var width = this.options.width;

		// For `width: false`, just remove inline style and stop
		if ( width === false ) {
			this.button.css( &quot;width&quot;, &quot;&quot; );
			return;
		}

		// For `width: null`, match the width of the original element
		if ( width === null ) {
			width = this.element.show().outerWidth();
			this.element.hide();
		}

		this.button.outerWidth( width );
	},

	_resizeMenu: function() {
		this.menu.outerWidth( Math.max(
			this.button.outerWidth(),
			this.menu.width( &quot;&quot; ).outerWidth()
		) );
	},

	_getCreateOptions: function() {
		var options = this._super();

		options.disabled = this.element.prop( &quot;disabled&quot; );

		return options;
	},

	_parseOptions: function( options ) {
		var that = this,
			data = [];
		options.each( function( index, item ) {
			data.push( that._parseOption( $( item ), index ) );
		} );
		this.items = data;
	},

	_parseOption: function( option, index ) {
		var optgroup = option.parent( &quot;optgroup&quot; );

		return {
			element: option,
			index: index,
			value: option.val(),
			label: option.text(),
			hidden: optgroup.prop( &quot;hidden&quot; ) || option.prop( &quot;hidden&quot; ),
			optgroup: optgroup.attr( &quot;label&quot; ) || &quot;&quot;,
			disabled: optgroup.prop( &quot;disabled&quot; ) || option.prop( &quot;disabled&quot; )
		};
	},

	_destroy: function() {
		this._unbindFormResetHandler();
		this.menuWrap.remove();
		this.button.remove();
		this.element.show();
		this.element.removeUniqueId();
		this.labels.attr( &quot;for&quot;, this.ids.element );
	}
} ] );

} );
</textarea>
  </div>
</div>

<footer class="footer">
  <div class="container">
    <p>.</p>
  </div>
</footer>

<script type="text/html" id="complexity-popover-template">
  <div class="complexity-notice">
    Complexity : {{ complexity.cyclomatic }} <br>
    Length : {{ complexity.halstead.length }} <br>
    Difficulty : {{ complexity.halstead.difficulty.toFixed(2) }} <br>
    Est # bugs : {{ complexity.halstead.bugs.toFixed(2) }}<br>
  </div>
</script>

<script type="text/javascript" src="../../assets/scripts/bundles/core-bundle.js"></script>
<script type="text/javascript" src="../../assets/scripts/bundles/codemirror.js"></script>
<script type="text/javascript" src="../../assets/scripts/codemirror.markpopovertext.js"></script>
<script type="text/javascript" src="report.js"></script>
<script type="text/javascript" src="report.history.js"></script>
<script type="text/javascript" src="../../assets/scripts/plato-file.js"></script>
</body>
</html>
