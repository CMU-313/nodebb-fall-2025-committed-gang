<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Plato - node_modules/mocha/bin/mocha.js</title>

  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="">
  <meta name="author" content="">

  <!--[if lt IE 9]>
  <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
  <![endif]-->

  <link href="../../assets/css/vendor/morris.css" rel="stylesheet" type="text/css">
  <link href="../../assets/css/vendor/bootstrap.css" rel="stylesheet" type="text/css">
  <link href="../../assets/css/vendor/font-awesome.css" rel="stylesheet" type="text/css">
  <link href="../../assets/css/vendor/codemirror.css" rel="stylesheet" type="text/css">
  <link href="../../assets/css/plato.css" rel="stylesheet" type="text/css">
  <link href="../../assets/css/plato-file.css" rel="stylesheet" type="text/css">

</head>

<body>

<div class="navbar navbar-fixed-top">
  <div class="container">
    <a class="navbar-brand" href="https://github.com/the-simian/es6-plato">ES6 Plato on Github</a>
    <ul class="nav navbar-nav">
      <li>
        <a href="../../index.html">Report Home</a>
      </li>
      <li class="active">
        <a href="display.html">Summary Display</a>
      </li>
    </ul>
  </div>
</div>

<div class="jumbotron">
  <div class="container">
    <h1>node_modules/mocha/bin/mocha.js</h1>
  </div>
</div>

<div class="container aggregate-stats">
  <div class="row">
    <div class="col-md-6">
      <h2 class="header">Maintainability <a href="http://blogs.msdn.com/b/codeanalysis/archive/2007/11/20/maintainability-index-range-and-meaning.aspx"><i class="icon icon-info-sign" rel="popover" data-placement="top" data-trigger="hover" data-content="A value between 0 and 100 that represents the relative ease of maintaining the code. A high value means better maintainability." data-original-title="Maintainability Index"  data-container="body"></i></a></h2>
      <p class="stat">82.73</p>
    </div>
    <div class="col-md-6">
      <h2 class="header">Lines of code <i class="icon icon-info-sign" rel="popover" data-placement="top" data-trigger="hover" data-content="Source Lines of Code / Logical Lines of Code" data-original-title="SLOC/LSLOC" data-container="body"></i></h2>
      <p class="stat">143</p>
    </div>
  </div>
  <div class="row historical">
    <div class="col-md-6">
      <p id="chart_historical_maint" class="chart"></p>
    </div>
    <div class="col-md-6">
      <p id="chart_historical_sloc" class="chart"></p>
    </div>
  </div>
  <div class="row">
    <div class="col-md-6">
      <h2 class="header">Difficulty  <a href="http://en.wikipedia.org/wiki/Halstead_complexity_measures"><i class="icon icon-info-sign" rel="popover" data-placement="top" data-trigger="hover" data-content="The difficulty measure is related to the difficulty of the program to write or understand." data-original-title="Difficulty" data-container="body"></i></a></h2>
      <p class="stat">26.16</p>
    </div>
    <div class="col-md-6">
      <h2 class="header">Estimated Errors  <a href="http://en.wikipedia.org/wiki/Halstead_complexity_measures"><i class="icon icon-info-sign" rel="popover" data-placement="top" data-trigger="hover" data-content="Halstead's delivered bugs is an estimate for the number of errors in the implementation." data-original-title="Delivered Bugs" data-container="body"></i></a></h2>
      <p class="stat">0.91</p>
    </div>
  </div>
</div>

<div class="container charts">
  <div class="row">
    <h2 class="header">Function weight</h2>
  </div>
  <div class="row">
    <div class="col-md-6">
      <h3 class="chart-header">By Complexity <a href="http://en.wikipedia.org/wiki/Cyclomatic_complexity"><i class="icon icon-info-sign" rel="popover" data-placement="top" data-trigger="hover" data-content="This metric counts the number of distinct paths through a block of code. Lower values are better." data-original-title="Cyclomatic Complexity" data-container="body"></i></a></h3>
      <div id="fn-by-complexity" class="stat"></div>
    </div>
    <div class="col-md-6">
      <h3 class="chart-header">By SLOC  <i class="icon icon-info-sign" rel="popover" data-placement="top" data-trigger="hover" data-content="Source Lines of Code / Logical Lines of Code" data-original-title="SLOC/LSLOC" data-container="body"></i></h3>
      <div id="fn-by-sloc" class="stat"></div>
    </div>
  </div>
</div>

<div class="container">
  <div class="row">
    <textarea id="file-source" class="col-md-12">//#!/usr/bin/env node

&#039;use strict&#039;;

/**
 * This wrapper executable checks for known node flags and appends them when found,
 * before invoking the &quot;real&quot; executable (`lib/cli/cli.js`)
 *
 * @module bin/mocha
 * @private
 */

const {loadOptions} = require(&#039;../lib/cli/options&#039;);
const {
  unparseNodeFlags,
  isNodeFlag,
  impliesNoTimeouts
} = require(&#039;../lib/cli/node-flags&#039;);
const unparse = require(&#039;yargs-unparser&#039;);
const debug = require(&#039;debug&#039;)(&#039;mocha:cli:mocha&#039;);
const {aliases} = require(&#039;../lib/cli/run-option-metadata&#039;);

const mochaArgs = {};
const nodeArgs = {};
let hasInspect = false;

const opts = loadOptions(process.argv.slice(2));
debug(&#039;loaded opts&#039;, opts);

/**
 * Given option/command `value`, disable timeouts if applicable
 * @param {string} [value] - Value to check
 * @ignore
 */
const disableTimeouts = value =&gt; {
  if (impliesNoTimeouts(value)) {
    debug(&#039;option %s disabled timeouts&#039;, value);
    mochaArgs.timeout = 0;
  }
};

/**
 * If `value` begins with `v8-` and is not explicitly `v8-options`, remove prefix
 * @param {string} [value] - Value to check
 * @returns {string} `value` with prefix (maybe) removed
 * @ignore
 */
const trimV8Option = value =&gt;
  value !== &#039;v8-options&#039; &amp;&amp; /^v8-/.test(value) ? value.slice(3) : value;

// sort options into &quot;node&quot; and &quot;mocha&quot; buckets
Object.keys(opts).forEach(opt =&gt; {
  if (isNodeFlag(opt)) {
    nodeArgs[trimV8Option(opt)] = opts[opt];
  } else {
    mochaArgs[opt] = opts[opt];
  }
});

// disable &#039;timeout&#039; for debugFlags
Object.keys(nodeArgs).forEach(opt =&gt; disableTimeouts(opt));
mochaArgs[&#039;node-option&#039;] &amp;&amp;
  mochaArgs[&#039;node-option&#039;].forEach(opt =&gt; disableTimeouts(opt));

// Native debugger handling
// see https://nodejs.org/api/debugger.html#debugger_debugger
// look for &#039;inspect&#039; that would launch this debugger,
// remove it from Mocha&#039;s opts and prepend it to Node&#039;s opts.
// A deprecation warning will be printed by node, if applicable.
// (mochaArgs._ are &quot;positional&quot; arguments, not prefixed with - or --)
if (mochaArgs._) {
  const i = mochaArgs._.findIndex(val =&gt; val === &#039;inspect&#039;);
  if (i &gt; -1) {
    mochaArgs._.splice(i, 1);
    disableTimeouts(&#039;inspect&#039;);
    hasInspect = true;
  }
}

if (mochaArgs[&#039;node-option&#039;] || Object.keys(nodeArgs).length || hasInspect) {
  const {spawn} = require(&#039;node:child_process&#039;);
  const mochaPath = require.resolve(&#039;../lib/cli/cli.js&#039;);

  const nodeArgv =
    (mochaArgs[&#039;node-option&#039;] &amp;&amp; mochaArgs[&#039;node-option&#039;].map(v =&gt; &#039;--&#039; + v)) ||
    unparseNodeFlags(nodeArgs);

  if (hasInspect) nodeArgv.unshift(&#039;inspect&#039;);
  delete mochaArgs[&#039;node-option&#039;];

  debug(&#039;final node argv&#039;, nodeArgv);

  const args = [].concat(
    nodeArgv,
    mochaPath,
    unparse(mochaArgs, {alias: aliases})
  );

  debug(
    &#039;forking child process via command: %s %s&#039;,
    process.execPath,
    args.join(&#039; &#039;)
  );

  const proc = spawn(process.execPath, args, {
    stdio: &#039;inherit&#039;
  });

  proc.on(&#039;exit&#039;, (code, signal) =&gt; {
    process.on(&#039;exit&#039;, () =&gt; {
      if (signal) {
        process.kill(process.pid, signal);
      } else {
        process.exit(code);
      }
    });
  });

  // terminate children.
  process.on(&#039;SIGINT&#039;, () =&gt; {
    // XXX: a previous comment said this would abort the runner, but I can&#039;t see that it does
    // anything with the default runner.
    debug(&#039;main process caught SIGINT&#039;);
    proc.kill(&#039;SIGINT&#039;);
    // if running in parallel mode, we will have a proper SIGINT handler, so the below won&#039;t
    // be needed.
    if (!args.parallel || args.jobs &lt; 2) {
      // win32 does not support SIGTERM, so use next best thing.
      if (require(&#039;node:os&#039;).platform() === &#039;win32&#039;) {
        proc.kill(&#039;SIGKILL&#039;);
      } else {
        // using SIGKILL won&#039;t cleanly close the output streams, which can result
        // in cut-off text or a befouled terminal.
        debug(&#039;sending SIGTERM to child process&#039;);
        proc.kill(&#039;SIGTERM&#039;);
      }
    }
  });
} else {
  debug(&#039;running Mocha in-process&#039;);
  require(&#039;../lib/cli/cli&#039;).main([], mochaArgs);
}
</textarea>
  </div>
</div>

<footer class="footer">
  <div class="container">
    <p>.</p>
  </div>
</footer>

<script type="text/html" id="complexity-popover-template">
  <div class="complexity-notice">
    Complexity : {{ complexity.cyclomatic }} <br>
    Length : {{ complexity.halstead.length }} <br>
    Difficulty : {{ complexity.halstead.difficulty.toFixed(2) }} <br>
    Est # bugs : {{ complexity.halstead.bugs.toFixed(2) }}<br>
  </div>
</script>

<script type="text/javascript" src="../../assets/scripts/bundles/core-bundle.js"></script>
<script type="text/javascript" src="../../assets/scripts/bundles/codemirror.js"></script>
<script type="text/javascript" src="../../assets/scripts/codemirror.markpopovertext.js"></script>
<script type="text/javascript" src="report.js"></script>
<script type="text/javascript" src="report.history.js"></script>
<script type="text/javascript" src="../../assets/scripts/plato-file.js"></script>
</body>
</html>
